	SEARCH	MTHPRM,FORPRM,MACSYM
	TV	RMSFND See if RMS is around to be invoked
	SUBTTL	TGS

;COPYRIGHT (c) DIGITAL EQUIPMENT CORPORATION 1987
;ALL RIGHTS RESERVED.
;
;THIS SOFTWARE IS FURNISHED UNDER A LICENSE AND MAY BE USED AND COPIED
;ONLY  IN  ACCORDANCE  WITH  THE  TERMS  OF  SUCH LICENSE AND WITH THE
;INCLUSION OF THE ABOVE COPYRIGHT NOTICE.  THIS SOFTWARE OR ANY  OTHER
;COPIES THEREOF MAY NOT BE PROVIDED OR OTHERWISE MADE AVAILABLE TO ANY
;OTHER PERSON.  NO TITLE TO AND OWNERSHIP OF THE  SOFTWARE  IS  HEREBY
;TRANSFERRED.
;
;THE INFORMATION IN THIS SOFTWARE IS SUBJECT TO CHANGE WITHOUT  NOTICE
;AND  SHOULD  NOT  BE  CONSTRUED  AS A COMMITMENT BY DIGITAL EQUIPMENT
;CORPORATION.
;
;DIGITAL ASSUMES NO RESPONSIBILITY FOR THE USE OR RELIABILITY  OF  ITS
;SOFTWARE ON EQUIPMENT WHICH IS NOT SUPPLIED BY DIGITAL.

	HELLO	(RMSFND)

	PUSH	P,T2				;Save T2

	MOVX	T1,GJ%SHT+GJ%OLD+GJ%PHY		;Check for the RTL
	HRROI	T2,[ASCIZ /SYS:RTL.EXE/]
	GTJFN%
	 ERJMP	RETFAL				;Not there

	RLJFN%					;Release JFN
	 ERJMP	.+1

	MOVX	T1,GJ%SHT+GJ%OLD+GJ%PHY	;Check for XRMS.EXE
	HRROI	T2,[ASCIZ /SYS:XRMS.EXE/]
	GTJFN%
	 ERJMP	RETFAL				;Not there

	RLJFN%
	 ERJMP	.+1

	SETO	T0				;Return success
	JRST	POPRET

RETFAL:	SETZ	T0
POPRET:	POP	P,T2
	POPJ	P,
	END
