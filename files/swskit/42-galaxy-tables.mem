                       GALAXY TABLES

                      INDEX TO TABLES

MODULE	TABLE						PAGE

BATCON							1
	AC Definitions And Meanings			1
	  AC R Symbols, Bits, Definitions		1
	  AC F Symbols, Bits, and Definitions		2
	  AC J Symbols, Bits, and Definitions		3
	Batcon Global Data				4
	Batcon Local Data				6
	Data Base For Each Batch Stream			8
	Job Processor Data				10
	Control file Data				11
	Log File Data					12
	Operator/Quasar Interface Data			13
	Pty Data					14
	WTO/WTOR Data					15
	Scanner Data					16
	Label Data					17
	MDA And MODIFY Data				18
	Clock Queue Entries				19
CDRIVE							20
	AC Symbols, Bits, and Definitions		20
	Stream Status Bits				21
	Card Reader Data Base				21
	DN60 Data Base					22
	TOPS-10 Conditional Data			24
	TOPS-20 Conditional Data			25
	Random Impure Storage				26
	Scheduler Flags					27
	Resident Job Data Base				28
GLXLIB							29
	Message Header					29
	General message Format				30
	ACK Message Format				31
	JIB - Job Information Block			32
	OBJ - Object Descriptor				33
	FD  - File Descriptor 				34
	FOB - Parameter block passed to F%IOPN
	      and F%OOPN				36
	FRB - Parameter block passed to F%REN
	      for rename				37
	IB  - Initialization block for GALAXY programs	38
	PID - PID block					39
	SAB - Send Argument Block passed to C%SEND	40
	MDB - Message Descriptor Block returned
	      by C%RECV					41
	PDB - Parser Descriptor Block Definition	42
LPTSPL							43
	AC Symbols and Definitions			43
	Job Parameter Area				44
	Lpt Parameters					45
	Forms Parameters				48
	Random Impure Storage				53
	LPTSPL Data Base				55
	Flag Definitions				57
	Scheduler Flags					58
MOUNTR							59
	Device Status File				59
	WTB - Write-To-Operator-With-Reply-Block	60
	Tape Mount Request Block			61
	Structure Mount Request Block			62
	MTA - Status Block				63
	MT  - Status Block				64
	Disk Status Block				65
	STR - Status Block				66
	Magtap Account Status Block			67
	Structure Account Status Block			68
OPR							69
	AC Symbols, Bits, and Definitions		69
	OPR Impure Data					70
	Storage For Parser To Event Processor Comm	70
	Storage For Display Processing			71
OPRPAR							73
	Parser Data Base And Constants			73
	Storage For $TEXT Character Storer		75
	Storage For Parser To Event Processor Comm	76
	Take Storage					76
ORION							77
	Global Storage					77
	Main Local Data Storage				79
	Temporary Storage For Text Mover		79
	Byte Pointer For Common Text Storage Routine	79
	WTO Local Storage				81
	General Local Storage				82
	Job Related Global Data For Log And Display	83
	NSP Data For Links Local Storage		84
ORNMAC							85
	AC Symbols and Definitions			85
	Orion Message Codes				86
	Message Codes Used For Tape And Disk Commands   87
	Orion Command Messages				88
	General Data Types For All Messages		88
	OPRHEL -- OPR Hello Message To Orion		89
	Start, Stop(Pause), Continue And Shutdown	90
	OPRSET -- OPR Setup Message From Orion		91
	OPRSTR -- OPR Setup Reply To Orion		92
	APLHEL -- Application Hello Message		93
	Application Hello Types				93
	APLACK -- Acknowledgement To Application Hello  94
	Application Hello Acknowledgement Types		94
	The Set Message					95
	Argument Types And Values			95
	Forwardspace And Backspace Commands		97
	Object Block Type				97
	Hold And Release Commands			98
	Modify Message					99
	Route Command					100
	Message for device routing (Type .OMRTD)	101
	Delete Command					102
	Send Message					103
	Notify Message					104
	Suppress Message				105
	Cancel Command Message				106
	Requeue Command Message				107
	Define Command Message				108
	Tape And Disk Commands				110
	Show Commands For Tapes				111
	Switch Command					112
	Dismount Command				113
	Recognize Command For TOPS-10			114
	Set Tape And Disk Commands			115
	Set Structure Command For Disks			116
	Set Tape XXX Initialize Command			117
	Enable And Disable Command For Tapes		118
	Mount Command For Tape And Disk			119
	Identify Message For Tapes			120
	Response Message				121
	Lock/Unlock Command				122
	Usage Accounting Message			123
	Command Message					124
	DN60 Command Message 				126
	WTO, WTOR, And ACK Formats For All Programs	127
	Align Message					129
	Status Message					130
	Show Control-File Message			131
	Show Status Message				132
	Show Status IBM-Node				133
	Show Paramaters IBM-Node			134
	Modify System-ListS Message			135
	Show System-List Message			136
	Show Allocation Message				137
	Node/Operator Data Base				138
	Opr List Entry					139
	OPR Table Data Base Structure			141
	Operator Message List Entry			142
	Parser Storage Allocation Definitions		143
	Parser Data Block Definitions			144
	Parser Flag Symbols, Bits, and Definitions	145
	Parser Argument Block Description		146
	Parser Action Routine Argument Block Desc.	147
	Parser Return Block Definition			148
	Parser Keyword Table Description		149
	Resend List Data Base				150
	Send Failure Data Base				151
	Data Structures For The TOPS-20 Server		152
	Active Network Servers				152
QMANGR							153
	Queue Independent Header			153
	Input Queue Header Extensions			156
	Output Queue Header Extensions			158
	Filespec Modify Block				160
	Paper Formats					161
	Control File Offsets				162
	Log File Offsets				163
	Output File Offsets				164
QSRFSS							165
QSRMAC							166
	RDB -- Request Descriptor Block			166
	ROB -- Requested Object Block			167
	DIB -- Dependency Information Block		168
	QH  -- Queue Header Definitions			169
	EV  -- Timed Event Block Definitions		171
	QE  -- Queue Entry Definitions			172
	Job Information Block Description		174
	OBJ -- Object Queue				175
	OBJPRM Block					176
	Output Parameters				176
	Batch Parameters				177
	Retrieve-Stream Parameters			177
	Status Values For OBJSTS And OBJST1		178
	PSB -- Processor Status Block			179
	SPL -- Spool Queue Definition			180
	STR -- Structure Queue Definition		181
	Network Data Base Structure			182
	Route Table Entry Description			184
	CSM -- Canonical Spool Message			185
	CLM -- Canonical Logout Message			186
	QUASAR Messages					187
	External Operations				187
	HELLO Message					189
	RELEASE Message					190
	REQUEUE Message					191
	CHECKPOINT Message				192
	EQ  -- External Queue Entry			193
	Job Information Block Description		196
	File Parameter Area For Output Queues 		197
	File Parameter Area For Input Queue		198
	Paper Formats					199
	ABORT Message					201
	LIST Message					202
	MODIFY Message					204
	KILL Message					205
	LIST ANSWER Message				206
	REQUEST For CHECKPOINT Message			207
	DEFER Message					208
	Event Counters					209
	COUNT Message					210
	COUNTANSWER Message				211
	SETUP/SHUTDOWN Message				212
	RESPONSE-TO-SETUP Message			213
	HOLD/RELEASE Message				214
	SPOOL Message (TOPS-10)				215
	SPOOL Message (TOPS-20)				217
	LOGOUT Message (TOPS-10)			218
	LOGOUT Message (TOPS-20)			219
	Monitor Login Message Processor			220
	TAPE ONLINE Message				221
	DEVICE STATUS UPDATE Message			222
	TAPE DEASSIGN/DISMOUNT Message			223
	Disk Unit ATTACH/DETACH Message			224
	Disk Unit XCHANGE Message			225
	Structure Removal Message			226
	Magtape Unit Accessible Message			227
	NODE-WENT-AWAY NOTIFICATION Message		228
	CREATE QUEUE ENTRY Message			229
	File Spec Block					229
	Number Of Copies Block				229
	Forms Type Block				229
	File Format Block				229
	Output Disposition Block			229
	Unit Type					230
	After Block					230
	Limit Block					230
	Unique Block					230
	Restart Block					230
	Output Block					230
	Account String Block				231
	Queue Type Block				231
	Destination Node Block				231
	User Name Block					231
	Users Number Block				231
	Notify Block					231
	Batlog Block					231
	Job Name Block					232
	Connectied Directory Block			232
	Note Block					232
	Begin Block					232
	Priority Block					232
	Free Running Device Limit Block (DBMS)		232
	RECOGNIZE Message				233
	TAPE STATUS Message				234
	TAPE DRIVE UNLOAD And REWIND Message		235
	VOLUME DISMOUNT Message				236
	VOLUME SWITCH Request				237
	Volume Switch Directive From MDA		238
	Request For System Catalog Information		239
	Catalog Information Message			240
	Internal Catalog Cache				242
	Build A Structure Message			243
	MDA ACK Message					244
	ADD/REMOVE A Structure To A Users Search List	245
	DISMOUNT/DEALLOCATE A Volume Set Message	246
	.QOALC - Prescan A Control File For Allocation	247
	.QOPRM - Response To .QOALC Request		248
	.QOIDN - Tape Initialization			249
	LPTSPL Forms Change Message			250
	IBMCOM Statistic Message			251
	Rebuild Codes					252
	MTCON Mount Structures				253
	Mount Requests Within Message			254
	Tape Mount Request Block			255
	IPCF Message Sent From QUASAR to MTCON		258
	Response To User Tape Mount Request		259
	MTCON Or QUASAR Response To User Message	261
	Response To User Cancel Request			263
	ABORT Message					264
	MOUNT RELEASE Message				265
	CHECKPOINT Message Definitions			266
	QUASAR Tape Mount Request Queue Structure	267
	Volume Set List Structure			268
	VOL -- Volume List Structure			270
	Unit Control Block Structure			272
	Allocation And Deadlock Avoidance Matrices	273
	Request For Mount Attributes			276
	Response To Request For Mount Attributes	277
	ARCHIVE Message 				278
QUASAR							279
	Global Storage Within QUASAR			279
SPRINT							281
	AC Symbols, Bits, And Description		281
	AUXACC.SYS Entries				282
	Lowsegment Storage Cells			282
SPROUT							290
	Job Parameter Area				290
	Request Parameters				290
	DEV Parameters					290
	Current Forms Parameters			292
	Card Punch Variables				292
	Plotter Variables				293
	Accounting Block				294
	Disk File Parameters				294
	Resident Job Data Base				295
						Page 1

				BATCON


AC DEFINITIONS AND MEANINGS

	Note:	The oreder of these ACs cannot easily be changed. See the
		context switching in the job scheduler.

		F==13		;MISCELLANEOUS STREAM FLAGS
		J==14		;JOB STATUS FLAGS
		S==15		;STREAM INDEX
		R==16		;RELOCATION INDEX FOR STREAM
			LH	;FLAGS
			RH	;BASE ADDRESS OF STREAM DATA
		P==17		;PDL FOR BATCON AND STREAMS


AC R

	 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17     RH
	+-------------------------------------------------------+
	| | | | | | | | | | |  |  |  |  |  |  |  |  |           |
	+-------------------------------------------------------+

	RL.ACT==1B0	Stream is active (must be sign bit)
	RL.ACK==1B1	Waiting for an ACK
	RL.OPR==1B2	Waiting for operator response
	RL.JIE==1B3	Job is in error state
	RL.KJB==1B4	Auto KJOB line sent
	RL.CLK==1B5	Clock is request pending
	RL.MSP==1B6	Message ready to process
	RL.LGI==1B7	Job logging in now
	RL.QTS==1B8	Quotes seen
	RL.DIA==1B9	Dialogue mode
	RL.STP==1B10	Stopped by the operator
	RL.NLG==1B11	No log file available
	RL.MIP==1B12	Operator message being processed
	RL.FLS==1B13	Request to flush job
	RL.DRT==1B14	Delay response buffer typout
	RL.FKJ==1B15	Kill job fast without QUASAR/OPR help
	RL.REQ==1B16	Job being requeued
	RL.SHT==1B17	Shutdown stream at EOJ

Initial flags		RL.INI==Rl.ACT!RL.LGI	;job active, logging in
						Page 2

AC F

	 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 
	+-------------------------------------------+
	| | | | | | | | | | |  |  |  |  |  |  |  |  |
	+-------------------------------------------+

	 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35
	+-----------------------------------------------------+
	|  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |  |
	+-----------------------------------------------------+

	FL.RCL==1B0	Repeat command line
	FL.NER==1B1	NOERROR is in effect
	FL.SUP==1B2	Suppress EOL characters
	FL.SIL==1B3	SILENCE is in effect
	FL.TLE==1B4	Time limit exceeded
	FL.%XT==1B5	Extra time given
	FL.CFP==1B6	Carriage return read from a PTY
	FL.CTP==1B7	Carriage return sent to a PTY
	FL.ERR==1B8	Send error data with message
	FL.SPL==1B9	Special processing for message
	FL.LSL==1B11	List skipped lines in Label searches
	FL.FIN==1B12	Label search can pass a %FIN
	FL.UHE==1B13	Unhandled error occured
	FL.STS==1B14	Status update
	FL.LFE==1B15	Log file error on OPEN
	FL.CHK==1B16	Send checkpoint data and update
	FL.SCC==1B17	Sent ^C to stop the job
	FL.ECH==1B18	Line is PTY echo
	FL.NUL==1B19	Log file device is NUL:
	FL.EOJ==1B20	End of job processing done
	FL.UKJ==1B21	User requested KJOB

	Initial flag settings	FL.INI==0	;no flags
						Page 3

AC J
	 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17|    RH
	+-------------------------------------------------------+
	| | | | | | | | | | |  |  |  |  |  |  |  |  |    |      |
	+-------------------------------------------------------+

	JL.UJA==1B0	Job number assigned
	JL.ULI==1B1	Job logged in
	JL.UML==1B2	Job at monitor level
	JL.UOA==1B3	Output is available
	JL.UDI==1B4	Job can do input
	JL.UJC==1B5	JACCT is set
	JL.UNE==1B11	No echo is set
	JL.UJN==77B35	Job number

Checkpoint/Requeue Bits

	BA.JOB==1B0	Seen the job flag
	BA.ORQ==1B1	Job requeued by operator
	BA.URQ==1B2	User requeued the job
	BA.CHK==1B3	Checkpoint job by user

Message Processing Bits

	B.DEFR==400000	Flag to process by stream
	B.STCN==200000	Stop and continue operator message
						Page 4

			BATCON GLOBAL DATA


LOWDAT

	+-------------------------------------------------------+
G$PDL	|	    TOP LEVEL PUSHDOWN LIST			|  /|\
	|--------					--------|   |
	|							| TPSIZE
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
G$IB	|	  GLXLIB INITIALIZATION BLOCK			|  /|\
	|--------					--------|   |
	|							| IB.SZ
	|--------					--------|   |
	|							|   |
	|-------------------------------------------------------|  \|/
G$PIB	|	       GLXLIB PID BLOCK				|  /|\
	|--------					--------|   |
	|							| PB.MNS
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
G$SAB	|	GLXLIB IPCF SEND ARGUMENT BLOCK			|  /|\
	|--------					--------|   |
	|							| SAB.SZ
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
G$MDA	|		MDA FLAG				|
	|-------------------------------------------------------|
G$UDT	|	UNIVERSAL DATE/TIME LAST SCHEDULER PASS		|
	|-------------------------------------------------------|
G$CPU	|		CPU TYPE CODE				|
	|-------------------------------------------------------|
G$MADR	|	      MESSAGE ADDRESS				|
	|-------------------------------------------------------|
G$MIDX	|	  INDEX INTO MESSAGE TABLES			|
	|-------------------------------------------------------|
G$MBLK	|	    MESSAGE BLOCK POINTER			|
	|-------------------------------------------------------|
G$MARG	|	   MESSAGE ARGUMENT COUNT			|
	|-------------------------------------------------------|
G$CORE	|	 FLAG WORD FOR CORE CHECKING			|
	|-------------------------------------------------------|
G$NODE	|		BATCON'S NODE				|
	|-------------------------------------------------------|
G$SPLD	|	  SPOOLED PPN OR DIRECTORY NUMBER		|
	|-------------------------------------------------------|
G$PTYF	|	     FIRST PTY IN THE SYSTEM			|
	|-------------------------------------------------------|
G$PTYN	|	  NUMBER OF PTYS IN THE SYSTEM			|
	|-------------------------------------------------------|
	|							|
						Page 5

	|							|
	|-------------------------------------------------------|
G$TIME	|	 ASCIZ TIME FOR THE TIME STAMPS			|
	|--------					--------|
	|		    2 WORDS				|
	|-------------------------------------------------------|
G$STRM	|	     STREAM INDEX BLOCK				|  /|\
	|--------					--------|   |
	|							| JOBMAX
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
G$BASE	|	  STREAM DATA BASE POINTERS			|  /|\
	|--------					--------|   |
	|							| JOBMAX
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
G$FAIR	|		FAIRNESS COUNT				|
	|-------------------------------------------------------|
G$FFLG	|	  FAIRNESS COUNT EXPIRED FLAG			|
	|-------------------------------------------------------|
G$KILL	|		KILL ALL JOBS				|
	|-------------------------------------------------------|
G$PSCN	|		PRESCAN FLAG				|
	|-------------------------------------------------------|
G$HACT	|	  HIGHEST STREAM NUMBER ACTIVE			|
	|-------------------------------------------------------|
G$SACT	|	    NUMBER OF ACTIVE STREAMS			|
	|-------------------------------------------------------|
G$TMTX	|	     ASCIZ TIME TEXT BUFFER			|
	|--------					--------|
	|		   2 WORDS				|
	|-------------------------------------------------------|
	|							|
						Page 6

			LOCAL DATA

	|							|
	|-------------------------------------------------------|
WTOCNT	|		WTO BYTE COUNTER			|
	|-------------------------------------------------------|
WTOPTR	|		WTO BYTE POINTER			|
	|-------------------------------------------------------|
MSGADR	|		MESSAGE DATA AREA			|  /|\
	|--------					--------|   |
	|							| MAXSIZ
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
SCHTIM	|	  TIME SINCE LAST SCHEDULER PASS		|
	|-------------------------------------------------------|
CLKQUE	|	      CLOCK REQUEST QUEUE			|  /|\
	|--------					--------|   |
	|							| CQEMAX
	|--------						|   |
	|							|  \|/
	|-------------------------------------------------------|
CLKEND	|		END OF CLOCK QUEUE			|
	|-------------------------------------------------------|


			TOPS 10 ONLY

	+-------------------------------------------------------+
VECTOR	|	BEGINNING OF VECTOR INTERRUPT BLOCKS		|
	|-------------------------------------------------------|
VECIPC	|		IPCF INTERRUPT BLOCK			|
	|-------------------------------------------------------|
	|		    4 WORDS				|
	|-------------------------------------------------------|
	|							|
	|-------------------------------------------------------|
	|							|
	|-------------------------------------------------------|
	|							|
						Page 7

			TOPS-20 ONLY

	|							|
	|-------------------------------------------------------|
LEVTAB	|	     INTERRUPT LEVEL PC'S			|
	|-------------------------------------------------------|
	|		   3 WORDS				|
	|-------------------------------------------------------|
	|							|
	|-------------------------------------------------------|
CHNTAB	|	    INTERRUPT CHANNEL TABLE			|  /|\
	|--------					--------|   |
	|							| ^D36 WORDS
	|--------					--------|
	|							|
	|-------------------------------------------------------|
INTRP1	|	      INTERRUPT LEVEL 1 PC			|
	|-------------------------------------------------------|
INTRP2	|	      INTERRUPT LEVEL 2 PC			|
	|-------------------------------------------------------|
INTRP3	|	      INTERRUPT LEVEL 3 PC			|
	|-------------------------------------------------------|
JSTBLK	|	  GETJI JSYS JOB STATUS BLOCK			|  /|\
	|--------					--------|   |
	|							| .JIMAX
	|--------					--------|   |
	|							|  \|/
	|-------------------------------------------------------|
LASLOW	|	END OF BLOCK TO CLEAR ON START UP		|
	|-------------------------------------------------------|
						Page 8

		DATA BASE FOR EACH BATCH STREAM

	+-------------------------------------------------------+
.JQITN	|	INTERNAL NAME FROM QUASAR			|
	|-------------------------------------------------------|
.JQJBB	|	SIZE OF JOB INFORMATION BLOCK			| BLOCK JIBSIZ
	|-------------------------------------------------------|
.JQLIM	|	LIMIT WORDS FOR THE JOB				| /|\
	|------------					--------|  |
	|							| EQLMSZ
	|--------------				      ----------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQACT	|	ACCOUNTING STRING FOR THE JOB			| /|\
	|--------					--------|  |
	|							| 10 WORDS
	|-------------				      ----------|  |
	|							| \|/
	|-------------------------------------------------------|

			TOPS-10 ONLY

	+-------------------------------------------------------+
.JQPPN	|		USER'S PPN				|
	|-------------------------------------------------------|
.JQPAT	|	USER PATH INFORMATION				! /|\
	|---------					--------|  |
	|							| 6 WORDS
	|---------					--------|  |
	|							| \|/
	|-------------------------------------------------------|


			TOPS-20 ONLY

	+-------------------------------------------------------|
.JQNAM	|		USER NAME STRING			| /|\
	|--------					--------|  |
	|							| 10 WORDS
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQCON	|	   CONNECTED DIRECTORY STRING			| /|\
	|--------					--------|  |
	|							| 12 WORDS
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQSIS	|		SPOOLED FILE INFORMATION		|
	|-------------------------------------------------------|
						Page 9

		BOTH TOPS-10 AND TOPS-20

.JQCFP	+-------------------------------------------------------+
	|	SAVE CTL FP WORDS (2 OF 5)			!
	|-----------					--------|
	|		TWO WORDS				|
	|-------------------------------------------------------|
.JQCFD	|		CTL FILE FD				| /|\
	|--------					--------|  |
	|							| FDXSIZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQLFP	|	SAVE LOG FP WORDS (2 OF 5)			|
	|--------					--------|
	|							|
	|-------------------------------------------------------|
.JQLFD	|		LOG FILE FD				| /|\
	|--------					--------|  |
	|							| FDXSIZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQOBJ	|		OBJECT BLOCK				| /|\
	|--------					--------|  |
	|							| OBJ.SZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JQLOC	|		LOCATION FOR OUTPUT			|
	|-------------------------------------------------------|
						Page 10

			JOB PROCESSOR DATA

	+-------------------------------------------------------|
.JREGS	|		JOB PROCESSOR ACS			| /|\
	|--------					--------|  |
	|							| 20 WORDS
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JPLST	|		JOB PROCESSOR PDL			| /|\
	|--------					--------|  |
	|							| .JPSIZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JBSPS	|		STEP PROLOGUE SCAN ONLY			|
	|-------------------------------------------------------|
.JBECD	|		ERROR CODE FROM PTY			|
	|-------------------------------------------------------|
.JBECH	|		  ERROR CHARACTER			|
	|-------------------------------------------------------|
.JBOCH	|		OPERATOR CHARACTER			|
	|-------------------------------------------------------|
.JBJNO	|		    JOB NUMBER				|
	|-------------------------------------------------------|
.JBRTM	|	    RUNTIME (FOR BACKTO COMMAND)		|
	|-------------------------------------------------------|
.JBCHK	|		JOB CHECKPOINT FLAG			|
	|-------------------------------------------------------|
.JBCRQ	|	    CHECKPOINT/REQUEUE INFORMATION		| /|\
	|--------					--------|  |
	|							| EQCKSZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JBRQF	|		REQUEUE FLAGS				|
	|-------------------------------------------------------|
.JBRBP	|	    RESPONSE BYTE POINTER			|
	|-------------------------------------------------------|
.JBRSP	|		RESPONSE BUFFER				| /|\
	|--------					--------|  |
	|							| (PTYBLK-3)
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JBSPW	|	     STATUS POINTER WORD			|
	|-------------------------------------------------------|
						Page 11

			CONTROL FILE DATA

	+-------------------------------------------------------|
.JCFOB	|		FILE OPEN BLOCK				| /|\
	|--------					--------|  |
	|							| FOB.SZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JCIFN	|		IFN FILE OPENED ON			|
	|-------------------------------------------------------|
.JCPOS	|	CHECKPOINTED POSITION IN FILE			|
	|-------------------------------------------------------|
						Page 12

			LOG FILE DATA

	+-------------------------------------------------------|
.JLFOB	|		FILE OPEN BLOCK				| /|\
	|--------					--------|  |
	|							| FOB.SZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JLIFN	|		IFN FILE OPENED ON			|
	|-------------------------------------------------------|
.JLPTR	|	    BYTE POINTER TO FILE NAME			|
	|-------------------------------------------------------|
.JLTIM	|	TIME STAMP NEEDED IN THE LOG FILE		|
	|-------------------------------------------------------|
.JLHDR	|	    HEADER PAGE NUMBER (CORE)			|
	|-------------------------------------------------------|
.JLHCT	|		BYTE COUNTER				|
	|-------------------------------------------------------|
.JLHPT	|		BYTE POINTER				|
	|-------------------------------------------------------|
						Page 13

		    OPERATOR/QUASAR INTERFACE DATA

	+-------------------------------------------------------+
.JOVAL	|		VALID MESSAGE FLAG			|
	|-------------------------------------------------------|
.JOFLG	|		    FLAG WORD				|
	|-------------------------------------------------------|
.JOACK	|	    ACK CODE FOR WTOR MESSAGES			|
	|-------------------------------------------------------|
.JONAM	|	  ADDRESS OF ASCIZ MESSAGE NAME			|
	|-------------------------------------------------------|
.JOPRC	|		MESSAGE PROCESSOR			|
	|-------------------------------------------------------|
.JOMSG	|		MESSAGE STORAGE				| /|\
	|--------					--------|  |
	|							| IPCSIZ
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JOTYP	|	     WTO TYPE TEXT ADDRESS			|
	|-------------------------------------------------------|
.JOTXT	|	     WTO MAIN TEXT ADDRESS			|
	|-------------------------------------------------------|
.JOTBL	|	    TABLE OF OPR RESPONSES			|
	|-------------------------------------------------------|
.JORSP	|	      OPR RESPONSE TEXT				| /|\
	|--------					--------|  |
	|							| <RSPSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
						Page 14

			PTY DATA

	+-------------------------------------------------------+
.JPTTY	|	  PTY TERMINAL UDX OR DESIGNATOR		|
	|-------------------------------------------------------|
.JPTYI	|	      PTY INPUT BUFFER RING			| /|\
	|--------					--------|  |
	|							| PTYBLK
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JPTYO	|	     PTY OUTPUT BUFFER RING			| /|\
	|--------					--------|  |
	|							| PTYBLK
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JPINP	|	  PTY INPUT BUFFER RING HEADER			| /|\
	|--------					--------|  |
	|							| 3 WORDS
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JPOUT	|	  PTY OUTPUT BUFFER RING HEADER			| /|\
	|--------					--------|  |
	|							| 3 WORDS
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JPCHN	|	    PTY I/O CHANNEL OR JFN			|
	|-------------------------------------------------------|
.JPEOL	|		EOL SENT TO PTY				|
	|-------------------------------------------------------|
						Page 15

			WTO/WTOR DATA

	+-------------------------------------------------------+
.JWTOP	|		TO OPERATOR BUFFER			| /|\
	|--------					--------|  |
	|							| <CTLSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JWFOP	|		FROM OPERATOR BUFFER			| /|\
	|--------					--------|  |
	|							| <CTLSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JWPTR	|	BYTE POINTER FOR WTO/WTOR OPERATIONS		|
	|-------------------------------------------------------|
.JWCNT	|	  BYTE COUNT FOR WTO/WTOR OPERATIONS		|
	|-------------------------------------------------------|
						Page 16

			SCANNER DATA

	+-------------------------------------------------------+
.JSCTL	|	    CONTROL FILE LINE BUFFER			| /|\
	|--------					--------|  |
	|							| <CTLSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JSCTB	|	 CONTROL FILE LINE BYTE POINTER			|
	|-------------------------------------------------------|
.JSCTC	|	  CONTROL FILE LINE BYTE COUNT			|
	|-------------------------------------------------------|
.JSCNM	|	   COMMAND NAME STRING POINTER			| /|\
	|--------					--------|  |
	|							| <KEYSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JSCDP	|	     COMMAND DISPATCH ADDRESS			|
	|-------------------------------------------------------|
.JSCFL	|		  FLAG WORD				|
	|-------------------------------------------------------|
.JSKEY	|		KEYWORD BUFFER				| /|\
	|--------					--------|  |
	|							| <KEYSIZ/5>+1
	|--------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JSPAR	|		 PARSER BLOCK				| /|\
	|--------					--------|  |
	|							| PAR.SZ
	|-------					--------|  |
	|							| \|/
	|-------------------------------------------------------|
.JSCMD	|		ADDRESS OF COMMAND BLOCK		|
	|-------------------------------------------------------|
.JSSTP	|		      STEP FLAG				|
	|-------------------------------------------------------|
.JSSPP	|		STEP PROCESSING PENDING			|
	|-------------------------------------------------------|
						Page 17

			LABEL DATA

	+-------------------------------------------------------+
.JLABL	|	    LABEL BEING SEARCHED FOR			|
	|-------------------------------------------------------|
.JLSTP	|	       CURRENT $STEP LABEL			|
	|-------------------------------------------------------|
						Page 18

			MDA AND MODIFY DATA

	+-------------------------------------------------------+
.JMDAP	|	  MDA ALLOCATE/MOUNT REQUEST PAGE		|
	|-------------------------------------------------------|
.JMDAT	|	     TEMPORARY PAGE FOR MNTPAR			|
	|-------------------------------------------------------|
.JMDAF	|	    FREE POINTER INTO .JMDAP(R)			|
	|-------------------------------------------------------|
.JMODP	|		MODIFY REQUEST PAGE			|
	|-------------------------------------------------------|
.JMODC	|	    COUNT OF MODIFYS IN REQUEST			|
	|-------------------------------------------------------|
						Page 19
			CLOCK QUEUE ENTRIES

	+-------------------------------------------------------+
.CQTIM	|		TIME IN SECONDS				|
	|-------------------------------------------------------|
.CQCTX	|		    CONTEXT				|
	|-------------------------------------------------------|
.CQADR	|		DISPATCH ADDRESS			|
	|-------------------------------------------------------|
						Page 20
                             CDRIVE

		ACCUMULATOR ASSIGMENTS

	  AC		Description

	STREAM==12	Identifies current stream data base

NOTE WELL ! 	This precludes the use of P4

	M==13		Incomming IPCF message address
	RDR==14		RDR data base
	AP=15		Pointer to byte translation table
	FLAG==16	Flags
						Page 21
                       STREAM STATUS BITS

      0 1 2 3 4 5 6 7 8 
     +--------------------------------------------------+
     | | | | | | | | | |                                |
     +--------------------------------------------------+


	Symbol		Bits		Meaning

	JOBCD            1		Job Card Read and Job Setup
	INTRPT           2		Reader is Connected to Intrpt System
	ABORT    	 3		Stream Abort Bit.
	CD20             6		Reader Line is CD20
	EOF              8		An EOF Condition Occured

                      CARD READER DATA BASE


       |================================================|
.RDIPT |            CARD BUFFER BYTE POINTER            |
       |------------------------------------------------|
.RDOPT |              OUTPUT BUFFER POINTER             |
       |------------------------------------------------|
.RDCAD |        CARD ADDRESS WITHIN INPUT BUFFER        |
       |------------------------------------------------|
.RDNBR |         NUMBER OF CARDS IN THE BUFFER.         |
       |------------------------------------------------|
.RDSTR |              READER STREAM NUMBER              |
       |------------------------------------------------|
.RDBFR |             READER BUFFER ADDRESS.             |
       |------------------------------------------------|
.RDSTA |               DEVICE STATUS WORD               |
       |------------------------------------------------|
.RDTIM |                 JOB START TIME                 |
       |------------------------------------------------|
.RDINI |           END RDR INITIALIZATION FLAG          |
       |------------------------------------------------|
.RDSUP |              DEVICE SETUP MESSAGE              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   SUP.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDREM |     0=LOCAL,-1=DN200 REMOTE,+1=DN60 REMOTE     |
       |________________________________________________|
       |						|
						Page 22

		DN60 Storage Conditional

       |						|
       |------------------------------------------------|
.RDOPB |             DN60 DEVICE OPEN BLOCK             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   OP$SIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |    \|/
       |------------------------------------------------|
.RTNBR |	THRESHOLD FOR NBR ERRORS                |
       |------------------------------------------------|
.RTDOL |	THRESHOLD FOR DOL ERRORS		|
       |------------------------------------------------|
.RDLER |	LAST DN60 ERROR				|
       |------------------------------------------------|

NOTE:	.RDCPT = 0 means there is no HASP console

       |------------------------------------------------|
.RDCPT |	CONSOLE BYTE POINTER INTO MESS.		|
       |------------------------------------------------|
.RDCCT |	CONSOLE COUNT FOR D60SIN		|
       |------------------------------------------------|
.RDCMD |	COMMAND INPUT BUFFER FOR DN60		|
       /						/
       /	(CMDLN Words)				/
       |------------------------------------------------|

		End of DN60 Storage Conditional

       |------------------------------------------------|
.RDPNN | PROTOTYPE NODE NAME (CONTAINS REAL NAME UNTIL SETUP IS COMPLETE)
       |------------------------------------------------|
.RDFLG |               FLAG WORD FOR DN60               |
       |------------------------------------------------|
.RDN60 |             HASP CONSOLE INPUT JFN             |
       |------------------------------------------------|
.RDECT |               DEVICE ERROR COUNT               |
       |------------------------------------------------|
.RDIBZ |        INPUT BYTE SIZE WE'RE PROCESSING        |
       |------------------------------------------------|
.RDOBZ |        OUTPT BYTE SIZE WE'RE PROCESSING        |
       |------------------------------------------------|
.RDRCL |         RECORD SIZE WE ARE PROCESSSING         |
       |------------------------------------------------|
.RDREG |               STREAM AC SAVE AREA              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  20 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
       |						|
						Page 23

       |						|
       |------------------------------------------------|
.RDPDL |               STREAM CONTEXT PDL.              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   PDSIZE
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDIOA |            INTERRUPT RETURN ADDRESS.           |
       |------------------------------------------------|
.CARDS |                   BUFFER AREA                  |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   BUFSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDFD  |         FILE DESCRIPTOR FOR SPOOL FILE         |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   FDSIZE
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDFOB |           FILE OPEN BLOCK FOR GLXFIL           |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  4 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDIFN |           GALAXY IFN FOR SPOOL FILE.           |
       |------------------------------------------------|
.RDJBT |             COUNT OF CARDS IN DECK             |
       |------------------------------------------------|
.RDJBC |         COUNT OF TOTAL JOB CARDS FOUND         |
       |------------------------------------------------|
.RDEOJ |            COUNT OF TOTAL EOJ CARDS            |
       |------------------------------------------------|
.RDEND |            COUNT OF TOTAL END CARDS            |
       |------------------------------------------------|
.RDIPC |               IPCF MESSAGES SENT               |
       |------------------------------------------------|
.RDSHT |      SHUTDOWN FLAG -1=SHUTDOWN THE READER      |
       |________________________________________________|
       |						|
						Page 24

       |						|
       |------------------------------------------------|
.RDMSG |	IPCF MESSAGE BUFFER			|   /|\
       |------------			    ------------|    |
       |						|    |
       |------------			    ------------|    |
       |						|
       |------------			    ------------|  MSBSIZ
       |						|
       |------------			    ------------|    |
       |						|    |
       |------------			    ------------|    |
       |						|   \|/
       |------------------------------------------------|
.RDRSP |	OPERATOR RESPONSE			|
       |------------			    ------------|
       |	(Two Words)				|
       |------------------------------------------------|
.RDOFL |	ONLINE/OFFLINE FLAG (0=ON, -1=OFF)	|
       |------------------------------------------------|
.RDWKT |	STREAM WAKE UP TIME (UDT)		|
       |------------------------------------------------|
.RDCHN |	CDR CHANNEL #				|
       |------------------------------------------------|
.RDSTS |	FLAG -1=SEND STATUS UPDATE MESSAGE	|
       |------------------------------------------------|
       |						|

			TOPS-10 ONLY

       |						|
       |------------------------------------------------|
.RDBLK |               TOPS-10 OPEN BLOCK.              |
       |------------------------------------------------|
.RDIOB |            CDR BUFFER CONTROL BLOCK.           |
       |------------------------------------------------|
.RDBUF |               CDR BUFFER ADDRESS               |
       |------------------------------------------------|
.RDBPT |                CDR BYTE POINTER.               |
       |------------------------------------------------|
.RDBCT |                CDR BUFFER LENGTH               |
       |------------------------------------------------|
.RDUDX |                 CARD READER UDX                |
       |------------------------------------------------|
.RDDEV |            CARD READER DEVICE NUMBER           |
       |________________________________________________|
.RDSTP |	DN60 INPUT ERROR CODE			|
       |------------------------------------------------|
       |						|

		     End TOPS-10 Conditional
						Page 25
                          TOPS-20 ONLY

       |						|
       |------------------------------------------------|
.RDHND |             INFERIOR PROCESS HANDLE            |
       |------------------------------------------------|
.RDRFD |             READER FILE DESCRIPTOR             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  5 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDSTP |              ERROR MESSAGE BUFFER              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  10 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDSAB |                 IPCF SAB BLOCK                 |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   SAB.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
.RDCAN |	CANCEL FLAG -1 = CANCEL CURRENT JOB	|
       |================================================|

		End TOPS-20 Conditional

DBEND:	End of Defined reader data base
						Page 26

		Random Impure Storage

	|===============================================|
PDL	|	PUSHDOWN LIST				|   /|\
	|---------------		 ---------------|    |
	|						|    |
	|---------------		 ---------------|
	|						|  PDLSIZ
	|---------------		 ---------------|
	|						|    |
	|---------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
RDSCHD	| SCHEDULING FLAG: NON-ZERO = SCHEDULE, 0 = DON'T
	|-----------------------------------------------|
SAB	|	A SEND ARGUMENT BLOCK			|   /|\
	|----------------		 ---------------|    |
	|						|    |
	|----------------		 ---------------|
	|						|  SAB.SZ
	|----------------		 ---------------|
	|						|    |
	|----------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
MSGBLK	|	A BLOCK TO BUILD MESSAGES IN		|   /|\
	|---------------		 ---------------|    |
	| 						|    |
	|---------------		 ---------------|
	|						|  MSBSIZ
	|---------------		 ---------------|
	|						|    |
	|---------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
BYTPTR	|	BYTE POINTER FOR $TEXT MACRO		|
        |-----------------------------------------------|
SCHEDL	|	STREAM SCHEDULING BLOCK			|
	|-----------------------------------------------|
CNTSTA	|	NUMBER OF CENTRAL STATION		|
	|-----------------------------------------------|
RUTINE	|	MESSAGE PROCESSING ROUTINE ADDRESS	|
	|-----------------------------------------------|
NOSAVE	|   INDICATOR 0 = SAVE FLAG BITS, -1 = DON'T	|
	|-----------------------------------------------|
FILENM	|	READER SPOOL FILE HASH CODE		|
	|-----------------------------------------------|
FILEXT	|	READER SPOOL FILE EXTENSION (0,,1)	|
	|-----------------------------------------------|
SPOOL	|	SPOOL STRUCTURE PPN			|
	|-----------------------------------------------|
PRGSTA	|	SPOOLER START ADDRESS (PAGE NUMBER)	|
	|-----------------------------------------------|
RDRSIZ	|	SPOOLER LENGTH IN PAGES			|
	|-----------------------------------------------|
TRMFRK	|	FORK TERMINATION FLAG			|
	|-----------------------------------------------|
	|						|
						Page 27

	|						|
	|-----------------------------------------------|
FRKINI	|	END FORK INIALIZATION FLAG		|
	|-----------------------------------------------|
SPEEPT	|	SECONDS TO SLEEP			|
	|-----------------------------------------------|
	|						|

Note:	IMESS indicates if any IPCF messages are  held
	and -1 indicates an IPCF message is to be released

	|						|
	|-----------------------------------------------|
IMESS	|	IPCF MESSAGE FLAG			|
	|-----------------------------------------------|
EMSG	|	ERROR MESSAGE TEMP STORAGE (D60ER)	|
	|===============================================|

		Scheduler Flags

	 0 1 2 3 4 5 6  
	+-----------------------------------------------+
	| | | | | | | |                                 |
	+-----------------------------------------------+


	Symbol		Bits		Meaning

	PSF%ID           1		Input done wait
	PSF%DO           2		Device is off-line
	PSF%ST    	 3		Stopped by operator
	PSF%SH		 4		Shut down a card reader
	PSF%OR		 5		Operator response wait
	PSF%WT		 6		Deschedule for 5 seconds
						Page 28

		Resident Job Database

	|===============================================|
JOBPAG	|	ADDRESS OF A TWO PAGE BLOCK		|   /|\
	|---------------		 ---------------|    |
	| 						|    |
	|---------------		 ---------------|
	|						|  MAXRDR
	|---------------		 ---------------|
	|						|    |
	|---------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
JOBOBA	|	TABLE OF OBJECT BLOCK ADDRESSES		|   /|\
	|----------------		 ---------------|    |
	|						|    |
	|----------------		 ---------------|
	|						|  MAXRDR
	|----------------		 ---------------|
	|						|    |
	|----------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
JOBSTW	|	JOB STATUS WORD				|   /|\
	|---------------		 ---------------|    |
	| 						|    |
	|---------------		 ---------------|
	|						|  MAXRDR
	|---------------		 ---------------|
	|						|    |
	|---------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
JOBOBJ	|	LIST OF SETUP OBJECTS			|   /|\
	|----------------		 ---------------|    |
	|						|    |
	|----------------		 ---------------|
	|						|  OBJ.SZ*MAXRDR
	|----------------		 ---------------|
	|						|    |
	|----------------		 ---------------|    |
	|						|   \|/
	|-----------------------------------------------|
JOBWAC	|	WTOR ACK CODES				|   /|\
	|---------------		 ---------------|    |
	| 						|    |
	|---------------		 ---------------|
	|						|  MAXRDR
	|---------------		 ---------------|
	|						|    |
	|---------------		 ---------------|    |
	|						|   \|/
	|===============================================|
						Page 29

	GLXLIB TABLES

THE MESSAGE HEADER

 Among GALAXY programs, there is a common message header format
 so that communication and error checking is easier.  There are
 also some common function codes (currently only TEXT) which are
 defined across program lines.   The specific data (if any) associated
 with each message type follows the standard header. Note also
 that MESSAGE LENGTH includes the header itself.

 	!=======================================================!
 	!      Message Length       !       Message Type        !
 	!-------------------------------------------------------!
 	!ACK!NOM!FAT!WRN!MOR!       !       Sixbit Suffix       !
 	!-------------------------------------------------------!
 	!                 Acknowledgement code                  !
 	!=======================================================!

						Page 30

	General message format

 The following is a description of the typical messages sent in
 GALAXY.

 	!=======================================================!
 	\                                                       \
 	\                  THE MESSAGE HEADER                   \
 	\                                                       \
 	!-------------------------------------------------------!
 	!                       FLAG WORD                       !
 	!-------------------------------------------------------!
 	!                  ARGUMENT COUNT WORD                  !
 	!=======================================================!
 	


 			ARGUMENT DATA BLOCKS


 	
 	!=======================================================!
 	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
 	!-------------------------------------------------------!
 	\                                                       \
 	\                     ARGUMENT DATA                     \
 	\                                                       \
 	!=======================================================!

						Page 31

		ACK - THE GALAXY 'ACK' MESSAGE

 	!=======================================================!
 	\							\
 	\		THE MESSAGE HEADER			\
 	\							\
 	!-------------------------------------------------------!
 	!		FLAG WORD (.OFLAG)			!
 	!-------------------------------------------------------!
 	!		ARGUMENT COUNT (.OARGC)			!
 	!-------------------------------------------------------!
 
 		THE MESSAGE BODY BLOCK
 
 	!-------------------------------------------------------!
 	!	BLOCK LENGTH	!	.CMTXT			!
 	!-------------------------------------------------------!
 	\							\
 	\		ASCIZ TEXT MESSAGE			\
 	\							\
 	!-------------------------------------------------------!
 
 		THE MESSAGE HEADER BLOCK
 
 	!-------------------------------------------------------!
 	!	BLOCK LENGTH	!	.ORDSP			!
 	!-------------------------------------------------------!
 	\							\
 	\		ASCIZ MESSAGE HEADER			\
 	\							\
 	!-------------------------------------------------------!


 	NOTE:::: * * * * * N O T E   W E L L * * * * *
 
 	THE 'ACK' CODE THAT WAS SUPPLIED BY THE USER IN THE ORIGIONAL
 		REQUEST WILL BE RETURNED IN .MSCOD
 
 
 	THE MESSAGE TYPE MAY BE MT.TXT (OLD MSG TYPE) OR 
 		.OMTXT OR .OMACS (NEW ACK MESSAGE TYPE(S))
 
 
 	THE .ORDSP BLOCK WILL ONLY BE FOUND IN A .OMACS MESSAGE
 
 
 	THE .MSCOD FIELD MAY HAVE BITS MF.NOM, MF.FAT, MF.WRN,
 		MF.MOR LIT.
 	THE .MSCOD FIELD MAY ALSO HAVE MF.SUF FILLED IN.

						Page 32

	JIB - Job Information Block

 The Job Information Block contains  the GALAXY Information to describe
 a job to the system. This block will be used to pass this information
 between all Galaxy Components.

 	!=======================================================!
 	!                   JOBNAME IN SIXBIT                   !
 	!-------------------------------------------------------!
 	!  SEQUENCE NUMBER OF JOB   !   QUASAR DEFINED FIELDS   !
 	!-------------------------------------------------------!
 	!           USER NUMBER ON -20 OR PPN ON -10            !
 	!-------------------------------------------------------!
 	!              REQUEST IDENTIFIER FOR JOB               !
 	!=======================================================!
 	
 	
 	
 	!=======================================================!
 	!                                                       !
 	!               USER NAME (TOPS-10 ONLY)                !
 	!                                                       !
 	!=======================================================!

						Page 33

	OBJ - Object Descriptor

  Various programs must use a device/object designator which fully
  describes a an entity as to its type,unit number and node.  The canonical
  object descriptor is used for this purpose


 	The object/device designator:

 	!=======================================================!
 	!              Object type descriptor code              !
 	!-------------------------------------------------------!
 	!   Low Bound unit number   !  High Bound unit number   !
 	!-------------------------------------------------------!
 	!                  Node name in SIXBIT                  !
 	!=======================================================!

						Page 34

		FD - File Descriptor

  The FD (File Descriptor) is the data structure used to pass a system
 dependent file description to subroutines or as part of a larger
 message or data structure.

 FILE DESCRIPTOR FOR TOPS10

 	!=======================================================!
 	!		   LENGTH OF THE FD			!
 	!-------------------------------------------------------!
 	!             STRUCTURE CONTAINING THE FILE             !
 	!-------------------------------------------------------!
 	!                       FILE NAME                       !
 	!-------------------------------------------------------!
 	!                       EXTENSION                       !
 	!-------------------------------------------------------!
 	!                        [P,PN]                         !
 	!=======================================================!
 	!                                                       !
 	!                 SFD PATH FOR THE FILE                 !
 	!               THESE WORDS ARE OPTIONAL                !
 	!             AND CAN BE OF LENGTH  0 TO 5              !
 	!                                                       !
 	!=======================================================!


 FILE DESCRIPTOR FOR TOPS20 (FD.TYP==.FDNAT)


 	!=======================================================!
 	/                                                       /
 	/                                                       /
 	/   THE FILE DESCRIPTOR ON TOPS20 IS AN ASCIZ STRING    /
 	/      OF VARIABLE LENGTH AND READY TO BE GTJFN'ED      /
 	/                                                       /
 	/                                                       /
 	!=======================================================!

						Page 35

 FILE DESCRIPTOR FOR LOCAL FILE (FD.TYP==.FDLOC)

 	!=======================================================!
 	/                                                       /
 	/   THE FILE DESCRIPTOR FOR THE LOCAL FILESPEC MAY BE   /
 	/   AN ASCIZ STRING IN A FORM ACCEPTABLE TO THE LOCAL   /
 	/   SYSTEM						/
 	/   DEV:[PPN]FILE.EXT OR DEV:[DIRECTORY]FILE.EXT.GEN	/
 	/                                                       /
 	!=======================================================!


 FILE DESCRIPTOR FOR REMOTE DECNET NODE (FD.TYP==.FDNET)

 	!=======================================================!
 	/                                                       /
 	/   THE FILE DESCRIPTOR FOR A DECNET FILESPEC IS AN	/
 	/   ASCIZ STRING OF THE FORM NODE::DEV:[PPN]FILE.EXT	/
 	/   OR NODE::DEV:[DIRECTORY]FILE.EXT.GEN		/
 	/                                                       /
 	!=======================================================!


 FILE DESCRIPTOR FOR A FORIEGN NODE (FD.TYP==.FDFRN)

 	!=======================================================!
 	/                                                       /
 	/   THE FILE DESCRIPTOR FOR A FORIEGN NODE IS AN ASCIZ	/
 	/   STRING OF THE FORM:					/
 	/   NODE::REMOTE-FILESPEC OR NODE::"REMOTE-FILESPEC"	/
 	/                                                       /
 	!=======================================================!

						Page 36

 FOB - Parameter block passed to F%IOPN and F%OOPN

  THE FOLLOWING IS A DESCRIPTION OF THE BLOCK USED AS A PARAMETER
  PASSING AREA TO THE TWO FILE OPEN ROUTINES IN GLXFIL.

 	!=======================================================!
 	!      ADDRESS OF FD TO USE FOR FILE SPECIFICATION      !
 	!-------------------------------------------------------!
 	!				      !LSN!NFO!BYTE SIZE!
 	!-------------------------------------------------------!
 	!       FIRST HALF OF USER ID FOR "IN BEHALF OF"        !
 	!-------------------------------------------------------!
 	!          CONNECTED  DIRECTORY (TOPS-20 ONLY)          !
 	!=======================================================!

						Page 37

 FRB - Parameter block passed to F%REN for renames

  THE FOLLOWING BLOCK IS SET UP BY THE CALLER OF F%REN IN GLXFIL.
  THE BLOCK PROVIDES THE SOURCE AND DESTINATION OF THE RENAME, AS
  WELL AS NEEDED PROTECTION INFORMATION.

 	!=======================================================!
 	!     POINTER TO FD DESCRIBING SOURCE OF THE RENAME     !
 	!-------------------------------------------------------!
 	!  POINTER TO FD DESCRIBING DESTINATION OF THE RENAME   !
 	!-------------------------------------------------------!
 	!           USER ID FOR AN "IN BEHALF" RENAME           !
 	!-------------------------------------------------------!
 	!CONNECTED DIRECTORY FOR AN "IN BEHALF" RENAME (TOPS-20)!
 	!-------------------------------------------------------!
 	! 		    FLAG BITS				!
 	!=======================================================!

						Page 38

 IB  - Initialization Block for GALAXY programs

 All programs which make use of the GALAXY library or runtime system
 must go through an initialization call to insure that the
 modules are in a determinant state, and also to set up the
 profile that this program wants.  This initialization is
 carried out using a communications area, the Initialization
 Block, from which parameters are read and information filled in.
 	
 The initialization call to I%INIT is made with S1 containing the
 size of the IB and S2 containing its address.

 	Initialization Block (IB):

 	!=======================================================!
 	!    Address of output routine for defaulted $TEXTs     !
 	!-------------------------------------------------------!
 	!OCT!STP!DET!           program-wide flags              !
 	!-------------------------------------------------------!
 	!       Base of program's interrupt vector(s)           !
 	!-------------------------------------------------------!
 	!       PID block address                               !
 	!-------------------------------------------------------!
 	!       $TEXT error exit routine                        !
 	!=======================================================!
						Page 39

	PIB - PID block

 This block describes the PID that the program wishes to become, and
 other assorted flavors of IPCF parameters.  It is a parameter
 for the C%CPID, C%KIPD, C%SPID calls, and is aimed at by the IB.

 	!=======================================================!
 	!      Length               !                           !
 	!-------------------------------------------------------!
 	!                PID (filled by GLXLIB)                 !
 	!-------------------------------------------------------!
 	!PSI!JWP!RSE!SPI!CFV!SPB!                               !
 	!-------------------------------------------------------!
 	!      System index         !             !Chan or offst!
 	!-------------------------------------------------------!
 	!      Max # of PIDs        ! Send quota  !Receive quota!
 	!-------------------------------------------------------!
 	!               Pointer to INFO NAME (optional)         !
 	!-------------------------------------------------------!
 	!             Pointer to ACCOUNT string (optional)      !
 	!-------------------------------------------------------!
 	!             Pointer to LOCATION string (optional)     !
 	!=======================================================!

						Page 40

 SAB - Send Argument Block passed to C%SEND

 This block describes the IPCF message being sent


 	!=======================================================!
 	!     DESTINATION PID OR ADRS OF NAME STRING		!
 	!-------------------------------------------------------!
 	!                   LENGTH OF MESSAGE                   !
 	!-------------------------------------------------------!
 	!                  ADDRESS OF MESSAGE                   !
 	!-------------------------------------------------------!
 	!FLG!                SYSTEM PID INDEX                   !
 	!-------------------------------------------------------!
 	!           0 or PID Block address to send for          !
 	!=======================================================!

						Page 41

	MDB - Message Descriptor Block returned by C%RECV

 This block describes the IPCF message received by C%RECV or C%BRCV

 	!=======================================================!
 	!                         FLAGS                         !
 	!-------------------------------------------------------!
 	!                     SENDER'S PID                      !
 	!-------------------------------------------------------!
 	!                    RECEIVER'S PID                     !
 	!-------------------------------------------------------!
 	!     LENGTH OF MESSAGE     !    ADDRESS OF MESSAGE     !
 	!-------------------------------------------------------!
 	!             SENDER'S LOGGED-IN DIRECTORY              !
 	!-------------------------------------------------------!
 	!                  SENDER'S PRIVILEGES                  !
 	!-------------------------------------------------------!
 	!             SENDER'S CONNECTED DIRECTORY              !
 	!-------------------------------------------------------!
 	!FLG!                SYSTEM PID INDEX                   !
 	!=======================================================!

						Page 42

	 PDB - PARSER DESCRIPTOR BLOCK DEFINITION

  THE PARSER DESCRIPTOR BLOCK (PDB) IS THE BASIC DATA STRUCTURE USED TO 
 CONTROL THE ACTION OF THE PARSER ROUTINE. THE PDB CONSISTS OF THE STANDARD 
 FUNCTION DESCRIPTOR BLOCK (FDB) AS USED BY THE COMND JSYS, PLUS FOUR 
 ADDITIONAL WORDS USED BY THE PARSER ROUTINE TO CONTROL THE PARSE. THE PDBDEF
 MACRO IS USED TO BUILD A PDB AND ALLOWS THE PROGRAMMER TO SPECIFY ALL OF
 THE FIELD PARAMETERS. IN ADDITION, THERE ARE A NUMBER OF MNEMONIC MACROS
 WHICH ALLOW THE USER TO BUILD FUNCTION SPECIFIC PDBS' AND PROVIDE A COMMON
 SUBSET OF THE PARAMETER FIELDS. THE PDBS' ARE LINKED THROUGH A NEXT PDB 
 CHAIN FIELD, AND AN ALTERNATE PDB CHAIN FIELD TO FORM A TREE LIKE STRUCTURE
 WHICH DEFINES THE COMMAND SYNTAX. THE PARSE ROUTINE, WHEN PASSED THE ADDRESS
 OF THE ROOT OF THE TREE, THEN PARSES ONE COMPLETE COMMAND AND RETURNS CONTROL
 TO THE CALLER. THERE IS A PROVISION FOR THE USER TO SPECIFY EXIT ROUTINES
 WITHIN EACH PDB WHICH WILL BE CALLED AT CRITICAL POINTS AS THE PARSE
 PROGRESSES.
 
  THE FORMAT OF THE PARSER DESCRIPTOR BLOCK IS SHOWN BELOW:
 
 
 
 	!=======================================================!
 	!  FUNCTION   !  FUNCTION   ! ADDRESS OF NEXT FUNCTION  !
 	!    CODE     !    FLAGS    !     DESCRIPTOR BLOCK      !
 	!-------------------------------------------------------!
 	!              DATA FOR SPECIFIC FUNCTION               !
 	!-------------------------------------------------------!
 	!            POINTER TO HELP TEXT FOR FIELD             !
 	!-------------------------------------------------------!
 	!          POINTER TO DEFAULT STRING FOR FIELD          !
 	+-------------------------------------------------------+
 	!          SPECIAL ACTION ROUTINE FOR THIS PDB          !
 	!-------------------------------------------------------!
 	!              PDB DEFAULT FILLING ROUTINE              !
 	!-------------------------------------------------------!
 	!                     ERROR ROUTINE                     !
 	!-------------------------------------------------------!
 	!             CHAIN POINTER TO LINKED PDB'S             !
 	!=======================================================!
                                            Page 43

                              LPTSPL

                     ACCUMULATOR DEFINITIONS

        ACCUMULATOR                          DEFINITION
        -----------                          ----------
           M=12                         IPCF MESSAGE ADDRESS
           S=13                         STATUS FLAGS
           E=14                         POINTS TO CURRENT FILE
           J=15                         JOB CONTEXT POINTER
           C=16                         HOLDS A CHARACTER-ALMOST NEVER PRESERVED

						Page 44 
                             LPTSPL


                       Job Parameter Area

J$$BEG   BEGINNING OF PARAMETER AREA
       +------------------------------------------------+
J$RFLN |           NUMBER OF FILES IN REQUEST           |
       |------------------------------------------------|
J$RLIM |               JOB LIMIT IN PAGES               |
       |------------------------------------------------|
J$RTIM |                START TIME OF JOB               |
       |------------------------------------------------|
J$RLFS |              ADR OF LOG FILE SPEC              |
       |------------------------------------------------|
J$RNFP |             NUMBER OF FILES PRINTED            |
       |------------------------------------------------|
J$RNCP |        NUMBER OF COPIES OF CURRENT FILE        |
       |------------------------------------------------|
J$RNPP |     NUMBER OF PAGES IN CURRENT COPY PRINTED    |
       |------------------------------------------------|
J$RACS |                   CONTEXT ACS                  |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  18 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$RPDL |              CONTEXT PUSHDOWN LIST             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PDSIZE
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       +________________________________________________+    \|/

						Page 45    
                         LPT PARAMETERS
       +------------------------------------------------+
J$LBUF |              ADDRESS OF LPT BUFFER             |
       |------------------------------------------------|
J$LBFR |               LINE PRINTER BUFFER              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PAGSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$LBRH |               BUFFER RING HEADER               |
       |------------------------------------------------|
J$LBPT |                  BYTE POINTER                  |
       |------------------------------------------------|
J$LBCT |                   BYTE COUNT                   |
       |------------------------------------------------|
J$LDEV |            ACTUAL OUTPUT DEVICE NAME           |
       |------------------------------------------------|
J$LERR |              LPT ERROR DOWNCOUNTER             |
       |------------------------------------------------|
J$LRAM |      DEFAULT RAM FILE NAME (LP64 or LP96)      |
       |------------------------------------------------|
J$LLCL |         -1 IF UPPER/LOWER CASE PRINTER         |
       |------------------------------------------------|
J$LDVF |             -1 IF DAVFU ON PRINTER             |
       |------------------------------------------------|
J$LPCR |          -1 IF DEVICE HAS A PAGE CNTR          |
       |------------------------------------------------|
J$LREM |0=LOCAL LPT -1=DEC REMOTE LPT +1=DN60 REMOTE LPT|
       +------------------------------------------------+  

                                              Page 46     
                          IFN FTDN60,<
       +------------------------------------------------+
J$DCND |          DN60 LINE CONDITIONING BLOCK          |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  CN$SIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |    \|/
       |------------------------------------------------|
       |J$CWKT  DN60 CONSOLE WAKE-UP TIME               |
       |------------------------------------------------|
       |J$ENBR  THRESHOLD FOR NBR RETURNS               |
       |------------------------------------------------|
       |J$EDOL  THRESHOLD FOR DOL RETURNS               |
       |------------------------------------------------|
       |J$D6ER  LAST DN60 ERROR                         |
       |------------------------------------------------|
       |J$OMSG  DN60 OPERATOR MESSAGE AVAILABLE FLAG    |
       |------------------------------------------------|
       |J$D6OB  PARAMETER BLOCK FOR D60OPN              |    /|\ 
       |--------                          --------------|     |
       |                                                |     |
       |--------                          --------------|  OP$SIZ
       |                                                |     |
       |--------                          --------------|     |
       |                                                |    \|/
       +------------------------------------------------+
                      > ;END OF IFN FTDN60

                                              Page 47
       +------------------------------------------------+
J$DFLG |                 DN60 FLAG WORD                 |
       |------------------------------------------------|
J$D6OP |            DN60 OPERATOR CONSOLE ID            |
       |------------------------------------------------|
J$LINK |           DN60 OPERATORS MSG LIST ID           |
       |------------------------------------------------|
J$OFLN |          DN60 PRINTER IS OFFLINE FLAG          |
       |------------------------------------------------|
J$LCLS |              LPT CONTROLLER CLASS              |
       |------------------------------------------------|
J$LIOA |          -1 IF WE ARE IN A SOUT OR OUT         |
       |------------------------------------------------|
J$LLPT |          -1 IF DEVICE REALLY IS A LPT          |
       |------------------------------------------------|
J$LIOS |               LPT IO ERROR STATUS              |
       |------------------------------------------------|
J$MTAP |           SIXBIT MAG TAPE DEVICE NAME          |
       |------------------------------------------------|
J$LCHN |                 LPT I/O CHANNEL                |
       |------------------------------------------------|
J$LBTZ |              LPT OUTPUT BYTE SIZE              |
       |------------------------------------------------|
J$LSTG |               DEVICE NAME STRING               |
       |---------------                  ---------------|
       |                    Two Words                   |
       |------------------------------------------------|
J$LIBC |               INITIAL BYTE COUNT               |
       |------------------------------------------------|
J$LIBP |              INITIAL BYTE POINTER              |
       +________________________________________________+


						Page 48 
                    BOTH TOPS-10 AND TOPS-20

                 J$FCUR    START OF FORMS PARAMS

       +------------------------------------------------+
J$FBAN |                   BANNER TYPE                  |
       |------------------------------------------------|
J$FTRA |                  TRAILER TYPE                  |
       |------------------------------------------------|
J$FHEA |                   HEADER TYPE                  |
       |------------------------------------------------|
J$FLIN |                 NUMBER OF LINES                |
       |------------------------------------------------|
J$FWID |                      WIDTH                     |
       |------------------------------------------------|
J$FALI |                    ALIGNMENT                   |
       |------------------------------------------------|
J$FALC |                      ALCNT                     |
       |------------------------------------------------|
J$FALS |                      ALSLP                     |
       |------------------------------------------------|
J$FRIB |                     RIBBON                     |
       |------------------------------------------------|
J$FTAP |                      TAPE                      |
       |------------------------------------------------|
J$FVFU |                       VFU                      |
       |------------------------------------------------|
J$FDRU |                       DRUM                     |
       |------------------------------------------------|
J$FCHA |                      CHAIN                     |
       |------------------------------------------------|
J$FNOT |                      NOTE                      |
       |------------------------------------------------|
J$FRAM |                       RAM                      |
       |------------------------------------------------|      
J$FORM |               CURRENT FORMS TYPE               |
       |------------------------------------------------|
J$FPFM |               PREVIOUS FORMS TYPE              |
       |------------------------------------------------|
J$PDRU |              PREVIOUS LOADED DRUM              |
       |------------------------------------------------|
J$PRIB |             PREVIOUS LOADED RIBBON             |
       |------------------------------------------------|
J$PTAP |      PREVIOUS LOADED CARRAIGE CONTROL TAPE     |
       |------------------------------------------------|
J$FMSP |           FORMS WTO/WTOR PAGE ADDRESS          |
       |------------------------------------------------|
J$FWCL |               CURRENT WIDTH CLASS              |
       |------------------------------------------------|
J$FLCL |              CURRENT LENGTH CLASS              |
       |------------------------------------------------|
J$FLVT |           CURRENTLY 'LOADED' VFU TYPE          |
       |------------------------------------------------|
J$FLRM |       CURRENTLY 'LOADED' TRANSLATION RAM       |
       |------------------------------------------------|
J$FVIF |             IFN OF VFU FILE ON -10             |
       +------------------------------------------------+
						Page 49 
       +------------------------------------------------+
J$FBYT |              VFU INPUT BYTE COUNT.             |
       |------------------------------------------------|
J$FPTR |             VFU INPUT BYTE POINTER.            |
       |------------------------------------------------|
J$LVFF |      FIRST TIME THROUGH FLAG FOR LPT VFU'S     |
       |------------------------------------------------|
J$FNBK |               OPERATOR NOTE BLOCK              |   /|\
       |---------------                   --------------|    |
       |                                                |    |
       |---------------                   --------------| 14 Words
       |                                                |    |
       |---------------                   --------------|    |
       |                                                |   \|/ 
       |------------------------------------------------|   
J$APRG |           -1 IF ALIGN IS IN PROGRESS           |
       |------------------------------------------------|
J$AIFN |                 ALIGN FILE IFN                 |
       |------------------------------------------------|
J$ABYT |            ALIGN BUFFER BYTE COUNT.            |
       |------------------------------------------------|
J$APTR |           ALIGN BUFFER BYTE POINTER.           |
       |------------------------------------------------|
J$ASLP |                SECONDS TO SLEEP                |
       |------------------------------------------------|
J$ACNT |                   LOOP COUNT                   |
       |------------------------------------------------|
J$AFD  |            THE FD FOR THE ALIGN FILE           |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   AFDSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$XTOP |              WE ARE AT TOP OF FORM             |
       |------------------------------------------------|
J$XFOB |                A FILE OPEN BLOCK               |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   FOB.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$XPOS |            CURRENT VERTICAL POSITION           |
       |------------------------------------------------|
J$XHBF |           BUFFER TO BUILD HEADER LINE          |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| 37 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       +________________________________________________+    \|/
						Page 50   
       +------------------------------------------------+
J$XCOD |           COMPILE A ROUTINE TO CHECK           |    /|\
       |--------------                    --------------|     |
       |              FOR MATCH ON /REPORT              |     |
       |--------------                    --------------| 55 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$XFRC |         FORTRAN CHARACTER REPEAT COUNT         |
       |------------------------------------------------|
J$XTBF |         $TEXT BUFFER FOR OUTPUT DEVICE         |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| 40 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$XTBP |            BYTE POINTER FOR J$XTBF.            |
       |------------------------------------------------|
J$RESP |            OPERATOR RESPONSE BUFFER.           |
       |--------------                    --------------|
       |                    Two Words                   |
       |------------------------------------------------|
J$WTOR |              WTOR MESSAGE BUFFER.              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| 50 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$APRT |                   PAGE COUNT.                  |
       |------------------------------------------------|
J$ADRD |                DISK BLOCKS READ.               |
       |------------------------------------------------|
J$APRI |                  JOBS PRIORITY                 |
       |------------------------------------------------|
J$ARTM |               JOBS RUN TIME (CPU)              |
       |------------------------------------------------|
J$ASEQ |              JOBS SEQUENCE NUMBER              |
       |------------------------------------------------|
J$AFXC |       TOTAL FILES PRINTED (FILES*COPIES)       |
       |------------------------------------------------|
J$FBPT |           CURRENT PAGE TABLE POSITION          |
       |------------------------------------------------|
J$FPAG |              BACKSPACE PAGE TABLE              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   PAGSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       +________________________________________________+    \|/
						Page 51   
       +------------------------------------------------+
J$FCBC |         CURRENT INPUT BUFFER BYTE COUNT        |
       |------------------------------------------------|
J$FTBC |             TOTAL INPUT BYTE COUNT             |
       |------------------------------------------------|
J$FPIG |            NUMBER OF PAGES TO IGNORE           |
       |------------------------------------------------|
J$DIFN |                     THE IFN                    |
       |------------------------------------------------|
J$DFDA |                 THE FD ADDRESS                 |
       |------------------------------------------------|
J$DBPT |               BUFFER BYTE POINTER              |
       |------------------------------------------------|
J$DBCT |                BUFFER BYTE COUNT               |
       |------------------------------------------------|
J$GBUF |           ADDRESS OF LOG FILE BUFFERS          |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  10 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$GBFR |              FIRST LOG FILE BUFFER             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   PAGSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$GNLN |         NUMBER OF LINES WRITTEN IN LOG         |
       |------------------------------------------------|
J$GIBC |             INTERNAL LOG BYTE COUNT            |
       |------------------------------------------------|
J$GIBP |            INTERNAL LOG BYTE POINTER           |
       |------------------------------------------------|
J$GINP |          NUMBER OF INTERNAL LOG PAGES          |
       |------------------------------------------------|
J$PUSR |                    USER NAME                   |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  8 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$PNOT |                      /NOTE                     |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  4 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
						Page 52 
       |------------------------------------------------|
J$PFL1 |             FIRST LINE OF FILE NAME            |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| 8 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$PFL2 |            SECOND LINE OF FILE NAME            |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| 10 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
J$PFLS |             BLOCKSIZE FOR FILENAME             |
       |------------------------------------------------|
J$$END |              END OF PARAMETER AREA             |
       +------------------------------------------------+

                                            Page 53 
                             LPTSPL

                      RANDOM IMPURE STORAGE 

       +-------------------------------------------------+
PDL    |                  PUSHDOWN LIST                  |     /|\
       |------------------             ------------------|      |
       |                                                 |      |
       |------------------             ------------------|   PDSIZE
       |                                                 |      |
       |------------------             ------------------|      |
       |                                                 |      |
       |-------------------------------------------------|     \|/
MESSAG |        ADDRESS OF MESSAGE JUST RECEIVED         |
       |-------------------------------------------------|     
       |          IPCF MSG BLK ADDR SAVE AREA            |
       |-------------------------------------------------|     
TEXTBP |            BYTE POINTER FOR DEPBP               |
       |-------------------------------------------------|     
SAB    |            A SEND ARGUMENT BLOCK                |      /|\
       |------------                     ----------------|       |
       |                                                 |       |
       |------------                     ----------------|    SAB.SZ
       |                                                 |       |
       |------------                     ----------------|       |
       |                                                 |       |
       |-------------------------------------------------|      \|/
MSGBLK |          A BLOCK TO BUILD MESSAGES IN           |      /|\
       |----------                            -----------|       |
       |                                                 |       |
       |----------                            -----------|    MSBSIZ
       |                                                 |       |
       |----------                            -----------|       |
       |                                                 |       |
       |-------------------------------------------------|      \|/
FOB    |               A FILE OPEN BLOCK                 |      /|\
       |---------------                 -----------------|       |
       |                                                 |       |
       |---------------                 -----------------|    FOB.SZ
       |                                                 |       |
       |---------------                 -----------------|       |
       |                                                 |       |
       |-------------------------------------------------|      \|/
FMOPN  |       SET TO -1 WHEN LPFORM.INI IS OPEN         |
       |-------------------------------------------------|
FMIFN  |            THE IFN FOR LPFORM.INI               |
       |-------------------------------------------------|
IMESS  |       IPCF MESSAGE -1=ONE TO BE RELEASED        |
       |-------------------------------------------------|
LPCNF  |                   SYSNAME                       |      /|\
       |-------------------       -----------------------|       | 
       |                                                 |       |
       |-------------------       -----------------------|   9 Words 
       |                                                 |       |      
       |-------------------       -----------------------|       | 
       |                                                 |       |
       +-------------------------------------------------+      \|/
                                            Page 54

       +-------------------------------------------------+
LPJOB  |               LPTSPL'S JOB NUMBER               |
       |-------------------------------------------------|
LPTRM  |               TERMINAL DESIGNATOR               |
       |-------------------------------------------------|
LPCON  |                  CONNECT TIME                   |
       |-------------------------------------------------|
LPLNO  |                  LINE NUMBER                    |
       |-------------------------------------------------|
JOBITS |           SAVE JOB STATUS BITS FLAG             |
       |-------------------------------------------------|
STRSEQ |   (EXP 4000)  STREAM SEQ. #'S (START AT 4000)   |
       |-------------------------------------------------|
SCHEDL |     (-NPRINT,,0)   STREAM SCHEDULING DATA       |
       |-------------------------------------------------|
SLEEPT |           SLEEP TIME FOR SCHEDULING             |
       |-------------------------------------------------|
CNTSTA |           NUMBER OF CENTRAL STATIONS            |
       |-------------------------------------------------|
RUTINE |       MESSAGE PROCESSING ROUTINE ADDRESS        |
       |-------------------------------------------------|
EMSG   |       ADDRESS OF ERROR MESSAGE FOR D60ER        |
       |-------------------------------------------------|
OPRERR |OPR ERR--FLAG USED TO INDICATE SOURCE OF DN60 ERR|
       +-------------------------------------------------+

                          TOPS-20 ONLY

       +-------------------------------------------------+
SPLDIR |        DIRECTORY NUMBER OF PS:<SPOOL>           |
       |-------------------------------------------------|

						Page 55   
                        LPTSPL DATA BASE

       +------------------------------------------------+
STREAM |              CURRENT STREAM NUMBER             |
       |------------------------------------------------|
JOBPAG |          ADDRESS OF A FOUR PAGE BLOCK          |    /|\
       |--------------                    --------------|     |
       |       ONE FOR REQUEST, ONE FOR JOB PARAMS      |     |
       |--------------                    --------------|   NPRINT
       |     ONE FOR LPT BUFFER, ONE FOR LOG BUFFER     |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBOBA |        TABLE OF OBJECT BLOCK ADDRESSES         |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBSTW |                 JOB STATUS WORD                |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBACT |       -1 IF STREAM IS ACTIVE, 0 OTHERWISE      |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBOBJ |              LIST OF SETUP OBJECTS             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   3*NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBWKT |            JOB WAKE TIME (FOR ALIGN)           |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       +________________________________________________+    \|/
						Page 56 
       +------------------------------------------------+
JOBCHK |             STREAM CHECKPOINT FLAG.            |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
JOBUPD |             STREAM UPDATE INDICATOR            |    /|\
       |-------------                       ------------|     |
       |                                                |     |
       |-------------                       ------------|   NPRINT
       |                                                |     |
       |-------------                       ------------|     |
       |                                                |     |
       |------------------------------------------------|    \|/
JOBWAC |              STREAM WTOR ACK CODE.             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   NPRINT
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       +________________________________________________+    \|/




                                                Page 57
                               LPTSPL

                         FLAG DEFINITIONS
       
         0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16             (RH)
        +---------------------------------------------------------------------+
        | | | | | | | | | | |  |  |  |  |  |  |  |                            |
        +---------------------------------------------------------------------+

        Symbols         Bits             Meaning
        -------         ----             --------
        ARROW            0               ARROW MODE IN EFFECT
        SUPFIL           1               NO USER FORM CONTROL
        RQB              3               JOB HAS BEEN REQUED
        SUPJOB           4               SUPPRESS/JOB
        ABORT            5               THE SHIP IS SINKING
        FCONV            6               THE NEXT CHARACTER IS FORTRAN FORMAT DATA
        NEWLIN           7               FLAG FOR BEGINNING OF LINE
        SKPFIL           8               SKIP FUTURE COPIES OF THIS FILE COMPLETELY
        GOODBY           9               IN JOB TERMINATION SEQUENCE
        FBPTOV           10              SPACING PAGE TABLE OVERFLOW BIT
        FORWRD           11              FORWARD SPACING REQUEST IN PROGRESS
        INTRPT           12              STREAM IS CONNECTED TO THE INTERRUPT SYSTEM
        BCKFIL           13              REQUEST WAS BACKSPACED 1 FILE
        BANHDR           14              PRINTING BANNER/HEADER PAGES
        VFULOD           15              VFU LOAD IS IN PROGRESS
        INJOB            16              IN A PRINT JOB (CHECKPOINT SHOULD BE DONE)


                                           Page 58
                             LPTSPL

                        SCHEDULER FLAGS

       0 1 2 3 4 5 6 
      +--------------------------------------------------------------------+
      | | | | | | | |                                                      |
      +--------------------------------------------------------------------+

      Symbols        Bits              Meaning
      -------        ----              -------
      PSF%OB           1               OUTPUT BLOCKED
      PSF%DO           2               DEVICE IS OFF-LINE
      PSF%ST           3               STOPPED BY OPERATOR
      PSF%OR           4               OPERATOR RESPONSE WAIT
      PSF%AL           5               ALIGNMENT TIMER WAIT STATE
      PSF%OO           6               WAITING FOR 2780/3780 OPERATOR OUTPUT







						Page 59

		MOUNTR DATA STRUCTURES

	DEVICE STATUS FILE
	==================

 TOPS-20 DEVICE STATUS IS KEPT IN SYSTEM:DEVICE-STATUS.BIN. IT
 IS MAINTAINED AND EXAMINED SOLELY BY THIS PROGRAM. ITS PURPOSE IS
 TO PRESERVE SYSTEM PERIPHERAL DEVICE STATUS ACROSS  RELOADS.  THE
 FILE IS TREATED AS A MONOLITHIC SET OF PAGES THAT  IS  MAPPED  IN
 ITS ENTIRETY INTO THE AREA DSBUF, WHICH HAS THIS FORMAT:

		!=====================================!
	DSB.CK	!          CHECKSUM OF FILE           !
		!-------------------------------------!
	DSB.PS	!          APR SERIAL NUMBER          !
		!-------------------------------------!
	DSB.NE	!      # OF ENTRIES IN FILE (n)       !
		!-------------------------------------!
	DSB.EO	!                                     !
		\               ENTRY 1               \
		!                                     !
		!-------------------------------------!
		!                  .                  !
		\                  .                  \
		!                  .                  !
		!-------------------------------------!
		!                                     !
		\               ENTRY n               \
		!                                     !
		!=====================================!

						Page 60

	WTB - WRITE-TO-OPERATOR-WITH-REPLY BLOCK
	========================================

 WHEN A ROUTINE MUST ISSUE A MESSAGE TO THE OPERATOR AND RECEIVE A
 RESPONSE, IT CALLS  THE  BTWTOR  ROUTINE.  BTWTOR  SENDS  A  WTOR
 REQUEST TO ORION, BUILDS A WTB, AND PLACES THE WTB ON A QUEUE  OF
 OUTSTANDING  WTOR  REQUESTS.  WHEN  THE  OPERATOR'S  RESPONSE  IS
 RECEIVED FROM ORION,  INWTOR  DEQUEUES  THE  WTB  AND  CALLS  THE
 ROUTINE SPECIFIED IN T1 OF THE BTWTOR CALL WITH:
  T1/ BYTE POINTER TO ASCIZ REPLY FROM OPERATOR
  T2/ ADDRESS OF WTB

	!=======================================================!
WTBLNK	!                WTB QUEUE LINKAGE WORD                 !
	!-------------------------------------------------------!
WTBCOD	!         ACKNOWLEDGMENT CODE FOR THIS MESSAGE          !
	!-------------------------------------------------------!
WTBENT	!       ORIGINATOR'S ROUTINE ADDRESS (BTWTOR T1)        !
	!=======================================================!
						Page 61

		TAPE MOUNT REQUEST STATUS BLOCK
		===============================

	!=======================================================!
RSBLNK	!                  QUEUE LINKAGE WORD                   !
	!-------------------------------------------------------!
RSBIFL	!                    INTERNAL FLAGS                     !
	!-------------------------------------------------------!
RSBUFL	!                  USER-SUPPLIED FLAGS                  !
	!-------------------------------------------------------!
RSBMC1	!     USER'S JOB NUMBER     !       REQUEST TYPE        !
	!-------------------------------------------------------!
RSBMC2	!CURRENT STATE OR ERROR CODE!   ADDR OF ACCOUNT BLOCK   !
	!-------------------------------------------------------!
RSBITN	!           INTERNAL TASK NUMBER FROM QUASAR            !
	!-------------------------------------------------------!
RSBUNO	!                  USER'S USER NUMBER                   !
	!-------------------------------------------------------!
RSBPID	!                      USER'S PID                       !
	!-------------------------------------------------------!
RSBCOD	!              USER'S ACKNOWLEDGEMENT CODE              !
	!-------------------------------------------------------!
RSBRNM	!               SIXBIT MOUNT REQUEST NAME               !
	!-------------------------------------------------------!
RSBWTB	!                                                       !
	\       WRITE-TO-OPERATOR-WITH-REPLY BLOCK (WTB)        \
	!                                                       !
	!-------------------------------------------------------!
RSBACT	!                                                       !
	\                 USER'S ACCOUNT STRING                 \
	!                                                       !
	!-------------------------------------------------------!
RSBRMK	!                                                       !
	\                     USER'S REMARK                     \
	!                                                       !
	!=======================================================!
RSBSSN	!         USER-SUPPLIED VOLUME SET NAME (SIXBIT)        !
	!-------------------------------------------------------!
RSBASN	!             ACTUAL VOLUME SET NAME (SIXBIT)           !
	!-------------------------------------------------------!
RSBVLS	!          QUEUE DESCRIPTOR BLOCK FOR VOLID LIST        !
	!-------------------------------------------------------!
RSBMT1	!   DENSITY   ! DRIVE TYPE  ! LABEL TYPE  !      0      !
	!-------------------------------------------------------!
RSBMT2	!  ADDR OF MT STATUS BLOCK  !  VOLUME PROTECTION CODE   !
	!-------------------------------------------------------!
RSBMT3	!    CURRENT VOLID INDEX    !             0             !
	!=======================================================!
						Page 62

		STRUCTURE MOUNT REQUEST STATUS BLOCK
		====================================

	!=======================================================!
RSBLNK	!                  QUEUE LINKAGE WORD                   !
	!-------------------------------------------------------!
RSBIFL	!                    INTERNAL FLAGS                     !
	!-------------------------------------------------------!
RSBUFL	!                  USER-SUPPLIED FLAGS                  !
	!-------------------------------------------------------!
RSBMC1	!     USER'S JOB NUMBER     !       REQUEST TYPE        !
	!-------------------------------------------------------!
RSBMC2	!CURRENT STATE OR ERROR CODE!   ADDR OF ACCOUNT BLOCK   !
	!-------------------------------------------------------!
RSBITN	!           INTERNAL TASK NUMBER FROM QUASAR            !
	!-------------------------------------------------------!
RSBUNO	!                  USER'S USER NUMBER                   !
	!-------------------------------------------------------!
RSBPID	!                      USER'S PID                       !
	!-------------------------------------------------------!
RSBCOD	!              USER'S ACKNOWLEDGEMENT CODE              !
	!-------------------------------------------------------!
RSBRNM	!               SIXBIT MOUNT REQUEST NAME               !
	!-------------------------------------------------------!
RSBWTB	!                                                       !
	\       WRITE-TO-OPERATOR-WITH-REPLY BLOCK (WTB)        \
	!                                                       !
	!-------------------------------------------------------!
RSBACT	!                                                       !
	\                 USER'S ACCOUNT STRING                 \
	!                                                       !
	!-------------------------------------------------------!
RSBRMK	!                                                       !
	\                     USER'S REMARK                     \
	!                                                       !
	!=======================================================!
RSBSTN	!                STRUCTURE NAME (SIXBIT)                !
	!-------------------------------------------------------!
RSBSTA	!               STRUCTURE ALIAS (SIXBIT)                !
	!-------------------------------------------------------!
RSBMS1	! ADDR OF STR STATUS BLOCK  !             0             !
	!=======================================================!
						Page 63

	MTA STATUS BLOCK
	================

 EACH MTA DEVICE SUPPORTED BY THE SYSTEM HAS A STATUS  BLOCK  THAT
 CONTAINS VARIOUS PIECES OF DEVICE-DEPENDENT INFORMATION. THE  MTA
 AC CONTAINS A POINTER TO THE FIRST WORD OF THE BLOCK THAT BELONGS
 TO THE MTA DEVICE CURRENTLY BEING SERVICED.

	!=======================================================!
MTAVOL	!           VOLID OF CURRENTLY-MOUNTED VOLUME           !
	!-------------------------------------------------------!
MTASET	!          SETNAME OF CURRENTLY-MOUNTED VOLUME          !
	!-------------------------------------------------------!
MTAIDV	!              VOLID FROM IDENTIFY COMMAND              !
	!-------------------------------------------------------!
MTAFLG	!                   SINGLE-BIT FLAGS                    !
	!-------------------------------------------------------!
MTAFIL	!            JFN            !        GTJFN COUNT        !
	!-------------------------------------------------------!
MTAP1	!             !    STATE    ! LABEL TYPE  !   DENSITY   !
	!-------------------------------------------------------!
MTAP2	!  MT STATUS BLOCK ADDRESS  ! REWIND END-ACTION ADDRESS !
	!-------------------------------------------------------!
MTASDN	!    SUPPORTED DENSITIES    !      DRIVE TYPE CODE      !
	!-------------------------------------------------------!
MTAV1	!                                                       !
	\              IMAGE OF VOL1 LABEL ON TAPE              \
	!            (ASCII OR EBCDIC, 8-BIT BYTES)             !
	!-------------------------------------------------------!
MTAV2	!                                                       !
	\              IMAGE OF VOL2 LABEL ON TAPE              \
	!            (ASCII OR EBCDIC, 8-BIT BYTES)             !
	!=======================================================!
						Page 64

	MT STATUS BLOCK
	===============

 EACH MT DEVICE SUPPORTED BY THE SYSTEM HAS A  STATUS  BLOCK  THAT
 CONTAINS DEVICE-RELATED INFORMATION. THE  MT  AC  POINTS  TO  THE
 FIRST WORD OF THE STATUS BLOCK OF THE MT CURRENTLY BEING SERVICED.

	!=======================================================!
MTP1	! ADDR OF MTA STATUS BLOCK  !ADDR OF REQUEST STATUS BLK !
	!=======================================================!
						Page 65

	DISK STATUS BLOCK
	=================

EACH DISK ON THE SYSTEM HAS A STATUS BLOCK THAT CONTAINS INFORMATION
ABOUT THAT DRIVE.  THE DSK AC CONTAINS A POINTER TO THE FIRST WORD
OF THE BLOCK THAT BELONGS TO THE DISK CURRENTLY BEING SERVICED.

	!=======================================================!
DSKSTN !                 SIXBIT STRUCTURE NAME                 !
	!-------------------------------------------------------!
DSKSTA !                 SIXBIT STRUCTURE ALIAS                !
	!-------------------------------------------------------!
DSKLNK !                     QUEUE LINKAGE                     !
	!-------------------------------------------------------!
DSKFLG !                    STATUS OF UNIT                     !
	!-------------------------------------------------------!
DSKNS  !    LOGICAL UNIT NUMBER    !      NUMBER OF UNITS      !
	!-------------------------------------------------------!
DSKP1  !                           0                           !
	!-------------------------------------------------------!
DSKP2  !  STR STATUS BLOCK ADDRESS !             0             !
	!-------------------------------------------------------!
DSKCKU !  CKU NUMBERS (CHANNEL, CONTROLLER, AND UNIT NUMBERS)  !
	!=======================================================!
						Page 66

	STR STATUS BLOCK
	================

EACH STRUCTURE HAS A STATUS BLOCK THAT CONTAINS INFORMATION.  THE STR
AC POINTS TO THE FIRST WORD OF THE STATUS BLOCK OF THE STRUCTURE
CURRENTLY BEING SERVICED.

	!=======================================================!
STRALI !                SIXBIT STRUCTURE ALIAS                 !
	!-------------------------------------------------------!
STRNAM !                SIXBIT STRUCTURE NAME                  !
	!-------------------------------------------------------!
STRFLG !                   STRUCTURE FLAGS                     !
	!-------------------------------------------------------!
STRCNT ! # OF UNITS ! MOUNT COUNT  ! ADDR OF REQUEST STATUS BLK!
	!-------------------------------------------------------!
STRADD !                                                       !
       \           ADDRESS(ES) OF DISK STATUS BLOCK(S)         \
	!                                                       !
	!=======================================================!
						Page 67

	MAGTAPE ACCOUNT STATUS BLOCK
	======= ======= ====== =====

EACH TAPE DISMOUNT CAUSES AN ACCOUNT RECORD TO BE PUT INTO THE SYSTEM
USAGE FILE.  THE ACCOUNT STATUS BLOCK IS MADE WHEN A TAPE IS MOUNTED.

	!=======================================================!
ACCLNK	!                     QUEUE LINKAGE                     !
	!-------------------------------------------------------!
ACCDD	!                   DEVICE DESIGNATOR                   !
	!-------------------------------------------------------!
ACCNO	!             JOB NUMBER    !        LINE NUMBER        !
	!-------------------------------------------------------!
ACCUSR	!                                                       !
	\                       USER NAME                       \
	!                                                       !
	!-------------------------------------------------------!
ACCSTG	!                                                       !
	\                 USER'S ACCOUNT STRING                 \
	!                                                       !
	!-------------------------------------------------------!
ACCCRT	!             DATE/TIME OF REQUEST CREATION             !
	!-------------------------------------------------------!
ACCSCD	!               DATE/TIME WHEN SCHEDULED                !
	!-------------------------------------------------------!
ACCSVT	!                DATE/TIME WHEN SERVICED                !
	!-------------------------------------------------------!
ACCEUT  !                  ELAPSED TIME OF USE                  !
	!-------------------------------------------------------!
ACCDSP	!		       DISPOSITION			!
	!-------------------------------------------------------!
ACCVID	!                   VOLUME IDENTIFIER                   !
	!                                                       !
	!-------------------------------------------------------!
ACCMC1	!CONTROLLER! LABEL!  LABEL  !            0              !
	!-------------------------------------------------------!
ACCPR	!                    RECORDS READ			!
	!-------------------------------------------------------!
ACCPW	!                   RECORDS WRITTEN			!
	!-------------------------------------------------------!
ACCFR	!                FRAMES READ / 1000.			!
	!-------------------------------------------------------!
ACCFW	!              FRAMES WRITTEN / 1000.			!
	!-------------------------------------------------------!
ACCSR	!            NUMBER OF SOFT READ ERRORS			!
	!-------------------------------------------------------!
ACCSW	!            NUMBER OF SOFT WRITE ERRORS		!
	!-------------------------------------------------------!
ACCHR	!            NUMBER OF HARD READ ERRORS			!
	!-------------------------------------------------------!
ACCHW	!            NUMBER OF HARD WRITE ERRORS		!
	!-------------------------------------------------------!
ACCFSI	!                  FILE SET IDENTIFIER                  !
	!=======================================================!
						Page 68

	STRUCTURE ACCOUNT STATUS BLOCK
	========= ======= ====== =====

EACH STRUCTURE DECREMENT CAUSES AN ACCOUNT RECORD TO BE PUT INTO THE
SYSTEM USAGE FILE.  THE ACCOUNT STATUS BLOCK IS MADE WHEN A STRUCURE
IS INCREMENTED.

	!=======================================================!
ACCLNK	!                     QUEUE LINKAGE                     !
	!-------------------------------------------------------!
ACCDD	!                   DEVICE DESIGNATOR                   !
	!-------------------------------------------------------!
ACCNO	!             JOB NUMBER    !        LINE NUMBER        !
	!-------------------------------------------------------!
ACCUSR	!                                                       !
	\                       USER NAME                       \
	!                                                       !
	!-------------------------------------------------------!
ACCSTG	!                                                       !
	\                 USER'S ACCOUNT STRING                 \
	!                                                       !
	!-------------------------------------------------------!
ACCCRT	!             DATE/TIME OF REQUEST CREATION             !
	!-------------------------------------------------------!
ACCSCD	!               DATE/TIME WHEN SCHEDULED                !
	!-------------------------------------------------------!
ACCSVT	!                DATE/TIME WHEN SERVICED                !
	!-------------------------------------------------------!
ACCEUT  !                  ELAPSED TIME OF USE                  !
	!-------------------------------------------------------!
ACCDSP	!		       DISPOSITION			!
	!-------------------------------------------------------!
ACCSTN	!                    STRUCTURE NAME                     !
	!-------------------------------------------------------!
ACCMCT	!    MOUNT COUNT BEFORE     !     MOUNT COUNT AFTER     !
	!-------------------------------------------------------!
ACCMC2	!CONTROLLER! DEVICE!   STR  !      NUMBER OF UNITS      !
	!-------------------------------------------------------!
ACCFRK	!     NUMBER OF JOB FORKS INCREMENTING MOUNT COUNT      !
	!=======================================================!


						Page 69
                               OPR

		SPECIAL ACCUMULATOR ASSIGMENTS

	FLAG==14		Flag AC for OPR
	  O.ACKP==1B0		ACK message being processed
	  O.LAST==1B1		Last line of message
	  O.ERRP==1B2		Error processing of message
	  O.DSPM==1B3		Display message sent
	  O.CCL ==1B4		CCL entry
	MD==15			Message for display
	M==16

		TOPS-10

	CNFTBL==11		Configuration table
	DEVOPR==13		Name of current operator

		END TOPS-10

	PDLEN	^D200		Size of OPR Stack
						Page 70

                         OPR IMPURE DATA

OPRDAT +------------------------------------------------+
DEFTAB |          ADDRESS OF TABLES BEING USED          |
       |------------------------------------------------|
HDRTAB |               MAIN TABLE SETTING               |
       |------------------------------------------------|   
HDRPMT |             PROMPT FOR APPLICATION             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  10 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
CMDDAT |          COMND DATA COLLECTED IN PARSE         |
       |------------------------------------------------|
ENTCOD |             CODE OF THE TABLE TYPE             |
       |------------------------------------------------|
TABCOD |            CODE FOR APPLICATION TYPE           |
       |------------------------------------------------|
MYNODE |                NODE OF THIS OPR                |
       |------------------------------------------------|
SAVACS |     WHERE THE ACS ARE STORED DURING ROUTIM	|    /|\
       |--------------			  --------------|     |
       |						|     |
       |--------------			  --------------|  20 Words
       |						|     |
       |--------------			  --------------|     |
       |						|    \|/
       |------------------------------------------------|

       STORAGE FOR PARSER TO EVENT PROCESSOR COMMUNICATION

       +------------------------------------------------+
PARBLK |         SPACE FOR PARSER CALL ARGUMENTS        |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   PAR.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/

						Page 71

                STORAGE FOR DISPLAY PROCESSING

       +------------------------------------------------+
DSPPTR |           DESTINATION DISPLAY POINTER          |
       |------------------------------------------------|
SRCPTR |	SOURCE POINTER				|
       |------------------------------------------------|
DSPFLG |               DISPLAY BLOCK FLAGS              |
       |------------------------------------------------|
TEMOUT |              LEAVE ROOM FOR A LINE             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  20 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
REMOPR |           REMOTE OPERATOR IN USE FLAG          |
       |------------------------------------------------|
REMACC |           REMOTE ACCESS (NSP ON -20)           |
       |------------------------------------------------|
TEMPTR |           TEMPORARY POINTER FOR TEXT           |
       |------------------------------------------------|
HOSTNM |                HOST NAME FOR OPR               |
       |------------------------------------------------|
ERRCOD |            ERROR CODE FOR OPR ERRORS           |
       |------------------------------------------------|
INTDSP |             INTERRUPT DISPLAY FLAG             |
       |------------------------------------------------|
MSGCNT |        COUNT OF IPCF MESSAGES ON WAKEUP        |
       |------------------------------------------------|
TAKFLG |                TAKE COMMAND FLAG               |
       |------------------------------------------------|
ARG1   |          ARGUMENT FOR ERROR PROCESSING         |
       |________________________________________________|


						Page 72
                         TOPS-20 ONLY

       +------------------------------------------------+
DCNDAT |           BLOCK FOR TASK CONNECT NAME          |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  5 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
INPJFN |                 LINK INPUT JFN                 |
       |------------------------------------------------|
OUTJFN |                 LINK OUTPUT JFN                |
       |------------------------------------------------|
BUFADR |            BUFFER ADDRESS FOR OUTPUT           |
       |------------------------------------------------|
OUTPTR |           POINTER FOR OUTPUT TO LINK           |
       |------------------------------------------------|
OUTCNT |            COUNT FOR OUTPUT TO LINK            |
       |------------------------------------------------|
INPDON |               INPUT DONE ON LINK               |
       |------------------------------------------------|
OUTCON |               OUTPUT CONNECT LINK              |
       |------------------------------------------------|
OUTACT |               OUTPUT LINK ACTIVE               |
       |------------------------------------------------|
NETBUF |            ADDRESS OF NETWORK BUFFER           |
       |------------------------------------------------|
FRKRUN |          FORK RUNNING (-1 IF RUNNING)          |
       |------------------------------------------------|
FRKJFN |                  JFN FOR EXEC                  |
       |------------------------------------------------|
FRKHND |                 HANDLE FOR FORK                |
       |------------------------------------------------|
TRPCHN |            TRAP CHANNELS FOR CONTL-C           |
       |------------------------------------------------|
SAVTWD |               SAVE TERMINAL WORD               |
       |--------------                    --------------|
       |                    Two Words                   |
       |------------------------------------------------|
SAVMOD |                 SAVE MODE WORD                 |
       |________________________________________________|
LEV1PC |						|
       |------------------------------------------------|
LEV2PC |						|
       |------------------------------------------------|
LEV3PC |						|
DATEND |================================================|

	DATASZ==DATEND-OPRDAT		Size of data area
						Page 73
                            OPRPAR

                PARSER DATA BASE AND CONSTANTS

       +------------------------------------------------+
CURRPB |          CURRENT PARSER BLOCK ADDRESS          |
       |------------------------------------------------|
PREVPB |          PREVIOUS PARSER BLOCK ADDRESS         |
       |------------------------------------------------|
PRMFLG |         FLAG FOR "PROCESSING MESSAGES"         |
       |------------------------------------------------|
CURPMT |            POINTER TO CURRENT PROMPT           |
       |------------------------------------------------|
CURPTR |         POINTER TO START OF LAST FIELD         |
       |------------------------------------------------|
CURPDB |           PDB FOR THE DEFAULT FILLER           |
       |------------------------------------------------|
TIMSET |                  TIMER WAS SET                 |
       |------------------------------------------------|
TIMINT |             TIMER INTERUPT BREAKOUT            |
       |------------------------------------------------|
TIMCHK |          FLAG THAT TIMER CHECKS IN USE         |
       |------------------------------------------------|
TIMDAT |           DATA FROM PARSER INIT CALL           |
       |--------------                    --------------|
       |                    Two Words                   |
       |------------------------------------------------|
TIMPC  |         ADDRESS OF THE PC AT INTERRUPT         |
       |------------------------------------------------|
TIMSTI |         TIMER INTERUPT CHARACTER SETUP         |
       |------------------------------------------------|
PRMTSZ |               SIZE OF THE PROMPT               |
       |------------------------------------------------|
OPRTAK |          DEFAULT DISPLAY FOR ALL TAKES         |
       |------------------------------------------------|
TXTDAT |              TEXTI ARGUMENT BLOCK              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| .RDBRK+1
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
TEMPTR |             TEMPORARY TEXT POINTER             |
       |------------------------------------------------|
DSPTAK |            DISPLAY TAKE COMMAND FLAG           |
       |------------------------------------------------|
PARBLK |               PARSER RETURN BLOCK              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PRT.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
						Page 74
       |------------------------------------------------|
PARINT |             PARSER INITIALIZED FLAG            |
       |------------------------------------------------|
CORPAR |         INITIAL SETTING FOR CORE PARSE         |
       |------------------------------------------------|
REEPAR |      FLAG SAYS WE WERE CALLED FOR REPARSE      |
       |------------------------------------------------|
CMDBLK |       COMMAND STATE BLOCK FOR COMND JSYS       |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------| .CMGJB+5
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
BUFFER |             INPUT TEXT STORED HERE             |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  BUFSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
ATMBFR |           ATOM BUFFER FOR COMND JSYS           |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  ATMSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
GJFBLK |           GTJFN BLOCK FOR COMND JSYS           |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  GJFSIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
DENTRY |          DELETE ENTRY WORDS(S1 AND S2)         |
       |--------------                    --------------|
       |                    Two Words                   |
       |------------------------------------------------|
DFLAGS |         DELETE FLAG FOR TEMP SWITCH TAB        |
       |------------------------------------------------|
TEMTAB |         SAVE 10 WORDS FOR SWITCH TABLE         |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  TEMTSZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
						Page 75
       |------------------------------------------------|
TEMFDB |                  TEMP FDB AREA                 |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PDB.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
CMDERR |          SPACE FOR COMMAND ERROR TEXT          |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  50 Words
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
CMDEPT |          COMMAND ERROR MESSAGE POINTER         |
       |------------------------------------------------|
CMDECT |           COMMAND ERROR MESSAGE COUNT          |
       |------------------------------------------------|
CMDRET |               COMMAND RETURN DATA              |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PC.SIZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
ARGSAV |         SAVE AREA FOR PARSER ARGUMENTS         |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  PAR.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
ERRSAV |            MESSAGE ADDRESS ON ERROR            |
       |------------------------------------------------|
ERRSTG |            ADDRESS OF ERROR MESSAGE            |
       |________________________________________________|

              STORAGE FOR $TEXT CHARACTER STORER

       +------------------------------------------------+
STRBP  |            SPACE FOR A BYTE POINTER            |
       |________________________________________________|

						Page 76
      STORAGE FOR PARSER TO EVENT PROCESSOR COMMUNICATION

       +------------------------------------------------+
PARDAT |         ADDRESS OF PARSER DATA MESSAGE         |
       |------------------------------------------------|
ARGFRE |     POINTER TO FIRST FREE WORD IN ARG SPACE    |
       |------------------------------------------------|
FLAGS  |                PARSER FLAG WORD                |
       |------------------------------------------------|
ERRSTK |             ERROR STACK FOR COMMAND            |
       |------------------------------------------------|
INTEXT |                 INTERRUPT EXIT                 |
       |________________________________________________|

                         TAKE STORAGE

       +------------------------------------------------+
CMDIFN |          STORAGE FOR COMMAND FILE IFN          |
       |------------------------------------------------|
LOGIFN |          STORAGE FOR LOGGING FILE IFN          |
       |------------------------------------------------|
CMDJFN |          STORAGE FOR COMMAND FILE JFN          |
       |------------------------------------------------|
LOGJFN |          STORAGE FOR LOGGING FILE JFN          |
       |------------------------------------------------|
TAKFLG |     FLAG TO INDICATE WE ARE IN TAKE COMMAND    |
       |________________________________________________|


						Page 77
                             ORION

                        Global Storage

G$STAD
       +------------------------------------------------+
G$HOST |	NODE NAME OF CENTRAL SITE			|
       |------------------------------------------------|
G$HSTN |	NODE NUMBER OF CENTRAL SITE		|
       |------------------------------------------------|
G$NOW  |	CURRENT IME OF DAY			|
       |------------------------------------------------|
G$ERR  |       ERROR CODE FOR ACK'ING THIS MESSAGE      |
       |------------------------------------------------|
G$SEQ  |    GLOBAL SEQUENCE NUMBER FOR OPR DISPLAYS.    |
       |------------------------------------------------|
G$FLAG |	SENDER'S FLAGS (FROM IPCF MESSAGE)	|
       |------------------------------------------------|
G$SND  |	SENDER'S PID				|
       |------------------------------------------------|
G$PRVS |                 SENDER'S PRIVS                 |
       |------------------------------------------------|
G$SID  |                   SENDER'S ID                  |
       |------------------------------------------------|
G$JOB  |	SENDER'S JOB NUMBER			|
       |------------------------------------------------|
G$NODE |	SENDER'S NODE NAME (SIXBIT)		|
       |------------------------------------------------|
G$NODX |	SENDER'S NODE NAME (ASCII)		|
       |------------			    ------------|
       |		(2 Words)			|
       |------------------------------------------------|
G$PRIV |	SENDER'S PRIVS				|
       |------------------------------------------------|
G$NODL |	NODE LIST NUMBER			|
       |------------------------------------------------|
G$OPRA |         OPR ADDRESS ORIGINATING REQUEST        |
       |------------------------------------------------|
G$ASND |         FLAG TO FORCE SENDS OF MESSAGE         |
       |------------------------------------------------|
G$JDAT |             BATCH-STREAM..WTO BITS             |
       |------------------------------------------------|
G$OUTP |            OUTPUT MESSAGE PAGE FLAG            |
       |------------------------------------------------|
G$ARG1 |                ERROR ARGUMENT 1                |
       |------------------------------------------------|
G$ARG2 |                ERROR ARGUMENT 2                |
       |------------------------------------------------|
G$ARG3 |                ERROR ARGUMENT 3                |
       |------------------------------------------------|
G$SNDF |             COUNT OF SEND FAILURES             |
       |------------------------------------------------|
G$RSDL |         LIST NUMBER FOR RESEND ENTRIES         |
       |------------------------------------------------|
G$NSNT |         COUNT OF MESSAGES NOT SENT YET         |
       |------------------------------------------------|
						Page 78

       |------------------------------------------------|
G$SNDL |         LIST FOR MESSAGES NOT SENT YET         |
       |------------------------------------------------|
G$RSDC |       NUMBER OF MESSAGES TO RESEND COUNT       |
       |------------------------------------------------|
G$CHKM |	WTOR MESSAGE CHECK REQUESTED		|
       |------------------------------------------------|
G$MSGC |      NUMBER OF THE MESSAGE BEING PROCESSED     |
       |------------------------------------------------|
G$SFPD |                SEND FAILURE PID                |
       |------------------------------------------------|
G$MJOB |                ORIONS JOB NUMBER               |
       |------------------------------------------------|
G$MAXP |               MAXIMUM PACKET SIZE              |
       |------------------------------------------------|


                          TOPS-20 ONLY

       +------------------------------------------------+
G$NETL |               NETWORK SERVER LIST              |
       +------------------------------------------------+

			END TOPS-20 ONLY

       +------------------------------------------------+
G$2SCR |	2 WORD GENERIC SCRATCH SPACE		|
       |--------------                    --------------|
       |                                                |
       +________________________________________________+
						Page 79

                        Main Data Local Storage

                TEMPORARY STORAGE FOR TEXT MOVER

       +------------------------------------------------+
TXTPTR |           SAVE AREA FOR BYTE POINTER           |
       |------------------------------------------------|
PARBLK |                PARSER CALL BLOCK               |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|   PAR.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
PARBUF |              PARSER BUFFER POINTER             |
       |------------------------------------------------|
SNDBLK |             SEND BLOCK FOR MESSAGES            |    /|\
       |--------------                    --------------|     |
       |                                                |     |
       |--------------                    --------------|  SAB.SZ
       |                                                |     |
       |--------------                    --------------|     |
       |                                                |     |
       |________________________________________________|    \|/
SNDPTR |              SEND ROUTINE POINTER              |
       |________________________________________________|
TABADR |              OPR DATA BASE ADDRESS             |
       |------------------------------------------------|
TABFRE |            OPR DATA BASE FREE COUNT            |
       |------------------------------------------------|
TABCNT |          OPR DATA BASE AVAILABLE COUNT         |
       |________________________________________________|

         BYTE POINTER FOR COMMON TEXT STORAGE ROUTINE

       +------------------------------------------------+
STRBP: |                BYTE POINTER WORD               |
       |________________________________________________|
STRCT: |		BYTE COUNT WORD			|
       +------------------------------------------------+
						Page 80

                          TOPS-10 ONLY

       +------------------------------------------------+
OPRPPN |                 OPR PPN ON -10                 |
       |________________________________________________|
FRCLIN |	LINE NUMBER OF 'FRCLIN'			|
       |------------------------------------------------|
SNDTXT |     TEXT BUFFER FOR 'SEND ALL' (72 CHR MAX)	|
       |------------			    ------------|
       |						|
       |------------			    ------------|
       |		(^D15 Words)			|
       |------------			    ------------|
       |						|
       +------------------------------------------------+

			END TOPS-10 ONLY
						Page 81

			WTO Local Storage

	|===============================================|
WDATXT	|	WTO TEXT DATA ADDRESS			|
	|-----------------------------------------------|
WDAOBJ	|	WTO OBJECT BLOCK ADDRESS		|
	|-----------------------------------------------|
WDAOBT	|	WTO OBJECT TYPE				|
	|-----------------------------------------------|
WDADES	|	WTO DESTINATION VALUE			|
	|-----------------------------------------------|
WDAJOB	|	WTO JOB NUMBER				|
	|-----------------------------------------------|
WDAERR	|	WTO ERROR CODE				|
	|-----------------------------------------------|
WDARTE	|	WTO ROUTE CODE				|
	|-----------------------------------------------|
WDATYP	|	WTO TYPE CODE				|
	|-----------------------------------------------|
WDAANS	|	WTO ANSWER BLOCK			|
	|-----------------------------------------------|
WDAFLG	|	WTO FLAG WORD				|
	|----------------------------------------------|
WDAACD	|	WTO APPLICATION CODE BLOCK		|
	|===============================================|

	WDAEND==WDAACD

			END OF WTO FIELDS
						Page 82

		General Local Data Storage

	|===============================================|
WTOCNT	|	COUNT OF BYTES IN MESSAGE		|
	|-----------------------------------------------|
WTOPTR	|	OUTPUT BYTE POINTER			|
	|-----------------------------------------------|
SRCPTR	|	SOURCE POINTER				|
	|-----------------------------------------------|
DESPTR	|	DESTINATION POINTER			|
	|-----------------------------------------------|
DESCNT	|	DESTINATION COUNT			|
	|-----------------------------------------------|
RSDCNT	|	RESEND COUNT OR OPRS TO SEND TO		|
	|-----------------------------------------------|
MSGCNT	|	COUNT OF OPRS RECEIVING THIS MESSAGE	|
	|-----------------------------------------------|
OPRRCT	|	COUNT OF ENTRIES IN RESEND LIST		|
	|-----------------------------------------------|
OPRRSL	|	OPR RESEND LIST NUMBER			|
	|-----------------------------------------------|
PAGFLG	|	PAGE MESSAGE TO BE SENT			|
	|-----------------------------------------------|
NOALTN	|	NO ALTERNATE NODES ON SEND FLAG		|
	|-----------------------------------------------|
SRCWRD	|	SCRATCH WORD FOR EACH COMMAND		|
	|===============================================|
						Page 83

	Job Related Global Data For Log And Display

	|===============================================|
JOBNUM	|	JOB NUMBER				|
	|-----------------------------------------------|
JOBTTY	|	JOB TERMINAL NUMBER			|
	|-----------------------------------------------|
JOBNOD	|	JOB'S NODE				|
	|-----------------------------------------------|
JOBLIN	|	JOB'S LINE				|
	|-----------------------------------------------|
JOBUSN	|	JOB USER NAME				|
	|------------                       ------------|
	|		(2 Words)			|
	|-----------------------------------------------|
JOBNAM	|	JOB PROGRAM NAME			|
	|-----------------------------------------------|
JOBJLT	|	JOB LOGGED IN TIME			|
	|-----------------------------------------------|
JOBID	|	JOB NUMBER OR PPN			|
	|-----------------------------------------------|
JOBTER	|	ITEXT ADDRESS FOR TERMINAL DATA		|
	|-----------------------------------------------|
JOBTXT	|	ITEXT FOR JOB READER			|
	|-----------------------------------------------|
	|						|

			Local Storage

	|						|
	|-----------------------------------------------|
SFLADR	|	ADDRESS OF SEND FAILURE			|
	|-----------------------------------------------|
SFLCNT	|	NUMBER OF POSSIBLE ENTRIES		|
	|-----------------------------------------------|
SFLFRE	|	NUMBER OF FREE ENTRIES			|
	|===============================================|
						Page 84

		NSP Data For Links Local Storage

	|===============================================|
LEV1PC	|	PC FOR LEVEL 1 INTERRUPT		|
	|-----------------------------------------------|
LEV2PC	|	PC FOR LEVEL 2 INTERRUPT		|
	|-----------------------------------------------|
LEV3PC	|	PC FOR LEVEL 3 INTERRUPT		|
	|-----------------------------------------------|
	|						|
			Global Storage
	|						|
	|-----------------------------------------------|
TRMFRK	|	FORK TERMINATION FLAG			|
	|-----------------------------------------------|
NSPCON	|	CONNECT INTERRUPT FLAG  -1..CONNECT	|
	|-----------------------------------------------|
NSPACT	|	FLAG FOR NSP SETUP  -1..ACTIVE		|
	|-----------------------------------------------|
NODNAM	|	NODE NAME FOR CURRENT CONNECT		|
	|--------------			  --------------|
	|		(2 Words)			|
	|-----------------------------------------------|
SRVDAT	|	STORAGE FOR SERVER DATA CHECK		|
	|------------			    ------------|
	|		(2 Words)			|
	|-----------------------------------------------|
SRVTBL	|	ALLOCATE TABLE SPACE			|
	|-----------			    ------------|
	/						/
	/		(SRV.SZ*NUMSRV Words)		/
	/						/
	|-----------------------------------------------|
SRVACS	|	BLOCK FOR ACS				|
	|------------			    ------------|
	/						/
	/		(20 Words)			/
	/						/
	|-----------------------------------------------|
	|						|
			Local Storage
	|						|
	|-----------------------------------------------|
NFYDIR	|	NOTIFY DIRECTORY NUMBER			|
	|-----------------------------------------------|
NYFSUB	|	SUBJECT POINTER				|
	|-----------------------------------------------|
NFYTXT	|	TEXT POINTER				|
	|-----------------------------------------------|
SCHBLK	|	SCHEDULAR DATA WORDS			|
	|------------			    ------------|
	/						/
	/		   (10 Words)			/
	/						/
DATEND	|===============================================|
						Page 85

                             ORNMAC

		Special AC Assignments

	Symbol		AC		Description

	MI		15		Pointer to message received
	MO		14		Pointer to message sent
	FLAG		13		Flag AC
						Page 86

All ORION messages consist of a message header, at least one object 
area, an ORNMAC version number, and a pointer to an argument length
word.


			OPR/ORION Message Codes

The following codes are placed into the message header field, MS.TYP to
indicate what type of message follows.


	Symbol		Value		Meaning

	.OMOFF		200000		Offset of First Orion Message
	.OMSTA		200002		Start Message
	.OMSHT		200003		Shutdown Message
	.OMPAU		200004		Pause Message
	.OMCON		200005		Continue Message
	.OMSHS		200006		Show Status Message
	.OMAHL		200007		Application Hello Message
	.OMSTS		200010		Status Message
	.OMWTO		200011		Write To Operator Message
	.OMRSP		200012		Response To Wto Message (Sent By ORION)
	.OMWTR		200013		WTOR Message
	.OMACK		200014		Acknowledgement Message
	.OMOHL		200015		OPR Hello Message
	.OMOST		200016		OPR Setup Message
	.OMOSR		200017		OPR Setup Reply
	.OMHAC		200020		Hello ACK For Applications
	.OMQHL		200021		QUASAR Hello Message
	.OMREQ		200025		Requeue Message
	.OMCAN		200026		Cancel Message
	.OMSET		200027		Set Message
	.OMFWS		200031		Forwardspacing Message
	.OMALI		200032		Align Message
	.OMSUP		200033		Suppress Message
	.OMBKS		200034		Backspace Command
	.OMSND		200035		Send Command
	.OMSHC		200036		Show Control File(Examine)
	.OMSHP		200037		Show Parameters Message
	.OMRTE		200040		Route Command
	.OMSHQ		200041		Show Queues Command
	.OMHLD		200042		Hold Command
	.OMREL		200043		Release Command
	.OMSHR		200044		Show Route Tables Command
	.OMACS		200045		ACK For Show Messages
	.OMTKE		200046		End Of Take File Flag
	.OMCMD		200050		OPR Command Message
	.OMDSP		200051		Display Message To Pass Display to OPR
	.OMSHM		200052		Show Mount Requests
	.OMLOG		200053		LOG Message Type
	.OMNFY		200054		Notify Message From Quasar
	.OMDEL		200055		Delete Command
						Page 87
	.OMSUB		200056		Submit Command
	.OMPRT		200057		Print Command
	.OMMOD		200060		Modify Command
	.OMQUE		200061		Queue Request Enable/Disable
	.OMENA		200062		Enable Message
	.OMDIS		200063		Disable Message
	.OMDEF		200064		Define Command
	.OMD60		200065		DN60 Command Message
	.OMSSN		200066		Show Status Network-Node
	.OMSPN		200067		Show Parameters Network-Node
	.OMRTD		200070		Device Routing Command
	.OMNXT		200071		Next Command
	.OMHGH		.OMNXT		Highest Define Orion Message
	.OMTXT		MT.TXT		Text Message Symbol
	MT.TXT		700000		Text Message Value

       MESSAGE CODES USED FOR TAPE AND DISK COMMANDS IN RELEASE 4

	.ODMES		201000		Offset For Tape And Disk Messages
	.ODSHT		201001		Show Status Tape
	.ODSHD		201002		Show Status Disk Drives
	.ODENA		201003		Enable Tape Command
	.ODDIS		201004		Disable Mount Command
	.ODMTS		201005		Mount Structure Command
	.ODDSM		201006		Dismount Command
	.ODSDK		201007		Set Disk Command
	.ODSTP		201010		Set Tape Command
	.ODSST		201011		Set Structure Command
	.ODREC		201012		Recognize Command For -10
	.ODUNL		201013		Unload Command
	.ODIDN		201014		Identify Mount Request Message
	.ODDMT		201015		Delete Mount Requests
	.ODSWI		201016		Switch Command for Tape Requests
	.ODSTR		201017		Show Status Structures
	.ODLOC		201020		Lock Command
	.ODULC		201021		Unlock Command
	.ODCSL		201022		Change System-Lists
	.ODSSL		201023		Show System Lists
	.ODSAL		201024		Show Allocation
						Page 88
                     ORION COMMAND MESSAGES

The following is a description of  the layout of all messages sent  to
an object processor signing on with the standard hello message as well
as respond messages for WTO.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
.OFLAG	!                       FLAG WORD                       !
	!-------------------------------------------------------!
.OARGC	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
.OHDRS		            SIZE OF THE HEADER
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
ARG.HD	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	!							!

		AR.LEN==-1,,0		Length of Block
		AR.TYP==0,,-1		Type of Block
	!							!
	!-------------------------------------------------------!
ARG.DA	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!
ARG.SZ                  MINIMUM SIZE OF THE BLOCK



                  GENERAL DATA TYPES FOR ALL MESSAGES


	Symbol		Value		Meaning

	.OROBJ		100		Object Block
	.ORTYP		101		Object Type Field
	.ORJBN		102		Jobname Type Field
	.ORSEQ		103		Sequence Number Field
	.ORREA		104		Reason Type Field
	.ORDSP		105		Opr Display Argument
	.ORREQ		106		Request Number Field
	.ORNOD		107		Node Block For Quasar Validation
	.ORD60		110		DN60 Block Of Data
	.ORTIM		111		Time Block (UDT)
	.ORJNU		112		Job Number Field



						Page 89
                OPRHEL -- OPR HELLO MESSAGE TO ORION

This messge is sent by an OPR to ORION identifying what node
the OPR is at.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


	THIS MESSAGE USES THE STANDARD ARGUMENT HEADER LAYOUT
	AND REQUIRES ONE ARGUMENT BLOCK AT THIS TIME

	THIS ARGUMENT BLOCK CONTAINS FOUR WORDS

	1.	NODE NAME WHERE OPR LOCATED
	2.	OPR VERSION NUMBER
	3.	ORNMAC VERSION NUMBER


	THE FOLLOWING FLAGS WILL BE TURNED ON BY AN OPR ON THE -20
	WITH REMOTE PRIVILEGES.

	OP.RMT==1B0		;REMOTE OPERATOR HELLO

	.OPHEL==100		;OPR HELLO BLOCK TYPE


						Page 90

	!=======================================================!
OPH.ND  !                OPR HELLO NODE LOCATION                !
        !-------------------------------------------------------!
OPH.VN  !               VERSION NUMBER OF THE OPR               !
        !-------------------------------------------------------!
OPH.OV  !                 ORNMAC VERSION NUMBER                 !
        !-------------------------------------------------------!
OPH.SZ                    LENGTH OF THE BLOCK


                START,STOP(PAUSE),CONTINUE AND SHUTDOWN

       The format for these messages  is just an object  block
       except that the start command for printers will take an
       optional argument for device.


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


	THE MESSAGES ALL CONTAIN AN OBJECT BLOCK	.OROBJ
	AND FOR START OF PRINTERS AND OPTIONAL		.CMDEV



       The start  and shutdown  commands  can contain  just  a
       .ORNOD block for the shutdown/start node command.

	The STOP command has the following bits defined in .OFLAG:

		ST.IMM==1B0	Stop the device immediately
		ST.ACR==1B1	Stop the device after the current request
		ST.AER==1B2	Stop the device after every request
						Page 91
            OPRSET	--	OPR SETUP MESSAGE FROM ORION

       This message is sent by ORION to an OPR in response  to
       the hello message. This  message is used to  syncronize
       all OPRs with the current application table settings.


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       This message will contain application names to be added
       to tables in OPR.

	Symbol		Value		Meaning

	.APNAM		10000		Define Application Name Code
					Argument is the ASCIZ Block
					of name to add.


						Page 92
              OPRSTR	--	OPR SETUP REPLY TO ORION

       This message is sent to ORION  by OPR in response to  a
       setup message. After this message  is sent the OPR  can
       now input commands to ORION if successful.



	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The argument block consists  of the following. OPR will
       return with a code for success or failure.


	Symbol		Value		Meaning

	.ORSUC		10100		Success Type, Length of 1
	.ORFAL		10101		Failure Type, Length of 1


						Page 93
              APLHEL	--	APPLICATION HELLO MESSAGE

       This message is sent by an application program  wishing
       to use an alternate set of command tables as  specified
       at ORION startup. The string specified will be used  as
       the prompt if you enter the application level or as the
       keyword to identify the application command the message
       format uses  the new  message header  and the  standard
       argument block format as described under ORION  command
       messages.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	

			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!

       Currently the  following  are the  defined  application
       types that can be included in the message.

                       APPLICATION HELLO TYPES

	Symbol		Value		Meaning

	.AHNAM		10200		Type  for   the  application   name
					string  the  argument  block   will
					contain  the  name  string  in  the
					argument data  area.  The  argument
					length includes the argument header
					and the  application  name  string.
					The  name  must   be  asciz.    The
					argument count word  in the  header
					should contain a 1.


						Page 94
          APLACK	--	ACKNOWLEDGEMENT TO APPLICATION HELLO
       
       This message  is sent  by ORION  to an  application  in
       response to  the application  hello message  containing
       the internal  type code  assigned to  this  application
       processor. This  code  will  be used  to  identify  all
       requests from ORION to the application.
       
       The format of the message is the standard ORION message
       header for commands with an argument block.


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS

	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       Currently the  following  are the  defined  application
       types that can be included in the message.

               APPLICATION HELLO ACKNOWLEDGEMNT TYPES


	Symbol		Value		Meaning

	.AHTYP		10300		This code is  used to describe  the
					field  containing  the  application
					type code  returned by  ORION.  The
					code is a full word.  The  argument
					block will consist of a header  and
					one data word for a length of 2 the
					argument count will have a 1.

						Page 95
                           The SET Message

       The set message  is used to  set scheduling  parameters
       for an object only one parameter can be set at a time.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS

	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


                      ARGUMENT TYPES AND VALUES

       For arguments  where the  type is  sufficent the  block
       will have a  length of  one, otherwise  the block  will
       contain the appropriate  data element  and include  its
       length in the block header.
       
       The message  will always  contain  an object  block  to
       describe the object.

	.OROBJ		Object Block Argument Type

	Symbol		Value		Meaning

	.STPGL		10400		Page Limits..Header..Min..Max
	.STOPL		.STPGL		Set Ouput-limit
	.STFRM		10401		Forms Type..header..sixbit Forms Type
	.STMEM		10402		Core Limits..header..min..max
	.STTIM		10403		Time Limits..header..min..max
	.STPRI		10404		Priority Limits..header..min..max
	.STOIA		10405		OPR Intervention..header
	.STNOI		10406		Noopr-Intervention..header
						Page 96
	.STLEA		10407		Limit Exceed Action Header..data
					Takes as an argument:

					   .STCAN  1	CANCEL
					   .STASK  2	ASK
					   .STIGN  3	IGNORE

	.STCSD		10410		Clear to Send Delay
	.STDTR		10411		Data Terminal Ready
					Takes as an argment:

					   ST.ON   1	ON
	 				   ST.OFF  2	OFF
	.STRPM		10412		Records Per Message
	.STSWL		10413		Silo Warning Level
	.STTOU		10414		Timeout Category
					   ST.PRI  1	PRIMARY
					   ST.SEC  2	SECONDARY
	.STTRA		10415		Transparency (ST.ON Or ST.OFF)
	.STBPM		10416		Bytes Per Message
	.STSON		10417		Signon-Required
	.STNSN		10420		No-Signon-Required

	.STATR		10421		Set Attributes
	.STEND		.STATR		Last Symbol

						Page 97
                 FORWARDSPACE AND BACKSPACE COMMANDS

       These  two  commands  are  identical  except  that  the
       message type will describe the desired action

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The  following  are  the  defined  argument  types  for
       forwardspace and backspace. In  all cases the  argument
       block will have a length of 2 and the postioning amount
       will appear in  the argument data  word.  All  messages
       will contain an object block describing the  particular
       unit.

                          OBJECT BLOCK TYPE


	Symbol		Value		Meaning

	.SPPAG		10500		Spacing Number of Pages
	.SPCPY		10501		Spacing Number of Copies
	.SPFIL		10502		Spacing Number of Files

						Page 98
                      HOLD AND RELEASE COMMANDS

       The  format  of  the  hold  and  release  commands  are
       identical except  for  the  message  type  the  message
       structure is the standard  message header and a  number
       of argument  blocks describing  the job(s)  to hold  or
       release

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The following are  the defined arguments  for the  hold
       and release command

		.ORTYP		THE QUEUE AFFECTED BY THE HOLD
		.CMUSR		THE USERS JOBS IN THAT QUEUE TO AFFECT
		.ORRQN		THE REQUEST NUMBER OF THE JOB

       If only the .ORTYP field is specified then all jobs  in
       the specified  queue are  to  be held.  Otherwise  each
       argument   will   further   qualify   the   job(s)   to
       hold/release.
						Page 99
                           MODIFY MESSAGE

       The modify message is used to modify the parameters  of
       a job request

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The following are the defined arguments to describe the
       entry to be modified

		.ORTYP		THE QUEUE AFFECTED BY THE HOLD
		.CMUSR		THE USERS JOBS IN THAT QUEUE TO AFFECT
		.ORRQN		THE REQUEST NUMBER OF THE JOB

       If only the .ORTYP field is specified then all jobs  in
       the specified queue are to be modified. Otherwise  each
       argument will further qualify the job(s) to modify.

       The following are the valid paramters for all queues
       
	Symbol		Value		Meaning

	.MOPRI		11600		modify priority

						Page 100
                            ROUTE COMMAND

       The route command will route  the output from one  node
       to another

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The route command supports the following block types

	Symbol		Value		Meaning

	.ORRTN		11500		Route Node block
	.ORRTJ		11501		Route Job Block

                 The .ORRTN has the following fields

	.SNODE		ARG.DA 		Source Node to Route
	.DNODE		ARG.DA+1	Destination Node to Route


						Page 101

		Message For Device Routing (Type .OMRTD)

	!=======================================================!
	\							\
	\		THE MESSAGE HEADER			\
	\							\
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!
	!		ARGUMENT COUNT WORD			!
	!=======================================================!

	.RTEFM==1	Source Object Type

	!-------------------------------------------------------!
	!	4		   !	.RTEFM			!
	!-------------------------------------------------------!
	\							\
	\		SOURCE OBJECT BLOCK			\
	\							\
	!-------------------------------------------------------!

	.RTETO==2

	!-------------------------------------------------------!
	!	4		   !	.RTEFO			!
	!-------------------------------------------------------!
	\							\
	\		DESTINATION OBJECT BLOCK		\
	\							\
	!-------------------------------------------------------!

						Page 102
                           DELETE COMMAND

       The delete command will pass the queue and the  request
       number in a request id block.


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!



       The blocks are the same for hold except that there must
       be a user or request number block

	.ORTYP			QUEUE TYPE
	.ORREQ			REQUEST NUMBER
	.ORUSR			USER NUMBER OR PPN


       For delete of  mount request the  following blocks  are
       possible


	.ORREQ		Request number of request to delete
		- OR -
	.STRDV		Structure block for deleting all on a structure

	.ORREA		Optional reason if specified


						Page 103
                          The SEND Message

       This message is used to send text to a particular batch
       stream or  user identified  by terminal  number or  job
       number.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!

       
       The block will contain a standard orion object block to
       describe the object the message is being sent to.

		.OROBJ		OBEJCT BLOCK TYPE

       At the current time the other argument is text and uses
       the standard orion text type

		.CMTXT		THE TEXT TYPE FOR MESSAGE

       The data will be asciz  text with the length  including
       all text and the header

						Page 104
                         The NOTIFY Message

       This message is used by quasar to have orion display  a
       message about a users job

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	

                           FLAG WORD BITS

	Symbol		Bit		Meaning

	NT.MLU		 0		Notify user via mail


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


                   THIS MESSAGE HAS FOUR ARGUMENTS

	Symbol		Value		Meaning

	.JOBID		200		The user's terminal nbr & login time
	.NTSUB		201		Subject string for mail
	.CMDIR				The user directory number
	.CMTXT				The message body

            THE JOB ID BLOCK CONTAINS THE FOLLOWING DATA

       
	!=======================================================!
JBI.JB  !                      JOB NUMBER                       !
        !-------------------------------------------------------!
JBI.LI  !                  JOB LOGGED IN TIME                   !
JBI.SZ  !=======================================================!


       If the info matches the current job on system a message
       will be  displayed  to  the  terminal  if  logged  in..
       pitched if not or detached
						Page 105
                        The SUPPRESS Message

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The suppres command will always contain an orion obejct
       block to describe the object

	.OROBJ		OBJECT BLOCK TYPE

       The suprress  command supports  the following  argument
       types

	.SUPFL		10600		Suprress Current File
	.SUPJB		10601		Suppress Current Job
	.SUPST		10602		Stop Doing Suppression

       All arguments  are just  the argument  header with  the
       appropriate type and a length of 1
       
       This message will always contain an argument count of 2

						Page 106
                       CANCEL COMMAND MESSAGE

       This message is used to cancel a particular job running
       on a particular object

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!



       The cancel command will  always contain a orion  object
       block to  describe  the  object  where  job  is  to  be
       canceled.


       The following  are the  valid argument  types for  this
       message
	
	Symbol		Value		Meaning

	.CANTY		10700		Cancel Type With The Following Data

					  .CNERR  1  CANCEL WITH ERR PROCESSING
					  .CNNER  2  CANCEL NO ERROR-PROCESSING
					  .CNPRG  3  CANCEL, PURGE THE REQUEST


       The following argument types  are optional and will  be
       included if specified

	.ORRQN				Request number
	.ORREA				Reason for Cancel


						Page 107
                       REQUEUE COMMAND MESSAGE

       This message is to requeue a job on a particular object


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!

       The requeue command will always contain an object block
       the following are the valid argument types for requeue

	.REQTY		11000		Requeue Type Of Operation
					  .RQBJB  1  Beginning of job
					  .RQBFL  2  Beginning of File
					  .RQBCP  3  Beginning Of Current Copy
					  .RQCUR  4  Current Position

       The following argument  types are optional  and may  be
       included in the command if specified.

	.ORRQN				Request Number of Job
	.ORREA				Reason For Cancel..explanation if Given
					The Data is the Text


						Page 108
                       DEFINE COMMAND MESSAGE

       This message is  used for DN60  to define a  node to  a
       particular port , line and protocol


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       This message currently supports only one block

	.DFBLK		11100		The Define Block Type

	!=======================================================!
DEF.TY  !                     TYPE OF NODE                      !
        !-------------------------------------------------------!
DEF.MD  !                     MODE OF NODE                      !
        !-------------------------------------------------------!
DEF.PT  !                         PORT                          !
        !-------------------------------------------------------!
DEF.LN  !                         LINE                          !
DEF.SZ  !=======================================================!


						Page 109
              Values for specific arguments

	Symbol		Value		Meaning

             Values for DEF.TY (Type of Node)

	DF.TPP		0,,-1		Type of Node
	DF.378		1		3780
	DF.278		2		2780
	DF.HSP		3		HASP
	DF.FLG		-1,,0		Flag, i.e. if sigon required
	DF.NSN		1		Signon not required
	DF.SON		2		Signon required


            Values of DEF.MD (Mode of Node)

	DF.TRM 		1		Termination
	DF.EMU		2		Emulation



						Page 110

                       TAPE AND DISK COMMANDS

       These commands all have the standard orion header  with
       the message codes in the .MSTYP word MS.TYP field

	
                  TAPE AND DISK DEVICE INFO BLOCKS

	.TAPDV		20000		Tape Drive Device Block
	
       The block will  contain a string  for the device  which
       one can then convert to  a device designator if  valid.
       if it must be  valid OPR will not  set CM%PO and  force
       OPR to  type in  valid name  but the  block will  still
       contain a string.  The String will not end in a colon.

	.DSKDV		20001		Disk Device Block

       This block will consist of 3 words including the header
       with the first data word  being the channel number  and
       the second being the drive number


	.STRDV		20002		Structure Block

       This  block  will  contain  the  string  typed  by  the
       operator and it will begin after the header. the length
       of block will include the whole asciz string.
	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!



						Page 111
                       SHOW COMMANDS FOR TAPES

       These commands are  processed by MTCON  on the -20  for
       this release

	.OTSHS				Show Status for Tape and Disks
	.OTSHP				Show Paramters for Tapes And Disks

       There are  three possible  blocks that  can be  in  the
       message

                    .TAPDV BLOCK FOR TAPE TO SHOW

	 .ALTAP		20010		Block for All Tapes Length of 1
	 .ALDSK		20011		Block for All Disks Length of 1
	 .ALSTR		20012		Block for All Structures (MDA Only)


       Flags in .OFLAG to describe options of display(for tape
       and disk)


	Symbol		Bit		Meaning

	ST.ALL		 0		All
	ST.AVA		 1		Available Drives(Free)
	ST.CHR		 2		Characteristics
	ST.MNT		 3		Mounted


       For structures  there  may  also  be  a .STRDV for  the
       particular structure

	ST.USR==1B0
						Page 112
                           SWITCH COMMAND

       This command is used by MOUNTR on the -20 to  determine
       where the  next  volume is  to  be found  for  a  given
       request
       
       The message consists of the following blocks

	.ORREQ				Request Number
	.VOLID				Volume ID
	.TAPDV				Tape Device Block (Optional)

						Page 113
                          DISMOUNT COMMAND

       Dismount structure  command  contains  a  device  block
       .CMDEV for the device to dismount

                       The Arguments Will  be

	.TAPDV		20000		Tape Drive Device Block
	.STRDV		20002		Structure Block
						Page 114
                      RECOGNIZE COMMAND FOR -10

       The recognize command  will contain a  .TAPDV for  tape
       drive to recognize

	.TAPDV		20000		Tape Drive Device Block

						Page 115
                     SET TAPE AND DISK COMMANDS


       This command will contain either a tape block or a disk
       block as the first argument and then

	.DVAVL		20100		Device Available Block Length 1
	.DVUAV		20101		Device Unavailable Block Length  1
	.DVINI		20102		Device Initialize Mode

						Page 116
                   SET STRUCTURE COMMAND FOR DISKS

       This command will have a  structure block as the  first
       argument and then  a characteristic block  with one  of
       the following symbols

	.STCHR		20200		Structure characteristics

                           Argument Values

	Symbol		Value		Meaning

	S.ACKN		1		Acknowledged
	S.AVAL		2		Available
	S.DOMS		3		Domestic
	S.FORN		4		Foreign
	S.IGNO		5		Ignored
	S.REGU		6		Regulated
	S.UAVL		7		Unavailable
	S.UREG		10		Unregulated


						Page 117
                   SET TAPE XXX INITIALIZE COMMAND

       This command is to setup a tape-drive for  initializing
       volumes
       
       The message will consist  of a set  of blocks with  the
       first one being

	.TAPDV		20000		Tape Drive Device Block

       Then there will be the options for the initialize

	.DVINI		20102		Device Initialize Mode
	.VOLID          20403		Volume ID Block Specifying
					The Particular Volume ID
	.SILBT		20501		Label Type

                               		TOPS-10

					S.ANSI	1	Ansi
					S.EBCD	2	EBCDIC
					S.T20	3	TOPS-20
					S.UNLA	4	Unlabeled

	                                TOPS-20

					S.ANSI	.LTANS	Ansi
					S.EBCD	.LTEBC	EBCDIC
					S.T20	.LTT20	TOPS-20
					S.UNLA	.LTUNL	Unlabeled

	.SIDEN		20502		Density
					
					TOPS-10

					S.200   1	200
					S.556   2	556
					S.800	3	800
					S.1600  4	1600
					S.6250  5	6250

					TOPS-20

					S.200   .SJDN2	200
					S.556   .SJDN5	556
					S.800	.SJDN8	800
					S.1600  .SJD16  1600
					S.6250  .SJD62	6250

	.SIOWN		20503		Owner...user ID or PPN
	.SIPRO		20504		Octal Number For Protection
	.SIUNL		20505		Unload Tape When Done
	.SIHLD		20506		Hold Tape When Done
	.SIOVR		20507		Overide Expiration
	.SINOV		20510		No Overiding Of Expirations
	.SISVI		20511		Starting Volume Id (Decimal Number)
	.SIINC		20512		Increment For Volumes (Decimal Number)
	.SICTR		20513		Count Of Tapes To Do (Decimal Number)
	.SIABO		20514		(TOPS-10 ONLY) Abort the initialization
						Page 118

                ENABLE AND DISABLE COMMAND FOR TAPES

              This command will contain the following possible blocks

	.AVREC		20300		Automatic Volume Recognition Block
	
	And either a 

	.TAPDV		20000		Tape Drive Device Block

	or a 

	.ALTAP		20010		Block for All Tapes Length of 1

	.ASREC		20301		Automatic Structure Recognition

						Page 119
                   MOUNT COMMAND FOR TAPE AND DISK

       This command is only used for structure mounting

                       Argument block contains


	.STRDV		20002		Structure Block

        And Optionally

	.STALS		20401 		Alias.  If Alias is not specified
					it is assumed to be the same as
					the structure device block
						Page 120
                     IDENTIFY MESSAGE FOR TAPES

       This  message  will  associate  a  tape  drive  with  a
       particular tape request or tape

       There will always be a tape device block

	.TAPDV		20000		Tape Drive Device Block

       The second  part  of the  command  can be  one  of  the
       following

	.SCRTP		20402		Scratch Tape Block (Len 1)
	.VOLID		20403		Volume Id Block Specifying
					The Particular Volume ID
	.ORREQ		106		Request Number Field
					To specify the request the tape is
					to be assignded to
						Page 121
                          RESPONSE MESSAGE

       The response message uses the standard orion header and
       argument blocks with valid types described below

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
	!			FLAG WORD			!
	!-------------------------------------------------------!
	!		     ARGUMENT COUNT			!
	!=======================================================!


       The valid response types are

	.CMTXT				For Text Data

       At the  current time  the only  valid arguments  for  a
       response is asciz text and  ACK ID code.  This code  is
       the OPR handle to send ACK to if desired.


	.ACKID		12000		ACK for OPR ID
					Origin of answer (terminal # or node
					name in sixbit

					This block has two words of data

					 	  1	ACK ID for OPR
						  2     Node or Terminal Number

						Page 122
                         LOCK/UNLOCK COMMAND

       This message contains the following blocks

	.STRDV		20002		Structure Block
	.ORTIM		111		Time Block (UDT)
					The time block is optional

	The following bit is defined in the .OFLAG word

	LC.NUL==1B0

						Page 123

			USAGE ACCOUNTING MESSAGES
	The USAGE account message go to the ACTDAE. They are GALAXY formated
	messages with an ACTDAE message type.

	The messages (file closure and billing closure) have only 1 block
	defined - .ORTIM - which contains the UDT when the action is to
	take place. There are also bits defined for .OFLAG:

	US.NOW==1B0	Do it now
	US.DLY==1B1	Do it daily
	US.WKY==1B2	Do it weekly
	US.NOS==1B3	/NO-SESSION-ENTRIES
	US.DAY==1B4	Day of the week 1 - 7 (Sunday is 1)
						Page 124
                           COMMAND Message

       This message consists  of the  standard message  header
       followed by a parser block as defined below

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
	!			FLAG WORD			!
	!-------------------------------------------------------!
	!                    ARGUMENT COUNT                     !
	!=======================================================!


	!-------------------------------------------------------!
COM.TY	!		COMMAND OBJECT TYPE			!
	!-------------------------------------------------------!
COM.SN	!		   SOURCE NODE				!
	!-------------------------------------------------------!
COM.PB	!		OFFSET  TO PARSER BLOCK			!
	!-------------------------------------------------------!
COM.CM	!              OFFSET  TO TEXT OF COMMAND               !
COM.SZ  !=======================================================!

COM.AL==COM.SZ-COM.SN			Size of argument block


                 VALID FLAGS FOR THE COMMAND MESSAGE

	Symbol		Bit		Meaning

	CM.NPR		 0		NO PROCESSING REQUIRED


       
       The parser data  blocks will be  similiar to the  other
       data structures  used  in  OPR and  ORION.  Each  field
       parsed will generate  a block  with the  length in  the
       left half and command code type in the right half.

       The length of the block includes the header word.

	Symbol		Value		Meaning
	
	.CMKEY		  0		Word Containing Keyword Identifier
	.CMNUM		  1		Word For Number And word for radix
	.CMNOI		  2		Not Saved
	.CMSWI		  3		Word Containing Switch Identifier
	.CMIFI		  4		File Spec In Galaxy Fd Format
	.CMOFI		  5		File Spec in Galaxy FD Format
	.CMFIL		  6		File Spec in Galaxy FD Format
	.CMFLD		  7		Asciz String
	.CMCFM		  10		Just Header Word
	.CMDIR		  11		Directory Number Or PPN
	.CMUSR		  12		User Number or PPN
						Page 125
	.CMCMA		  13		Just Header Word
	.CMINI		  14		Not Saved
	.CMFLT		  15		Number
	.CMDEV		  16		Dev. Designator
	.CMTXT		  17		Asciz String
	.CMTAD		  20		Internal Date/Time
	.CMQST		  21		Asciz String
	.CMUQS		  22		Asciz String
	.CMTOK		  23		Asciz String
	.CMNUX		  24		Number Word And Radix Word
	.CMACT		  25		Asciz String
	.CMNOD		  26		Node Specification -One Word


						Page 126
                        DN60 COMMAND MESSAGE

       This message for CDRIVE to send ORION an OPR command to
       be parsed.

       This message contains the following blocks

	.ORNOD		107		Node Block For Quasar Validation
	.ORD60		110		DN60 Block Of Data


						Page 127
              WTO,WTOR AND ACK FORMATS FOR ALL PROGRAMS
       
       The following is  a description of  the new format  for
       WTO, WTOR and ACK  messages to be  sent by any  program
       and ORION.  The format consists of a header, flag word,
       argument count word and an argument block. The argument
       count word  reflects  the  number  of  argument  blocks
       included in the  message.  The  length associated  with
       each block  includes the  argument block  header  word.
       The  header  is  the  standard  galaxy  message  header
       defined in ORNMAC.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	

			ARGUMENT DATA BLOCK
	
	
	
	!-------------------------------------------------------!
	! LENGTH OF ARGUMENT BLOCK  !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                 DATA FOR THE ARGUMENT                 \
	\                                                       \
	!=======================================================!


       The header data uses  the standard orion message  block
       with message header, .OFLAG, and .OARGC
       
       The argument block is the standard argument block  used
       in ORION messages
       
       Valid argument types for WTO message

	Symbol		Value		Meaning

	.WTTXT		  0		Text Message
	.WTOBJ		  1		Galaxy Object Block for Use by Galaxy
					Components. Must Be Priviledged
	.WTDES		  2		Destination Value
	.WTJOB		  3		Job Number Of User Or Other User
					Privileged
	.WTERR		  4		Error Code For Error Display
	.WTRTE		  5		Route Code For Function Setup Oprs
	.WTTYP		  6		Type Field Text Privileged
						Page 128
	.WTANS		  7		Answer Block For WTOR Only
	.WTACD		  10		Application Code Block
	.WTOCD		  11		Object Type Block
	.WTNOP		  12		NOOP (dummy) block for monitor WTO msg.
		.WTLST==.WTNOP		Last valid type assigned


                VALID FLAGS FOR WTO MESSAGE IN .OFLAG

	Symbol		Bit		Value

	WT.KIL		 0		Kill the WTOR Request Using .MSCOD
	WT.MOR		 1		More Display Pages are Comming.
	WT.NFY		 2		Notify if PID goes AWAT via TTMSG
	WT.JOB		 5		Job Message. Privileged
	WT.SJI		 6		Suppress Job Info on Display
	WT.NFO		 7		No Formating of Display
	WT.NDA		 8		No Dashes on Type Message
	WT.KAL		 9		Kill All Messages for the Job
	WT.PRV==WT.JOB!WT.SJI!WT.NFO!WT.MOR!WT.NDA	Priviledge bits

	WTOMAX==^D450			Largest WTO message allowed
	TYPMAX==^D26			Largest type block in words
	TYPMIN==^D7			Standard type size maximum in words
	TYPAPL==^D9			Size of application type messages



						Page 129
                            ALIGN MESSAGE

       This message is sent to describe the alignment  options
       and file to use

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The align message will always contain an object block

	.OROBJ		100		Object Block

	The following options are also valid

	.CMIFI	4		File Spec In Galaxy Fd Format
	.ALPAU		11100		Align Pause Amount Between Repeats
					The Argument Data Will Contain Time
	.ALRPT		11101		The Repeat Count on the File
					The Data Will Contain The Count
	.ALSTP		11102		Stop The Alignment.



						Page 130
                         The STATUS Message

       This message  is  sent  by  a  processor  to  orion  in
       response to a show message requesting status.

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
	!                 ORNMAC VERSION NUMBER                 !
	!=======================================================!
	\                                                       \
	\                    THE OBJECT AREA                    \
	\                                                       \
	!=======================================================!
	\                                                       \
	\                TEXT BLOCK OF STATUS                   \
	\                                                       \
	!=======================================================!

       The status message consists of as many object area/text
       blocks pairs as needed.  The first word of a text block
       is the number of words  in the text block, followed  by
       an asciz string

                 Format of the Text Block of Status

	!=======================================================!
STS.TB  !        START OF BLOCK -- COUNT FOR THIS BLOCK         !
        !-------------------------------------------------------!
STS.TX  !                   WHERE THE TEXT IS                   !
        !=======================================================!



						Page 131
                    The SHOW CONTROL-FILE Message

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The Show-Control-File  command will  always contain  an
       ORION object block

	.OROBJ		100		Object Block

       The Show  Control-File  command supports  one  argument
       type

	.SHCLN		11200		Line Count for Show Control-File



						Page 132
                         SHOW STATUS MESSAGE

       The show status  message is sent  to quasar  requesting
       information about one or more objects

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!-------------------------------------------------------!
	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	!                  ARGUMENT COUNT WORD                  !
	!=======================================================!
	


			ARGUMENT DATA BLOCKS


	
	!=======================================================!
	!  LENGTH OF THE ARGUMENT   !     TYPE OF ARGUMENT      !
	!-------------------------------------------------------!
	\                                                       \
	\                     ARGUMENT DATA                     \
	\                                                       \
	!=======================================================!


       The show status message conists of an object block that
       describes the number and type of objects desired.

	.OROBJ		100		Object Block

       The object block  has the  following additional  values
       and meanings

	TYPE		VALUE			MEANING

	OBJ.TY		-1			ALL OBJECTS
	OBJ.UN		-1			ALL UNITS
	OBJ.ND		-1			ALL NODES


       The following flags  are used to  describe the type  of
       jobs to be listed for the object described

	.STACT 		11201		Jobs on Active Objects
	.STHLD		11202		Jobs Waiting for Objects
	.STWAT		11203		Waiting to be Processed Jobs
	.STALL		11204		All Jobs

						Page 133
                        SHOW STATUS IBM-NODE

       This command contains  only a .ORNOD  block to  specify
       the node to be displayed

	.ORNOD		107		Node Block For Quasar Validation


						Page 134
                       SHOW PARAMTERS IBM-NODE

       This command contains  only a .ORNOD  block to  specify
       the node to be displayed

	.ORNOD		107		Node Block For Quasar Validation

						Page 135
			MODIFY SYSTEM-LISTS Message

	MESSAGE TYPE - .ODCSL

	This command allows the operator to manipulate the system search
	lists, the crash dump list, and the active swapping list.

	There is one bit in the flag word:
	The add/remove bit, which says whether the OPR typed ADD or REMOVE.

		AD.REM==1B0		1 if OPR said REMOVE
					0 if OPR said ADD

	There are two arguments to the message. ONE block has the unit
	or structure name in SIXBIT.

		.STRDV==.STRDV		020002

	The other block describes which list to manipulate.

		.SLSTY==20500		The block type (length is always 2)
		.SLSTY==ARG.DA		The word containing the list type
			SL.TCD==7B35	Field containing the useful info
			  SL.TMN==1	Minimum list type value
			  SL.SSL==1	System search list
			  SL.CDL==2	Crash dump list
			  SL.ASL==3	Active swapping list
		SL.TMX==SL.ASL		Maximum list type value
						Page 136

			SHOW SYSTEM-LIST message

		MESSAGE TYPE - .ODSSL
	The command allows the operator to display some or all
	of the system lists. The message has from 0 to N blocks.
	If there are no blocks, then ALL SYSTEM LISTS should be
	displayed. If there are blocks,then just the lists
	corresponding to the blocks should be displayed.

		.ODSSL==.ODSSL		201023		The message type
		.SLSTY==.SLSTY		020500		The legal block type
							(may be more than 1
							of these)

						Page 137

			SHOW ALLOCATION message

	MESSAGE TYPE - .ODSAL
	The command allows the operator to display the allocation
	request of some JOB or BATCH REQUEST on the system.
	The message has one argument block, the allocation for the
	JOB or BATCH REQUEST corresponding to the block on the message
	will be displayed.

	The legal block types are:

		.ORJNU==.ORJNU		112	Job number
		.ORREQ==.ORREQ		106	Batch request ID

						Page 138
                       Node/Operator Data Base

       The node list external contains one for each node  that
       has signed on to orion


        !=======================================================!
NOD.NM  !                  NODE NAME (SIXBIT)                   !
        !-------------------------------------------------------!
NOD.NU  !                      NODE NUMBER                      !
        !-------------------------------------------------------!
NOD.OP  !                    OPR LIST NUMBER                    !
        !-------------------------------------------------------!
NOD.ML  !                  MESSAGE LIST NUMBER                  !
        !-------------------------------------------------------!
NOD.CT  !       NUMBER OF MESSAGES QUEUED FOR THIS NODE.        !
        !-------------------------------------------------------!
NOD.AO  !            LIST OF ALTERNATE OUTPUT NODES             !
        !-------------------------------------------------------!
NOD.AI  !             LIST OF ALTERNATE INPUT NODES             !
        !-------------------------------------------------------!
NOD.TM  !               TIME OF LAST AUTO DISPLAY               !
        !-------------------------------------------------------!
NOD.OC  !                NUMBER OF OPRS AT NODE                 !
        !-------------------------------------------------------!
NOD.FL  !                  FLAGS FOR NODE LIST                  !
NOD.SZ	!=======================================================!

                      Flags defined for NOD.FL

	Symbol		Bit		Meaning

	ND.NLE		 0		Node List Enabled
	ND.SYS		 1		System Operator Node
	ND.D60		 2		D60 Type Node


       The following is the format of the alternate node  list
       for each node.  This entry is  generated by the  enable
       command

        !=======================================================!
NAL.FL  !               FLAGS FOR ALTERNATE NODE                !
        !-------------------------------------------------------!
NAL.NM  !                     NAME OF NODE                      !
        !-------------------------------------------------------!
NAL.NU  !                    NUMBER OF NODE                     !
        !-------------------------------------------------------!
NAL.AD  !                 ADDRESS OF NODE ENTRY                 !
NAL.SZ	!=======================================================!



						Page 139
                           OPR LIST ENTRY

       This a description  of an  OPR block  used to  describe
       each OPR  that has  signed on  to ORION.  The OPRs  are
       associated with the node at which they are located.

        !=======================================================!
OPR.PD  !                   PID FOR THIS OPR                    !
        !-------------------------------------------------------!
OPR.FL  !                FLAG WORD FOR THIS OPR                 !
        !-------------------------------------------------------!
OPR.OF  !                     OBJECT FLAGS                      !
	/------------				    ------------/
	/	BLOCK <.OTMAX+NUMAPL>/<^D36/^D3>+1		/
	/------------	      - or -		    ------------/
	/		Three words per object			/
        !-------------------------------------------------------!
OPR.OC  !              COMMANDS OUTPUT TO THIS OPR              !
        !-------------------------------------------------------!
OPR.IC  !             COMMANDS INPUT FROM THIS OPR              !
        !-------------------------------------------------------!
OPR.ND  !            NODE ENTRY ADDRESS FOR THIS OPR            !
        !-------------------------------------------------------!
OPR.LS  !            OPR LIST CONTAINING THIS ENTRY             !
        !-------------------------------------------------------!
OPR.TN  !                TERMINAL NUMBER OF OPR                 !
        !-------------------------------------------------------!
OPR.JB  !                 JOB NUMBER OF THE OPR                 !
        !-------------------------------------------------------!
OPR.US  !                  USER NUMBER OR PPN                   !
        !-------------------------------------------------------!


                            TOPS-10 ONLY

        !-------------------------------------------------------!
OPR.UN  !                 USER NAME ON THE -10                  !
        !---------------                         ---------------!
        !                       Two Words                       !
        !-------------------------------------------------------!


                      Both TOPS-10 and TOPS-20

        !-------------------------------------------------------!
OPR.TP  !                  TABLE ENTRY POINTER                  !
        !-------------------------------------------------------!
OPR.PL  !                  DN60 PORT LINE INFO                  !
        !-------------------------------------------------------!
OPR.DN  !                 DN60 CHARACTERISTICS                  !
OPR.SZ	!=======================================================!
						Page 140

               Description of Flags defined for OPR.FL

	Symbol		Bit		Meaning

	OP.NST		 0		OPR Not Setup Yet
	OP.REM		 1		Remote Operator
	OP.TAK		 2		In a Take Command
	OP.ABT		 3		Abort Take Files
	OP.D60 		 4		DN60 Operator
	OP.SYS		 5		System operator
	OP.LCL		 6		Local operator
	OP.HST		 7		Host operator

	Description of Flags defined for OPR.OF

	Symbol		Bit		Meaning

	WO.EVN		 0		Other messages
	WO.JOB		 1		Job message
	WO.OAC		 2		Operator action message

	WO.ALL==WO.EVN!WO.JOB!WO.OAC	All flags
						Page 141

		OPR TABLE DATABASE STRUCTURE

	This is the format of the list entry for the OPR database
	list which is built by ORION.

	!=======================================================!
TOP.PD	!	PID OF THE OPR					!
	!-------------------------------------------------------!
TOP.OA	!	ADDRESS OF THE OPR ENTRY			!
TOP.SZ	!=======================================================!
						Page 142
                     OPERATOR MESSAGE LIST ENTRY

       This list contains  all operator  messages requiring  a
       reply and is associated with each node.

        !=======================================================!
MSL.FL  !                  MESSAGE LIST FLAGS                   !
        !-------------------------------------------------------!
MSL.PD  !                   PID OF THE SENDER                   !
        !-------------------------------------------------------!
MSL.JB  !               JOB NUMBER MESSAGE IS FOR               !
        !-------------------------------------------------------!
MSL.JT  !               LOGGED IN TIME OF SENDER                !
        !-------------------------------------------------------!
MSL.ND  !              NODE THE MESSAGE IS PART OF              !
        !-------------------------------------------------------!
MSL.CD  !                  CODE PASSED IN WTOR                  !
        !-------------------------------------------------------!
MSL.ID  !                 ID NUMBER OF MESSAGE                  !
MSL.SZ	!=======================================================!

               Description of Flags defined for MSL.FL

	Symbol		Bit		Meaning

	MS.NDY		35		Message Hasn'T Been Displayed
	MS.TER  	34		Notify on Terminal on Send Failure



						Page 143

		PARSER STORAGE ALLOCATION DEFINITIONS

	NCHPW==5		Number of characters per word
	BUFSIZ==200		Size of input text buffer
	ATMSIZ==BUFSIZ		Size of atom buffer for COMND JSYS
	FDBSIZ==.CMDEF+2	Size of function descriptor block

		GTJFN BLOCK FOR COMMAND

	TOPS-20 ONLY

	GJFSIZ==.GJRTY+2	Size of GTJFN block used by COMND JSYS

	TOPS-10 ONLY

	GJSIZ==.FDXSIZ
						Page 144

		PARSER DATA BLOCK DEFINITIONS

	The following symbols are used to describe an entry
	in the command message as output by the parser.

	!=======================================================!
PFD.HD	!	HEADER WORD FOR BLOCK				!
	!-------------------------------------------------------!
PFD.D1	!	FIRST DATA WORD					!
	!-------------------------------------------------------!
PFD.D2	!	SECOND DATA WORD (IF NECESSARY)			!
PFD.SZ	!-------------------------------------------------------!

			Description of PFD.HD Word

	PF.TYP		0,,-1		Type in the left half
	PF.LEN		-1,,0		Length in the right half
						Page 145

		PARSER FLAG VALUES

	Symbol		Bit		Description

	P.TAKE		 0		TAKE command processed
	P.CTAK		 1		Command from a TAKE command
	P.ACTE		 2		Action routine error
	P.NPRO		 3		No processing for command
	P.ERRO		 4		Error flag.. error occurred
	P.REPA		 5		Reparse required
	P.INTE		 6		Interrupt exit flag
	P.DSPT		 7		Display this TAKE command
	P.ENDT		 8		End of TAKE file
	P.DERR		 9		Default routine error
	P.CEOF		10		Core parse end of file

		TEMTSZ==20		Size of temp table for SHRSWT
						Page 146

		PARSER ARGUMENT BLOCK DESCRIPTION

	This is a description of the argument block used
	to call the parser routine (OPRPAR)

		S1/	Length of the block
		S2/	Address of the block

	!===============================================!
PAR.TB	!	ADDRESS OF THE TABLES			!
	!-----------------------------------------------!
PAR.PM	!	ADDRESS OF THE PROMPT STRING		!
	!-----------------------------------------------!
	!						!

Note:	If PAR.PM is equal to zero the default prompt is "PARSER>"

	!						!
	!-----------------------------------------------!
PAR.CM	!	ADDRESS TO STORE PARSED DATA		!
	!-----------------------------------------------!
	!						!

Note:	If PAR.CM is equal to zero, default to get a page

	!						!
	!-----------------------------------------------!
PAR.SR	!	ADDRESS OF THE STRING TO PARSE		!
	!-----------------------------------------------!
	!						!

Note:	Defaults to TTY if not specified or zero
	-1 means do a rescan for incore 

	!						!
	!-----------------------------------------------!
PAR.SZ	!	SIZE OF THE PARSER CALLING BLOCK	!
	!===============================================!
						Page 147

	PARSER ACTION ROUTINE ARGUMENT BLOCK DESCRIPTION

	This block is a description of the elements available to the
	action, prefill, and error routines when called.

	CALL	S1/	Length of the block
		S2/	Address of the block

	!===============================================!
CR.FLG	!	OFFSET FOR THE FLAG WORD		!
	!-----------------------------------------------!
CR.RES	!	OFFSET FOR THE RESULT WORD		!
	!-----------------------------------------------!
CR.PDB	!	GIVEN PDB,,USED PDB			!
	!-----------------------------------------------!
CR.COD	!	CODE TYPE OF PROCESSED FIELD		!
CR.SIZ	!===============================================!
	
	PC.SIZ==CR.SIZ+1
	CR.SAV==CR.SIZ
						Page 148

		PARSER RETURN BLOCK DEFINITION

	This block is a description of the argument block returned
	by the parser.

	CALL	S1/	Length of the block
		S2/	Address of the block

	!===============================================!
PRT.FL	!	FLAG WORD FOR RETURN			!
	!-----------------------------------------------!
PRT.CM	!	COMMAND MESSAGE ADDRESS			!
	!-----------------------------------------------!
PRT.CF	!	COMMAND FLAG WORD			!
PRT.SM	!-----------------------------------------------!
PRT.MS	!   POINTER TO TEXT OF MESSAGE ON FALSE RETURN  !
	!-----------------------------------------------!
PRT.EM	!    POINTER TO ERROR MESSAGE ON FALSE RETURN   !
	!-----------------------------------------------!
PRT.EC	!    ERROR CODE RETURNED FROM ACTION ROUTINE	!
PRT.SZ	!===============================================!
						Page 149

		PARSER KEYWORD TABLE DESCRIPTIONS

	These definitions describe the entry block for all
	syntax tables used by ORION and OPR

	!===============================================!
TAB.HD	!	HEADER WORD FOR TABLES			!
	!-----------------------------------------------!
TAB.IN	!	TABLE ADDRESS OF .CMINI	FUNCTION	!
	!-----------------------------------------------!
TAB.KY	!	TABLE ADDRESS OF MAIN KEYWORD TABLE	!
TAB.SZ	!===============================================!

	TAB.HD has the TB.LEN bits defined as 0,,-1

		Flags used by ORION

	Symbol		Bits		Description

	F.WTXT		 18		WTO text argument present
	F.WOBJ		 19		WTO object block specified
	F.WDES		 20		WTO destination field present
	F.WJOB		 21		Job number specified in WTO
	F.WERR		 22		Error code specified in WTO
	F.WRTE		 23		Route code specified in WTO
	F.WTYP		 24		Type text specified in WTO
	F.WANS		 25		Answer block specified in WTOR
	F.WACD		 26		Application code field
	F.WOCD		 27		Object type block

F.WFLG==F.WTXT!F.WOBJ!F.WDES!F.WJOB!F.WERR!F.WRTE!F.WTYP!F.WANS!F.WACD!F.WOCD
						Page 150

                        RESEND LIST DATA BASE

       This list is the data  structure used to keep track  of
       messages needing to be resent to an OPR or a  processor
       that had a recoverable send failure


        !=======================================================!
RSD.HD  !                 HEADER FOR LIST ENTRY                 !
        !-------------------------------------------------------!
RSD.TM  !            TIME OF THE MESSAGE FIRST TRIED            !
        !-------------------------------------------------------!
RSD.MS  !            OFFSET IN BLOCK TO MESSAGE TEXT            !
        !-------------------------------------------------------!
RSD.FL  !               FLAGS FOR THE RESEND LIST               !
        !-------------------------------------------------------!
RSD.RT  !                   COUNT OF RETRIES                    !
        !-------------------------------------------------------!
RSD.PD  !                  OFFSET FOR PID LIST                  !
        !-------------------------------------------------------!
RSD.CT  !               NUMBER OF PIDS TO SEND TO               !
RSD.SZ	!=======================================================!

              Description of Fields defined for RSD.HD

	Symbol		Mask		Meaning

	RS.LEN		-1,,0		Length of Entry


               Description of Flags defined for RSD.FL

	Symbol		Bit		Meaning

	R.WAIT		 0		Wait for PID To Come
	R.NSNT		 1		Not Sent Yet
	R.SQSR		 2		Send to Quasar
	R.SOPR		 3		Send to OPR
	R.SAPL		 4		Send to Application


						Page 151
                       SEND FAILURE DATA BASE

        THIS IS THE DATA BASE USED FOR THE SEND FAILURE TABLE


        !=======================================================!
SFL.PD  !                   PID WITH FAILURE                    !
        !-------------------------------------------------------!
SFL.CT  !            COUNT OF MESSAGES WITH FAILURE             !
SFL.SZ	!=======================================================!


						Page 152
                    DATA STRUCTURES FOR -20 SRV:

                        THE SERVER DATA BASE

        !=======================================================!
SRV.CN  !           INTERRUPT CHANNEL FOR THIS SERVER           !
        !-------------------------------------------------------!
SRV.IN  !              INTERRUPT FLAG FOR CHANNEL               !
        !-------------------------------------------------------!
SRV.JF  !                  JFN FOR SERVER LINK                  !
        !-------------------------------------------------------!
SRV.FK  !                FORK HANDLE FOR PROCESS                !
SRV.SZ	!=======================================================!




                     THE ACTIVE NETWORK SERVERS

        !=======================================================!
NET.FK  !               FORK HANDLE OF THE SERVER               !
        !-------------------------------------------------------!
NET.PG  !                PROGRAM JFN FOR SERVER                 !
        !-------------------------------------------------------!
NET.LJ  !                   NETWORK LINK JFN                    !
        !-------------------------------------------------------!
NET.SA  !               SERVER DATA BASE ADDRESS                !
NET.SZ	!=======================================================!
						Page 153

                               QMANGR

                      Queue Independent Header

        !=======================================================!
Q.MEM   !    ADR NEWLOG ROUTINE   !!     ADR CHARAC TYPER       !
        !-------------------------------------------------------!
Q.OPR   !                  REQUEST INFORMATION                  !
        !-------------------------------------------------------!
Q.LEN   !                     BLOCK LENGTHS                     !
        !-------------------------------------------------------!
Q.DEV   !              GENERIC DESTINATION DEVICE               !
        !-------------------------------------------------------!
Q.PPN	!                      PPN OF USER                      !
        !-------------------------------------------------------!
Q.JOB	!                       JOB NAME                        !
        !-------------------------------------------------------!
Q.SEQ	!                    SEQUENCE NUMBER                    !
        !-------------------------------------------------------!
Q.PRI   !                       PRIORITY                        !
        !-------------------------------------------------------!
Q.PDEV	!                   PROCESSING DEVICE                   !
        !-------------------------------------------------------!
Q.TIME	!                   START TIME OF JOB                   !
        !-------------------------------------------------------!
Q.CREA	!                 CREATION TIME OF JOB                  !
        !-------------------------------------------------------!

        NOTE:

        On MODIFY request:
        	Q.TIME contains PPN mask
        	Q.CREA contains Job Name mask


Q.PDEV  !                                                       !
        !-------------------------------------------------------!
Q.PPNM  !                       PPM MASK                        !
        !-------------------------------------------------------!
Q.JOBM  !                     JOB NAME MASK                     !
        !-------------------------------------------------------!
Q.AFTR	!                    AFTER PARAMETER                    !
        !-------------------------------------------------------!
Q.LTYP	!                    QUEUE LIST TYPE                    !
        !-------------------------------------------------------!
Q.RID	!         REQUEST ID (USED IN /KILL or /MODIFY)         !
        !-------------------------------------------------------!
Q.USER  !                      USERS NAME                       !
        !---------------                         ---------------!
        !                       Two Words                       !
        !-------------------------------------------------------!
						Page 154

                    Description of fields for Q.OPR


	Symbol		Mask		Value

	QO.SCH		777777B17	Address of Scheduler or Lister Routine
	QO.VER		77B23		Paramter Area Format Version Number
	QO.CSP		77B29		Requesting CUSP

					%QOQUE  1	QUEUE
					%QOCDK  2	CDRSTK
					%QOBTN  3	BATCON
					%QOSPL  4	SPOOL
					%QOBSC  5	BASIC
					%QOCPD  6	COPYED
					%QOSPT  7	SPRINT
					%QOFRS  10	FOROTS
					%QOSPC  11	SPACE

	QO.ROP		77B35		Requested Operation

					.QORCR  1	CREATE
					.QORDF  2	/DEFER
					.QORZD  3	/ZDEFER
					.QORLS  4	LIST
					.QORMD  5	MODIFY
					.QORKL  6	KILL
					.QORSC  7	SCHEDULE
					.QORRL  10	RELEASE
					.QORRQ  11	REQEUE
					.QORDL  12	FAST LIST
					.QORCP  13	CHECKPOINT
					.QORNX  14	NEXT-JOB


            Description of fields for Q.LEN


	Symbol		Mask		Meaning

	QL.HLN		777B8		Length of Header
	QL.FLN		777B17		Length of a File Spec
	QL.NFL		777777		Number of Files


            Description of fields for Q.DEV

	Symbol		Mask		Meaning

	QD.GDN		777777B17	Generic Device Name
	QD.PDS		777777		Physical Device Spec
					
					    0 if Generic
					    1-77 if Station
					    1000-1777 if Physical
						Page 155

            Description of fields for Q.PRI


	Symbol		Mask		Meaning

			777777B17	Reserved for Customer
	QP.PRO		777B26		Protection of Queue Request
	QP.NOT		1B27		/Notify Bit
			3B29		Reserved to DEC
	QP.PRI		77		External Priority


           Description of Bits for Q.LTYP


	Symbol		Bit		Meaning

	QT.REL		 0		If  QT.REL  is  set,  the  time  in
					Q.TIME,  Q.CREA,   OR   Q.AFTR   is
					relative to the current time.
						Page 156

                     Input Queue Header Extension

         These words follow Q.USER from above data structures

        !-------------------------------------------------------!
Q.IDEP  !                    DEPENDENCY WORD                    !
        !-------------------------------------------------------!
Q.ILIM  !                 CORE AND TIME LIMITS                  !
        !-------------------------------------------------------!
Q.ILM2  !                  LPT AND CDP LIMITS                   !
        !-------------------------------------------------------!
Q.ILM3  !                  PTP AND PLT LIMITS                   !
        !-------------------------------------------------------!
Q.ILM4  !            .EQLIM WORD NUMBER 6 (OFFSET 5)            !
        !-------------------------------------------------------!
Q.IDDI  !            FULL PATH TO DEFAULT DIRECTORY             !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
						Page 157

             Description of fields for Q.IDEP


	Symbol		Field		Meaning

	QI.NRS		1B0		No-Restart Bit
	QI.UNI		3B2		Uniqueness

					  .QIUNO  0	No Uniqueness
					  .QIUYS  1	Unique PPN
					  .QIUSD  2	Unique Sub-Directory

	QI.PAB		1B3		Pre-Abortted or Illegal Restart
	QI.MNR		1B3		On Modify, Modify QI.NRS
			3B5		Reserved to DEC
	QI.OUT		7B8		/Z Paramter to KJOB

					  .QIONO  0	No Auto-Queueing
					  .QIOLG  1	Queue The Log
					  .QIOSP  2	Queue All Spooled Files
					  .QIOLS  3	Also Queue .LST Files
					  .QIOAL  4	Also Queue Defered Fil

	QI.RDR		1B9		/RDR Was Specified
			377B17		Reserved to DEC
	QI.DMT		3B19		Dependency Modify Type

					  .QIDAB  0	Absolute
					  .QIDPL  1	Plus (Additive)
					  .QIDMI  2	Minus
					  .QIDNM  3	No Modify

	QI.DEP		177777		Dependency Parameter


           Description of fields for Q.ILIM

	Symbol		Mask		Meaning

	QM.COR		777777B17	Core Limit in Words
	QM.TIM		777777		CPU Time Limit in Seconds


           Description of fields for Q.ILM2

	QM.LPT		777777B17	LPT Limit (Pages)
	QM.CDP		777777		CDP Limit (Cards)


           Description of fields for Q.ILM3

	QM.PTP		777777B17	PTP Limit (Feet)
	QM.PLT		777777		Plot Limit (Minutes)
						Page 158

                    Output Queue Header Extension

         These words follow Q.USER from above data structures


        !-------------------------------------------------------!
Q.OFRM  !                      FORMS TYPE                       !
        !-------------------------------------------------------!
Q.OSIZ  !        LIMIT SIZE        !        BLOCK SIZE          !
        !-------------------------------------------------------!
Q.ONOT  !                      ANNOTATION                       !
        !---------------                         ---------------!
        !                       Two Words                       !
        !-------------------------------------------------------!


                       File Specification Block


        !-------------------------------------------------------!
Q.FSTR	!                    FILE STRUCTURE                     !
        !-------------------------------------------------------!
Q.FDIR  !                   FULL PATH TO FILE                   !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
Q.FNAM	!                       FILE NAME                       !
        !-------------------------------------------------------!
Q.FEXT	!                       EXTENSION                       !
        !-------------------------------------------------------!
Q.FRNM	!             RENAMED NAME (QUE::!.QUD[,])              !
        !-------------------------------------------------------!
Q.FBIT	!                    START PARAMETER                    !
        !-------------------------------------------------------!
Q.FMOD	!                      STATUS BITS                      !
        !-------------------------------------------------------!
Q.FRPT  !                 REPORT SPECIFICATION                  !
        !---------------                         ---------------!
        !                       Two Words                       !
        !-------------------------------------------------------!


             Description of fields for Q.FEXT

	Symbol		Mask		Meaning

	QE.EXT		777777B17	Extension
			777777		Reserved to Customer
						Page 159

              Description of fields for Q.FBIT


	QB.APF		1B0		Artificially Preserved File
	QB.TAG      	7777777777	5 Character (6BIT) Tag for BATCON
	QB.SLN		777777		Starting Line Number
					
					The Output Spoolers Always Use Bits
					  18-35 As A Starting Line Number
					  If Bits 6-11 Are Zero, BATCON Uses
				 	  18-35 As A Start Line Number, Else
					  6-35 Are A Start Tag.


              Description of fields for Q.FMOD


	Symbol		Mask		Meaning

	QF.IRP		1B0		Indirect Request Pointer
	QF.LOG		1B1		This is the Log File
	QF.DEF		1B2		File Does Not Yet Exist
			1B3		Reserved to DEC
	QF.SKP		1B4		Skip This File
	QF.NFH		1B5		No File Headers Wanted
	QF.RVC		1B6		Restarted Via Chkpnt Or Reque
			1777B17		Reserved to DEC
	QF.SPC		7B20		Spacing Code
	QF.PFM		7B23		Paper Format (See Separate Section)
	QF.FFM		7B26		File Format

					  .QFFAS  1	ASCII
					  .QFFFO  2	FORTRAN
					  .QFFCO  3	COBOL
					  .QFFRU  5	RUNOFF
					  .QFF11  6	ELEVEN

	QF.DSP		7B29		Disposition

					  .QFDPR  1	Preserve
					  .QFDRE  2	Rename
					  .QFDDE  3	Delete

	QF.COP		77B35		Number Of Copies
						Page 160

                          Filespec MODIFY Block


       The filespec  MODIFY  block is  tacked  on the  end  of  the
       filespec during a  modify request.   It is  defined here  as
       0-origin since  it may  start following  Q.FMOD or  Q.FRPT+1
       depending on whether it is queue format version 0 or 1.

        !=======================================================!
Q.FDRM  !                       DIRECTORY MASK                  !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
Q.FNMM	!                       FILENAME MASK                   !
        !-------------------------------------------------------!
Q.FEXM  !                  FILENAME EXTENSION MASK              !
        !-------------------------------------------------------!
Q.FMDM  !                       MODIFIER MASK                   !
        !=======================================================!
						Page 161

                              Paper Formats

       The PAPER  FORMAT  field consists  of  bits 21,  22,  23  of
       Q.FMOD.  This  field  is  generated by  the  /PRINT,  /PUNCH
       /PLOT, and /TAPE switches to QUEUE.


            PAPER FORMATS FOR LPT QUEUE (/PRINT)

	Symbol		Value		Meaning

	%QFLAR		  1		Arrow Format
	%QFLAS		  2		Ascii Format
	%QFLOC		  3		Octal Format
	%QFLSU		  4		Suppress Format


            PAPER FORMATS FOR PTP QUEUE (/TAPE)

	%QFTAS		  1		Ascii Format
	%QFTIM		  2		Image Format
	%QFTIB		  3		Image Binary Format
	%QFTBI		  4		Binary Format


            PAPER FORMATS FOR CDP QUEUE (/PUNCH)

	%QFCAS		  1		Ascii Format
	%QFCBC		  2		026 (BCD) Format
	%QFCBI		  3		Binary Format
	%QFCIM		  5		Image Format


            PAPER FORMAT FOR PLT QUEUE  (/PLOT)

	%QFPIM		  1		Image Format
	%QFPAS		  2		Ascii Format
	%QFPBI		  3		Binary Format


     CARD READER FILE FORMATS FOR .FPINF<FP.RCP> (/RDR)


	Symbol		Field		Meaning

	FP.RCF		77B5		Record Format Field

					  %FRRAI  1	Fixed Length Augmented
							Image (18 Bits)
					  %FRRFA  2	Fixed Length ASCII
					  %FRRSA  3	Stream Ascii (CRLF
							Terminator)
						Page 162

                 Control, Log, and Output File Offsets


                           CONTROL FILE OFFSETS

        !=======================================================!
Q.CSTR  !                       FILE-STRUCTURE                  !
        !-------------------------------------------------------!
Q.CDIR  !                         DIRECTORY                     !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
Q.CNAM  !                         FILE NAME                     !
        !-------------------------------------------------------!
Q.CEXT  !                         EXTENSION                     !
        !-------------------------------------------------------!
Q.CRNM  !                        RENAMED NAME                   !
        !-------------------------------------------------------!
Q.CBIT  !                      START PARAMETER                  !
        !-------------------------------------------------------!
Q.CMOD  !                        STATUS BITS                    !
        !=======================================================!
						Page 163

                              LOG FILE OFFSETS


        !=======================================================!
Q.LSTR  !                       FILE STRUCTURE                  !
        !-------------------------------------------------------!
Q.LDIR  !                         DIRECTORY                     !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
Q.LNAM  !                          FILENAME                     !
        !-------------------------------------------------------!
Q.LEXT  !                         EXTENSION                     !
        !-------------------------------------------------------!
Q.LRNM  !                        RENAMED NAME                   !
        !-------------------------------------------------------!
Q.LBIT  !                      START PARAMETER                  !
        !-------------------------------------------------------!
Q.LMOD  !                        STATUS BITS                    !
        !=======================================================!
						Page 164

               OFFSETS FOR FIRST FILE IN AN OUTPUT REQUEST

        !=======================================================!
Q.OSTR  !                       FILE STRUCTURE                  !
        !-------------------------------------------------------!
Q.ODIR  !                         DIRECTORY                     !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------!  6 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/
Q.ONAM  !                         FILE NAME                     !
        !-------------------------------------------------------!
Q.OEXT  !                         EXTENSION                     !
        !-------------------------------------------------------!
Q.ORNM  !                        RENAMED NAME                   !
        !-------------------------------------------------------!
Q.OBIT  !                      START PARAMETER                  !
        !-------------------------------------------------------!
Q.OMOD  !                        STATUS BITS                    !
        !=======================================================!
						Page 165

                                  QSRFSS

       The QUASAR failsoft file is organized in 512 block  sections
       (where the  term 'block'  is an  operating system  dependent
       quantity).  Each section consists of a set of 'index' blocks
       followed by a set of data  blocks as shown in the  following
       diagram.


       !=======================================================!
INDEX  !                           INDEX                       !
       !-------------------------------------------------------!
INDTAB !          UNUSED BLOCKS FOR THIS SECTION               !    /|\
       !---------------                         ---------------!     |
       !                                                       !     |
       !---------------                         ---------------!  FSSMNS
       !                                                       !     |
       !---------------                         ---------------!     |
       !                                                       !     |
       !_______________________________________________________!    \|/ 
       !                                                       !
       !                                                       !
       /             DATA BLOCKS FOR THIS SECTION              /
       /                                                       /
       /                                                       /
       !                                                       !
       !                                                       !
       !=======================================================!


       Block 0 of each  section is unused.   The index is  arranged
       with one word per data block such that word 'n' of the index
       represents block  'n'  of  the  section  (given  the  'same'
       counting origin).  Word 7 of the index represents block 7 of
       the section, for example, but only if the counting origin is
       the same i.e. if blocks are  counted starting at 0, then  so
       must index words.



       !=======================================================!
       !FORMAT VERSION OF THE QUEUE!NO. OF REQUESTS IN SECTION !
       !-------------------------------------------------------!
       !                 UNUSED  (CONTAINS 0)                  !
       !-------------------------------------------------------!
       !                                                       !
       !                   INDEX SAT MARKERS                   !
       !                 FOR THIS INDEX BLOCK                  !
       !                                                       !
       !-------------------------------------------------------!
       !                                                       !
       /                                                       /
       /    DESCRIPTION OF THE DATA BLOCKS IN THIS SECTION     /
       /                                                       /
       !                                                       !
       !=======================================================!
						Page 166

			QSRMAC TABLES

                  RDB  --  Request Descriptor Block

The REQUEST DESCRIPTOR BLOCK is the data-structure used to represent a
request or set of requests.  It consists of a jobname with wildcards
and a positive mask, a sequence number (which if 0 implies all jobs
which fit the rest of the criteria), and an operating system dependent
owner specifier with wildcards.

	!-------------------------------------------------------!
.RDBJB	!                  SPECIFIED JOB NAME                   !
	!-------------------------------------------------------!
.RDBJM	!                     JOB NAME MASK                     !
	!-------------------------------------------------------!
.RDBES	!               EXTERNAL SEQUENCE NUMBER                !
	!-------------------------------------------------------!
.RDBRQ	!                 REQUEST ID NUMBER                     !
	!-------------------------------------------------------!
	                                                       
	                 -----  TOPS10  -----                  
	!                                                       !
	!-------------------------------------------------------!
.RDBOI	!              OWNER IDENTIFICATION (PPN)               !
	!-------------------------------------------------------!
.RDBOM	!                     OWNER ID MASK                     !
	!-------------------------------------------------------!
	
	                 -----  TOPS20  -----                  
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
.RDBVS	/            SPECIFICATION OF REQUEST OWNER             /
	/                                                       /
	/                                                       /
	!                                                       !
	!=======================================================!



						Page 167

                   ROB  --  Requested Object Block

	The ROB is used in any context where an object and some
	attributes (or a particular object) must be specified.

	!=======================================================!
.ROBTY	!                      OBJECT TYPE                      !
	!-------------------------------------------------------!
.ROBAT	!     DEVICE ATTRIBUTES     !   PHYSICAL UNIT NUMBER    !
	!-------------------------------------------------------!
.ROBND	!                       NODE NAME                       !
	!-------------------------------------------------------!
.ROBUA	!              CUSTOMER DEFINED ATTRIBUTES              !
	!=======================================================!

		Description of fields for .ROBTY

	Symbol		Mask		Meaning

	RO.PHY		1B0		Physical unit specified
	RO.ATR		-1,,0		Device attribute (SHORT CREATE only)
					   %LOWER 1	Lower Case Device
					   %UPPER 2	Upper Case Device
					   %PHYCL 3	Physical Device
					   %GENRC 4	Generic Device
					   %SITGO 5	Sitgo Request

	RO.UNI	 	0,,-1		Physical unit number

						Page 168

                  DIB  --  Dependency Information Block

       Each job has  a Dependency  List associated  with it.   Each
       entry in the list  is a DIB  which describes one  dependency
       which the job has.


        !=======================================================!
.DIBDS  !                     DEPENDENCY STATUS                 !
	!-------------------------------------------------------!
.DIBDT  !                      DEPENDENCY DATA                  !
        !=======================================================!

                     Description of fields for .DIBDS

	Symbol		Mask		Meaning

	DI.SAT		1B0		Satisfied Last Pass (For List Mostly)
	DI.TYP		0,,-1		Dependency Type

					  .DTSTR  1	Adr of STR Queue
							entry for structure

						Page 169

                  QH   --  Queue Header Definitions

	!=======================================================!
.QHTYP	!        QUEUE NAME         !    FLAGS    ! QUEUE TYPE  !
	!    3 SIXBIT CHARACTERS    !             !             !
	!-------------------------------------------------------!
.QHLNK	!      POINTER TO LAST      !     POINTER TO FIRST      !
	!    ENTRY IN THIS QUEUE    !    ENTRY IN THIS QUEUE    !
	!-------------------------------------------------------!
.QHPAG	!    BASE OF SCHEDULING     ! SIZE OF AN  !# OF LIST PGS!
	!   AND LINKING ALGORITHM   !    ENTRY    !  LAST TIME  !
	!-------------------------------------------------------!
.QHLIS	!                   LIST FLAG (LIQxxx)                  !
	!-------------------------------------------------------!
.QHAFT	!              AFTER TIME OF BEST AFTER JOB             !
	!=======================================================!

                   Description of fields for .QHTYP

	Symbol		Mask		Meaning

	QH.NAM		-1,,0		Three character queue name
	QH.FLG		777B26		Flags

					   QH.INV   1B19 Object is invisible

	QH.TYP		777B35		Queue type
					
					   .QHTQS   0   Internal to QUASAR
					   .QHTOU   1   An output queue
					   .QHTIP   2   An input queue
					   .QHTMD   3   Mountable device queue
					   .QHFRR   4   Free running device
					   .QHTAR   5   Archive system queue


                   Description of fields for .QHLNK

	Symbol		Mask		Meaning

	QH.PTL		-1,,0		Pointer to last entry
	QH.PTF		0,,-1		Pointer to first entry

						Page 170

                   Description of fields for .QHPAG

	Symbol		Mask		Meaning
	
	QH.SCH		-1,,0		Scheduler entry vector
		
					   SCHLNK   0   Link in
					   SCHSCH   1   Schedule
					   SCHDEF   2   Fill in defaults 
							for CREATE
					   SCHMOD   3   Perform queue 
							dependent modify
					   SCHRJI   4   Release job-objext
							interlock
					   SCHFJB   5   Find a job for 
							an object

	QH.SIZ		777B26		Size of an entry


						Page 171

                 EV -- Timed event block definitions

All the event blocks are kept on a linked list, whose handle is stored
in G$EVENT.  This list is maintained sorted by event time, and thus
the first entry in the list contains the nearest wakeup time. Users
may put any amount of data on the end of the event block.

	!=======================================================!
.EVTYP	!					!   ENTRY TYPE	!
	!-------------------------------------------------------!
.EVUDT	!	    UDT AT WHICH TO SIGNAL THE EVENT		!
	!-------------------------------------------------------!
.EVRTN	!	ROUTINE TO CALL WHEN THE TIMER GOES OFF		!
	!-------------------------------------------------------!
	!			OPTIONAL DATA			!
	!=======================================================!

                   Description of fields for .EVTYP

	Symbol		Mask		Meaning

	EV.TYP		777B35		Field containing the type code

					   %EVCHK   1   CHECKPOINT request
					   %EVNOT   2   File archive retrieval
							notification
					   %EVLCK   3	File structure 
							(un)lock request
					   %EVIGN   4   Ignore object request
					   %EVAFT   5   /AFTER request
					   %EVNLC   6   Locked str countdown
							event


						Page 172

                   QE   --  Queue Entry Definitions

	!=======================================================!
.QELNK	!     LINK TO PREVIOUS      !       LINK TO NEXT        !
	!  0 IF THIS IS THE FIRST   !  0 IF THIS IS THE FIRST   !
	!=======================================================!
.QECRE	!  CREATION TIME OF ENTRY (INTERNAL DATE/TIME FORMAT)   !
	!-------------------------------------------------------!
.QEOBJ	!      POINTER TO OBJECT QUEUE ENTRY FOR THIS REQ       !
	!-------------------------------------------------------!
.QEITN	!                  INTERNAL TASK NAME                   !
	!-------------------------------------------------------!
	/                                                       /
.QEROB	/                REQUESTED OBJECT BLOCK                 /
	/                                                       /
	!-------------------------------------------------------!
	/                                                       /
.QEJBB	/                 JOB INFORMATION BLOCK                 /
	/                                                       /
	!-------------------------------------------------------!
.QEDIN	!                           !  DEPENDENCY LIST NUMBER   !
	!-------------------------------------------------------!
.QEIPR	!                   ENTRANCE PRIORITY                   !
	!-------------------------------------------------------!
.QEPRT	!   THE PROTECTION FIELD    !                           !
	!-------------------------------------------------------!
	!			SPARE				!
	!-------------------------------------------------------!
	!                                                       !
	!               REQUEST LIMIT INFORMATION               !
.QELIM	!             CONTENTS ARE QUEUE DEPENDENT              !
	!                        5 WORDS                        !
	!                                                       !
	!-------------------------------------------------------!
.QENID	!                       NOTIFY ID                       !
	!-------------------------------------------------------!
.QEJBN	!     BATCH JOB NUMBER      !     USER'S JOB NUMBER     !
	!-------------------------------------------------------!
.QESTN	!     DISK PAGE ADDRESS     !                           !
	!-------------------------------------------------------!
.QEMDR	!               REQUEST'S MDR ADDRESS                   !
	!-------------------------------------------------------!
	
	!                 -----  TOPS 20  -----                 !
	!                                                       !
	!-------------------------------------------------------!
.QEOWN	!                OWNER (LOGGED IN USER)                 !
	!                      (10 WORDS)                       !
	!-------------------------------------------------------!
.QECON	!             CREATOR'S CONNECTED DIRECTORY             !
	!                      (12 WORDS)                       !
	!=======================================================!
						Page 173

                     Description of fields for .QELNK

	Symbol		Mask		Meaning

	QE.PTP		-1,,0		Pointer to Previous Entry
	QE.PTN		0,,-1		Pointer to Next Entry


                     Description of fields for .QEITN

	QE.AVO		770000,,00	Acct Validation Object Type (-10 Only)
	QE.AVI		007777,,-1	Acct Validation Itn (-10 Only)

                     Description of field for .QEDIN

	QE.DLN		0,,-1		Dependency List Number

                     Description of field for .QEPRT

	QE.PRO   	-1,,0		The Protection Field

                     Description of fields for .QEJBN

	QE.UJN		0,,-1		Users Job Number (Origional Job Number)
	QE.BJN		-1,,0		Batch Job Number

                     Description of field for .QESTN

	QE.DPA 		-1,,0		Disk Page Address

						Page 174

              JOB INFORMATION BLOCK (.QEJBB) DESCRIPTION

        !=======================================================!
.QEJOB  !                     EXTERNAL JOB NAME                 !
        !-------------------------------------------------------!
.QESEQ  !                      EXTERNAL VALUES                  !
        !-------------------------------------------------------!
.QEOID  !                      OWNER IDENTIFIER                 !
        !-------------------------------------------------------!
.QERID  !                        REQUEST ID.                    !
        !-------------------------------------------------------!

                               TOPS-10 ONLY

        !-------------------------------------------------------!
.QEUSR  !                        USER'S NAME                    !
        !---------------                         ---------------!
        !                         Two Words                     !
        !-------------------------------------------------------!


                     Description of fields for .QESEQ

	Symbol		Mask		Meaning

	QE.SEQ		7777B11		External sequence number
	QE.ALR		1B17		Allocation requested
	QE.WAL		1B18		Batch request waiting for allocation
	QE.WAM		1B19		Request requires account vaildation

					   %VALID  0  Account string is valid
					   %VALRQ  1  Account validation 
							is required
					   %VALPD  2  Account validation has
							been requested

	QE.IAS		1B22		Request contains invalid account string
	QE.NOT		3B24		Job requested 

					   %NOTTY  1  Notify via user's TTY:
					   %NOTML  2  Notify via mail
					   %NOTJB  3  Notify user's job
	
	QE.JBC		1B25		Job has been CHECKPOINTed
	QE.HBO		1B26		Job held by operator
	QE.PRV		1B27		Request creator was priviledged
	QE.SPL		1B28		Request contains spooled files
	QE.RDE		1B29		Request doesn't exist (clean-up)
	QE.PRI		77B35		External priority


						Page 175

                          OBJ  --  Object Queue

       For each object on the system, known to QUASAR, an entry  in
       the OBJ queue is  made.  This queue  is used for  scheduling
       and for interfacing with the operator control.

	!=======================================================!
OBJTYP	!                   Object type code                    !
	!-------------------------------------------------------!
OBJUNI	!               Unit number of this type                !
	!-------------------------------------------------------!
OBJNOD	!                  Node name in SIXBIT                  !
	!-------------------------------------------------------!
OBJPID	!              PID which has object setup               !
	!-------------------------------------------------------!
OBJITN	!   	    ITN of request currently on OBJect     	!
	!-------------------------------------------------------!
OBJSCH	!SCHEDULER STATE INFORMATION!  QUEUE HEADER FOR OBJECT  !
	!-------------------------------------------------------!
OBJTIM	!                   OBJect Timer Word                   !
	!-------------------------------------------------------!
OBJDAT	!            OBJect Attributes (DEC defined)            !
	!-------------------------------------------------------!
OBJCAT	!         OBJect Attributes (Customer defined)          !
	!-------------------------------------------------------!
OBJPRM	\           5 Word Object specific parameter            \
	\                         area                          \
	!-------------------------------------------------------!
OBJSTS	!              CURRENT DEVICE STATUS CODE               !
	!       (FILLED IN BY QUASAR, UPDATED BY SPOOLER)       !
	!-------------------------------------------------------!
OBJST1	\               Current status, expressed               \
	\                 in as an ASCIZ string                 \
	!=======================================================!

                  Description of Bits in the OBJSCH word

	Symbol		Bit		Meaning

	OBSSTA		 0		Object is Started
        OBSSUP		 1		Object is Setup
	OBSBUS		 2		Object is Busy
	OBSSIP		 3		Setup in Progress
	OBSIGN		 4		Ignore This For a While
	OBSDAA		 5		Device (DEC) Attributes Available
	OBSSEJ		 6		Shutdown at End-Of-Job
	OBSINV		 7		Object is Invisible
	OBSINT		 8		Do An Internal Shtdwn When Queue Emptys
	OBSHUT		 9		Object is Internally Shutdown
	OBSFRR		 10		A Free Running Device.
	OBSSTP		 11		Stopped by the Operator
	OBSSER		 12		Stop after every request	
	OBSSPL		 13		Object Is Spooling to Tape
	OBSATR		 14		Device attributes set by processor
	OBSFRM		 15		Forms change scheduled
	OBSQUH		 0,,-1		Address of Queue Header for Object

						Page 176

               DEFINITIONS OF WORDS WITHIN THE OBJPRM BLOCK


       OUTPUT PARAMETERS (PRINTERS, PAPERTAPE, CARDPUNCH, PLOTTER)

	Symbol		Value		Meaning

	.OOPRI		0		Min and Max External Priority

					  OBPMIN  -1,,0	Minimum Value
					  OBPMAX  0,,-1	Maximum Value

	.OOLIM		1		Min and Max Output Limits

					  Same fields as above

	.OOFRM		2		Forms Type
	.OOFLG		3		Output Flags

	   				  .OFLEA  -1,,0	Forms Limit Exceeded
							Action

	.OOTAP		4		Sixbit Device Name For Spooling To Tape

               DEFINITIONS OF WORDS WITHIN THE OBJPRM BLOCK


       OUTPUT PARAMETERS (PRINTERS, PAPERTAPE, CARDPUNCH, PLOTTER)

	Symbol		Value		Meaning

	.OOPRI		0		Min and Max External Priority

					  OBPMIN  -1,,0	Minimum Value
					  OBPMAX  0,,-1	Maximum Value

	.OOLIM		1		Min and Max Output Limits

					  Same fields as above

	.OOFRM		2		Forms Type
	.OOFLG		3		Output Flags

	   				  .OFLEA  -1,,0	Forms Limit Exceeded
							Action

	.OOTAP		4		Sixbit Device Name For Spooling To Tape




						Page 177

                         BATCH-STREAM PARAMETERS

	.OBPRI		0		Min And Max External Priority

					  OBPMIN  -1,,0	Minimum Value
					  OBPMAX  0,,-1	Maximum Value

	.OBTIM 		1		Min And Max Runtime Limits

					  OBPMIN  -1,,0	Minimum Value
					  OBPMAX  0,,-1	Maximum Value

	.OBFLG		3		Batch Stream Flags
	
					  .OPRIN -1,,0	Operator Intervention
					      .OPINY  1	Allow Operator
							Intervention Jobs
					      .OPINN  2 No Operator
							Intervention Jobs
	.OBCOR		4		Min And Max Core Limits


                        Retrieve-stream parameters

	.OBSTM		0		Time stamp and flag
	.OBTAP		1		Tape ID
	.OBSSN		2		Saveset,,tape file #
					  OB.SSN  -1,,0	Saveset
					  OB.TFN  0,,-1	Tape file number

                      Description of Bits in OBJDAT


                                 PRINTERS

	Symbol		Bit		Meaning

	OBDLLC		 1		Lowercase Printer
	OBDLUC		 2		Uppercase Printer


						Page 178

            Description of Status values for OBJSTS and OBJST1


	Symbol		Value		String for OBJST1

	%INVLD		  0		Invalid
	%IDLE		  1		Idle
	%ACTIV		  2		Active
	%STOPD		  3		Stopped
	%NSTRT		  4		Not Started
	%NAVAL		  5		Not Available
	%NPTYS		  6		No Ptys
	%OFLNE		  7		Offline
	%SFULL		  8		System Full
	%SHTDN		  9		Shutting Down
	%CNCLG		 10		Aborting
	%OREWT		 11		Opr Resp Wait
	%ALIGN		 12		Aligning Forms
	%RESET		 13       		      
	%READN		 14		Reading
	%REQUE		 15		Requeing
	%SHUTD		 16		Shutting Down
	%OPRWT		 17		Opr Output Waint
	%STPPN		 18		Stop is Pending
	%NOPRC		 19		No processor
	%STMAX		 19

						Page 179

                     PSB  --  Processor Status Block

	!=======================================================!
	\                                                       \
	\                The Queue Entry Header                 \
	\                                                       \
	!=======================================================!
PSBPID	!                   Process ID  (PID)                   !
	!-------------------------------------------------------!
PSBNAM	!                     Program Name                      !
	!-------------------------------------------------------!
PSBLIM	!  Current number of jobs   !  Maximum number of jobs   !
	!-------------------------------------------------------!
PSBFLG	!           Flags           !  Number of OBJect types   !
	!-------------------------------------------------------!
PSBOBJ	!                                                       !
	\                 List of object types                  \
	\                                                       \
	\                  Maximum of 5 types                   \
	!                                                       !
	!=======================================================!



                     Description of Fields for PSBLIM

	Symbol		Mask		Meaning

	PSLCUR		-1,,0		Current Number of Jobs
	PSLMAX 		0,,-1		Maximum Number of Jobs

                     Description of field for PSBFLG

	PSFNOT		0,,-1		Number of Object Types

						Page 180

                     SPL  --  Spool Queue Definition

	!=======================================================!
	/                                                       /
	/                THE QUEUE ENTRY HEADER                 /
SPLOID	/                                                       /
	!=======================================================!
SPLROB	\                                                       \
	\                REQUESTED OBJECT BLOCK                 \
	\                                                       \
	!-------------------------------------------------------!
SPLJOB	!        JOB NUMBER         !     RETRIEVAL POINTER     !
	!-------------------------------------------------------!
SPLFRM	!                      FORMS TYPE                       !
	!-------------------------------------------------------!
SPLAFT	!                    AFTER PARAMETER                    !
	!-------------------------------------------------------!
SPLNOT	!                      NOTE FIELD                       !
	!                       (2 WORDS)                       !
	!-------------------------------------------------------!
SPLRQZ	!                           !      REQUEST LENGTH       !
	!=======================================================!



                     Description of fields for SPLJOB

	Symbol		Mask		Meaning

	SPYJOB		-1,,0		The Job Number
	SPYDPA		0,,-1		The Retrieval Pointer

                     Description of fields for SPLRQZ

	SPYLEN		0,,-1		The Length (From .MSTYP)

						Page 181

                   STR  --  Structure Queue Definition


                               TOPS-10 ONLY

        !=======================================================!
STRNAM  !                       STRUCTURE NAME                  !
        !---------------                         ---------------!
        !                         Two Words                     !
        !-------------------------------------------------------!

                                TOPS-20 ONLY
        !=======================================================!
STRNAM  !           STRUCTURE NAME (TOPS-20) MAX 79 CHARS       !    /|\
        !---------------                         ---------------!     |
        !                                                       !     |
        !---------------                         ---------------! 16 Words
        !                                                       !     |
        !---------------                         ---------------!     |
        !                                                       !     |
        !_______________________________________________________!    \|/


                         BOTH TOPS-10 AND TOPS-20

        !-------------------------------------------------------!
STRSTS  !                      STRUCTURE STATUS                 !
        !=======================================================!



                      Description of Bits for STRSTS


	Symbol		Bit		Meaning

	STSSSV		 0		Structure Status Valid
	STSONL		 1		Structure Is Online

						Page 182

                       NETWORK DATA BASE STRUCTURE


	!=======================================================!
	/							/
	/		THE QUEUE ENTRY HEADER			/
NETCOL	/							/
	!-------------------------------------------------------!
NETNAM	!		SIXBIT NODE (NETWORK) NAME		!
	!-------------------------------------------------------!
NETNBR	!		   NODE (NETWORK) NUMBER		!
	!-------------------------------------------------------!
NETSTS	!		ONLINE/OFFLINE STATUS			!
	!-------------------------------------------------------!
NETRTE	!                   ROUTE ENTRY NAME                    !
	!-------------------------------------------------------!
NETASC	\                                                       \
	\                ASCIZ NETWORK NODE NAME                \
	\                                                       \
	!-------------------------------------------------------!
NETCSD	!                  CLEAR TO SEND DELAY                  !
	!-------------------------------------------------------!
NETRPM	!                  RECORDS PER MESSAGE                  !
	!-------------------------------------------------------!
NETBPM	!                   BYTES PER MESSAGE                   !
	!-------------------------------------------------------!
NETSWL	!                  SILO WARNING LEVEL                   !
	!-------------------------------------------------------!
NETPTL	!     NODE PORT NUMBER      !     NODE LINE NUMBER      !
	!-------------------------------------------------------!
NETIDN	!         PORT/LINE HANDLE (FOR DN60 FRONT END)         !
	!=======================================================!
						Page 183

                     Description of Fields for NETSTS

	Symbol		Mask		Meaning

	NT.FLG		770000,,0	Network Flag Bits
					  
					  NETNSV  1B0	Online/Offline Status
							Bit is Valid
					  NETONL  1B1	Online
					  NETADD  1B2	This Node Added Last
							Pass
					  NETIBM  1B3	Node is DN60 Driven
					  NETSHT  1B4	Network Shutdown is in
							Progress
					  NETSGN  1B5	Node Requires Signon
							Processing
					  NETNUP  1B6	Node was online 
							sometime
					  NETPRO  1B7	Proto-actual is online
	
	NT.TYP		700,,0		Network type

					  DF.DEC  0	'DEC' node
					  DF.378  1	3780 node
					  DF.278  2	2780 node
					  DF.HSP  3	HASP node
	NT.MOD		70,,0		Network Mode

					  DF.TRM  1	Termination Mode
					  DF.EMU  2	Emulation Mode
					  DF.PRO  3	Proto mode
	NT.TOU		7,,0		Protocol Timeout Catagory

					  ST.PRI  1	Primary
					  ST.SEC  2	Secondary

	NT.DTR		700000		Data Terminal Ready

					  ST.ON   1	On
					  ST.OFF  2	Off

	NT.TRA		70000		Transparency

					  [None defined]

	NT.XTA		7777		Extra bits

                     Description of fields for NETPTL

	NT.PRT		-1,,0		Node Port Number
	NT.LIN		0,,-1		Node Line Number

						Page 184

                    ROUTE TABLE ENTRY DESCRIPTION

	!=======================================================!
RTEOB1	!		SOURCE OBJECT BLOCK                     !
	!-------------------------------------------------------!
RTEOB2	!	       DESTINATION OBJECT BLOCK		        !
	!=======================================================!

						Page 185

                     CSM  --  Canonical SPOOL Message

	!=======================================================!
CSM.JB	!        JOB NUMBER         !  STATION #  !    FLAGS    !
	!-------------------------------------------------------!
CSM.OI	!                      OWNER'S ID                       !
	!-------------------------------------------------------!
CSM.RO	\                                                       \
	\                REQUESTED OBJECT BLOCK                 \
	\                                                       \
	!-------------------------------------------------------!
CSM.EN	!              ENTERED (GTJFN'ED) FILENAME              !
	!-------------------------------------------------------!
CSM.FS	!                   SIZE OF THE FILE                    !
	!-------------------------------------------------------!
CSM.FP	!           FLAGS FOR .FPINF OF INCLUDED FILE           !
	!-------------------------------------------------------!
CSM.FM	!                      FORMS TYPE                       !
	!-------------------------------------------------------!
CSM.LM	!                     OUTPUT LIMIT                      !
	!-------------------------------------------------------!
CSM.AF	!                AFTER PARAMETER FOR JOB                !
	!-------------------------------------------------------!
CSM.NT	!                      NOTE FIELD                       !
	!                       (2 WORDS)                       !
	!-------------------------------------------------------!
CSM.FD	!                           !     ADDRESS OF THE FD     !
	!=======================================================!
	
	!                 -----  TOPS 10  -----                 !
	!                                                       !
	!-------------------------------------------------------!
CSM.US	!                 USER'S NAME IN SIXBIT                 !
	!                       (2 WORDS)                       !
	!=======================================================!


                     Description of fields for CSM.JB


	Symbol		Mask		Meaning

	CS.JOB		-1,,0		Job Number
	CS.LOC		777000		Node Number (20-Only)
	CS.LOC		777000		Station Number.
	CS.FLG		000777		Flags
	CS.DFR		1B27		Deferred Mode Spooling


                     Description of fields for CSM.FD

	CS.FDA		0,,-1		Address of the FD to Include


						Page 186

                    CLM  --  Canonical LOGOUT Message

	!=======================================================!
CLM.FC	!                     FUNCTION CODE                     !
	!-------------------------------------------------------!
CLM.JB	!         JOB NUMBER        !       FLAG SETTINGS       !
	!=======================================================!


                     Description of values for CLM.FC


	Symbol				Meaning

	.IPCSL				From MONITOR
	.QIFNC				Internal

                     Description of fields for CLM.JB

	Symbol		Mask		Meaning

	CL.JOB		-1,,0		Job Number
	CL.BAT		1B18		Job is a Batch Job
	CL.BQE		0,,-1		This Field Contains The Address
					of the Batch Job Request (.QExxx)
					If It Is An Internal Call
						Page 187

                 The Messages and their respective codes

       The following  pages  contain  the  format  of  the  various
       messages which are sent  to or by  QUASAR to various  system
       components.

                           EXTERNAL OPERATIONS

	Symbol		Value		Message Description

	.QOHEL		  1		HELLO - Establish Contact
	.QOREL		  2		RELEASE - Finished a Request
	.QOCHE		  3		CHECKPOINT - Failsoft A Request
	.QOREQ		  4		REQUEUE - Return a Request
	.QONEX		  5		NEXTJOB - Request Given to a Component
	.QOABO		  6		ABORT - Stop Processing That Request
	.QOCRE		  7		CREATE - Make a Request
	.QOLIS		  10		LIST - Get a Cross Section of the Queue
	.QOMOD		  11		MODIFY - Change Parameters of a Request
	.QOKIL		  12		KILL - Remove A Request
	.QOLAN		  13		Answer Message to List Request
	.QOOBS		  14		Obsolete text MSG
	.QORCK		  15		CHECKPOINT-Request Message
	.QODFR		  16		Defer Message
	.QOROU		  17		Routing Change
	.QOCOU		  20		Count Message
	.QOCAN		  21		Count Answer Message
	.QOSUP		  22		Setup Message
	.QORSU		  23		Response-To-Setup Message
	.QOOAC	      	  24	        Obsolete OPR Action Msg
	.QOHBO		  25		Hold/Release Message
			  26		Monitor Spool Message
			  27		Monitor Logout Message
	.QOMNT		  30		Tape Mount Request (User to Quasar)
	.QOSTU		  31		Device Status Update Message
	.QOMTR		  32		Tape Mount Release Msg (Same as .QOREL)
	.QOMTC		  33		Tape Mount Chkpnt Msg (Same as .QOCHE)
	.QOMTA		  34		Tape Mount Abort MSG (QUASAR to MTCON)
	.QOMAT		  35		Tape Mount Attributes Request
	.QONWA		  36		Node-Went-Away Notification Message
	.QOCQE		  37		Create Queue Entry (Short Create MSG)
	.QOREC		  40		Tape Recognize Message (QUASAR to
					Tape Labeler)
	.QOTST		  41		Tape Status Message (Tape Labeller
					To Quasar)
	.QOUNL		  42		Tape Unload Message (QUASAR to
					Tape Labeller)
	.QOVMN		  43		Tape Volume In Use (Reassigned)
					(QUASAR to Tape Labeller)
	.QOVDM		  44		Tape Volume Deassigned (Quasar
					To Tape Lab)
	.QOVSR		  45		Volume Switch Request (Tape Lab to
					QUASAR)
	.QOVSD		  46		Volume Switch Directive (QUASAR to
					Tape Lab)
						Page 188

	.QOREW		  47		Tape Rewind Message (QUASAR to
					Tape Labeler)
	.QORCT		  50		Request for system catalog info
	.QOCAT		  51		Answer to system catalog info request
	.QOBLD		  52		Build a structure (QUASAR to labeller)
	.QODSM		  53		Dismout a structure(QUASAR to labeller)
	.QOACK		  54		MDA ACK message (QUASAR to labeller)
	.QOASL		  55		Add a str to a user search 
						list (QUASAR to labeller)
	.QODVS		  56		Dismount/deallocage a vol set 
						(user to QUASAR).
	.QOLAC		  57		List some allocations
	.QOALC		  60		Batch allocation processor message
	.QOPRM		  61		Answer to above (a mount message)
	.QOIDN		  62		Tape initialization done
	.QOFCH		  63		LPTSPL forms change message
	.QIOBM		  64		IBMCOM statistics message
	.QOGFR		  65		TOPS20 [SYSTEM]GOPHER

	.QIFNC		1B18		If Bit 18 Is Set, The Call Is Internal
					And The Request May Be Interpreted
					Differently Than External Calls
	.QIRET		1B19		If bit 18 is set, this is a
					monitor archive request, so
					dont bomb it if queue entry
					is disabled.
						Page 189

                     The HELLO Message -- Function 1

	!=======================================================!
	\                                                       \
	\                  The Message Header                   \
	\                                                       \
	!=======================================================!
HEL.NM	!                     Program Name                      !
	!-------------------------------------------------------!
HEL.FL	!  QUASAR Internal Version  !           Flags           !
	!-------------------------------------------------------!
HEL.NO	!  Number of OBJect Types   !  Max no. concurrent jobs  !
	!-------------------------------------------------------!
HEL.OB	!                                                       !
	\                 List of object types                  \
	\                                                       \
	\           From 1 to 5 object types allowed            \
	!                                                       !
	!=======================================================!



                     Description of fields in HEL.FL

	Symbol		Mask		Meaning

	HEFVER		-1,,0		Internal Version Number (%%.QSR)
	HEFFLG		0,,-1		Mask For Flags

					  HEFBYE  1B18	Processor Saying
							"Good Bye"

                     Description of fields for HEL.NO

	HENNOT		-1,,0		Number Of Object Types
	HENMAX		0,,-1		Maximum Number Of Jobs

                     Description of fields for HEL.OB

	HELATR		-1,,0		Device attributes
	HELOBJ		0,,-1		Object type

						Page 190

                    The RELEASE Message -- Function 2

	!=======================================================!
	/                                                       /
	/                THE MESSAGE HEADER                     /
	/                                                       /
	!=======================================================!
REL.IT	!                  INTERNAL TASK NAME                   !
	!-------------------------------------------------------!
REL.FL	!                       FLAG WORD                       !
	!-------------------------------------------------------!
	/                                                       /
	/                                                       /
REL.TX	/       RELEASE MESSAGE TEXT (STSSIZ WORDS LONG)        /
	/                                                       /
	/                                                       /
	!=======================================================!

    EXTRA INFORMATION IS RETURNED BY BATCON DURING ITS RELEASE MESSAGE

	!=======================================================!
REL.BJ	!       FLAG SETTINGS       !      THE JOB NUMBER       !
	!-------------------------------------------------------!
REL.FD	/                                                       /
	/       STANDARD FD AREA DESCRIBING THE LOG FILE        /
	/  THE LENGTH IS DERIVED FROM THE RELEASE MESSAGE SIZE  /
	/                                                       /
	!=======================================================!


                     Description of fields for REL.FL

	Symbol		Mask		Meaning

	RF.DEC		777777B17	LF for DEC
	RF.ABO		1B0		Job aborted (output) or 
						fatal error (input)
	RL.JOB		0,,-1		RH for WSM

						Page 191

                    The REQUEUE message -- Function 4

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
REQ.IT	!                  INTERNAL TASK NAME                   !
	!-------------------------------------------------------!
REQ.FL	!                       REQUEUE FLAGS                   !
        !-------------------------------------------------------!
REQ.IN	/            CHECKPOINT/REQUEUE INFORMATION             /
	/                                                       /
	/                       (5 WORDS)                       /
	!                                                       !
	!=======================================================!

                     Description of flags for REQ.FL


	Symbol		Mask		Meaning

	RQ.HBO		 1B0		Hold By Opr
	RQ.RLC		 1B1		Restart At Last Checkpoint
					I.E. Dont Update Checkpoint Info
	RQ.TIM		 777		Time in minutes to wait before 
						rescheduling
						Page 192

                    The CHECKPOINT message -- Function 3


	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
CHE.IT	!                  INTERNAL TASK NAME                   !
	!-------------------------------------------------------!
CHE.FL	!                       REQUEUE FLAGS                   !
        !-------------------------------------------------------!

                              OPTIONAL WORDS

        !-------------------------------------------------------!
CHE.IN	/            CHECKPOINT/REQUEUE INFORMATION             /
	/                                                       /
	/                       (5 WORDS)                       /
	!                                                       !
        !-------------------------------------------------------!
CHE.ST  /                       SPOOLER STATUS                  /
        /                                                       /
        /                       (STSSIZ WORDS)                  /
        !                                                       !
	!=======================================================!



                      Description of flags in CHE.FL

	Symbol		Bit		Meaning

	CH.FCH		 0		Do a Checkpoint
	CH.FST		 1		Update Status
	CH.JBN		0,,-1		Batch Job Number

						Page 193

                  EQ   --  The External Queue Entry


 The NEXTJOB Message, Function 5, is  the  message  which  instructs  a
 known  component to process a job.  The CREATE Message, Function 7, is
 sent to QUASAR by an unknown component as a request to create a job in
 one of the external queues.  Both of these messages are in the form of
 the External Queue Entry (EQ).
 
 The External Queue Entry (EQ) consists of a header section followed by
 a list of file-specifications.
 
 The header section has three (3) parts:
 
      1.  The operating system independent header which is required and
          is the same on both operating systems.
 
      2.  The  operating  system  dependent  header  which  immediately
          follows  the  operating  system  independent  header.   It is
          required and is different for each operating system.
 
     The above parts comprise the minimum header size EQHSIZ.
 
 
      3.  The operating system dependent optional parameters which when
          present  immediately  follow  the  operating system dependent
          part of the header.
 

 The length of the entire header for a given request is stored  in  the
 header in .EQLEN<EQ.LOH>.
 
 Following  the  header  sections  is   a   list   of   one   or   more
 file-specifications.  Each file-spec consists of a File-Parameter area
 (FP) followed by the standard File Descriptor area (FD).


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
.EQITN	!               INTERNAL TASK NAME (ITN)                !
	!-------------------------------------------------------!
.EQLEN	! INTERNAL REQUEST VERSION  !     LENGTH OF HEADER      !
	!-------------------------------------------------------!
	\                                                       \
.EQROB	\                REQUESTED OBJECT BLOCK                 \
	\                                                       \
	!-------------------------------------------------------!
	\                                                       \
.EQJBB	\                 JOB INFORMATION BLOCK                 \
	\                                                       \
	!-------------------------------------------------------!
	!							|
						Page 194

	!							|
	!-------------------------------------------------------!
.EQSPC	!  REQUEST PROTECTION CODE  !NUMBER OF FILES IN REQUEST !
	!-------------------------------------------------------!
	!              SPARE EQ FIELD (TOPS-20)                 !
	!-------------------------------------------------------!
.EQAFT	!      AFTER PARAMETER (INTERNAL DATE/TIME FORMAT)      !
	!-------------------------------------------------------!
	!			SPARE				!
	!-------------------------------------------------------!
	!                                                       !
	\               REQUEST LIMIT INFORMATION               \
.EQLIM	\             CONTENTS ARE QUEUE DEPENDENT              \
	\                        5 WORDS                        \
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
	\            REQUEST CHECKPOINT INFORMATION             \
.EQCHK	\            MAINTAINED BY KNOWN COMPONENTS             \
	\                     EQCKSZ WORDS                      \
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
	\                    ACCOUNT STRING                     \
.EQACT	\                                                       \
	\                        8 WORDS                        \
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
	!         THE LAST FEW WORDS OF THE "EQ" HEADER         !
	!       ARE OPERATING SYSTEM DEPENDENT AS FOLLOWS       !
	
	
;	!                 -----  TOPS 10  -----                 !
	!                                                       !
	!-------------------------------------------------------!
.EQUSR	!                  USER NAME IN SIXBIT                  !
	!                       (2 WORDS)                       !
	!=======================================================!
	!                                                       !
	\                  PATH SPECIFICATION                   \
.EQPSZ	\                      (OPTIONAL)                       \
	\                       SIX WORDS                       \
	!                                                       !
	!=======================================================!
	
	!                 -----  TOPS 20  -----                 !
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
	\              REQUEST OWNER SPECIFICATION              \
.EQOWN	\                                                       \
	\                      (10 WORDS)                       \
	!                                                       !
	!-------------------------------------------------------!
	!							!
						Page 195

	!							!
	!-------------------------------------------------------!
	!                                                       !
	\        CONNECTED DIRECTORY OF REQUEST CREATOR         \
.EQCON	\                                                       \
	\                      (12 WORDS)                       \
	!                                                       !
	!=======================================================!
.EQSIS	!               SPOOLED INPUT SET HANDLE                !
	!=======================================================!

						Page 196

         THIS IS THE JOB INFORMATION BLOCK STRUCTURE DESCRIPTION

                JOB INFORMATION BLOCK (.EQJBB) DESCRIPTION


        !=======================================================!
.EQJOB  !                     EXTERNAL JOB NAME                 !
        !-------------------------------------------------------!
.EQSEQ  !                      EXTERNAL VALUES                  !
        !-------------------------------------------------------!
.EQOID  !                      OWNER IDENTIFIER                 !
        !-------------------------------------------------------!
.EQRID  !                        REQUEST ID.                    !
        !-------------------------------------------------------!

                               TOPS-10 ONLY

        !-------------------------------------------------------!
.EQUSR  !                        USER'S NAME                    !
        !---------------                         ---------------!
        !                         Two Words                     !
        !-------------------------------------------------------!
                     Description of fields for .EQSEQ

	Symbol		Mask		Meaning

	EQ.SEQ		777700,,0	External Sequence Number
	EQ.ALR		1B17		Allocation request
	EQ.WAL		1B18		Batch request waiting for allocation
	EQ.WAM		1B19		Batch request waiting for mount
	EQ.ACT		3B21		Request Requires Account Validation

					   %VALID  0 	Account string is valid
					   %VALRQ  1	Account validation
							   has been required
					   %VALPD  2	Account validation has
							   been requested

	EQ.IAS		1B22		Request Contains In Invalid Acct String
	EQ.NOT		3B24		Job Requested /Notify

				   	  %NOTTY  1	Notify Via Users TTY
		   			  %NOTML  2	Notify User Via Mail
		 			  %NOTJB  3	Notify Users Job

 	EQ.JBC		1B25		Job Has Been Checkpointed
  	EQ.HBO		1B26		Job Held By Operator
	EQ.PRV		1B27		Request Creator Was Privileged
	EQ.SPL		1B28		This Request Contains Spooled Files
	EQ.RDE		1B29		This Request Doesn'T Exist (Clean-Up)
	EQ.PRI		77B35		External Priority

                     Description of fields in .EQSPC

	EQ.PRO		-1,,0		Request Protection
	EQ.NUM		0,,-1		Number Of Files In The Request
						Page 197

                  FILE PARAMETER AREA FOR OUTPUT QUEUES

	!=======================================================!
.FPLEN	! LENGTH OF FILE-PARAM AREA !				!
	!-------------------------------------------------------!
.FPINF	!FILE FMT !PAPR FMT!SPACING !    FLAGS    !   COPIES    !
	!-------------------------------------------------------!
.FPFST	!         STARTING INFORMATION (CUSP DEPENDENT)         !
	!-------------------------------------------------------!
.FPFR1	!                    /REPORT WORD 1                     !
	!-------------------------------------------------------!
.FPFR2	!                    /REPORT WORD 2                     !
	!=======================================================!

                   FILE PARAMETER AREA FOR INPUT QUEUE


	!=======================================================!
.FPLEN	! LENGTH OF FILE-PARAM AREA !				!
	!-------------------------------------------------------!
.FPINF	!RCRD FMT!                                ! RECORD LGTH !
	!-------------------------------------------------------!
.FPRCD	!                     RECORD COUNT                      !
	!=======================================================!

                     Description of fields for .FPLEN

	Symbol		Mask		Meaning

	FP.LEN		-1,,0		Size of the FP


                 Description of .FPINF for output queues


	FP.FFF		77B5		File Format

					  .FPFAS  1	Ascii
					  .FPFFO  2	Fortran
					  .FPFCO  3	Cobol
					  .FPFAI  4	Augmented Image
					  .FPFSA  5	Stream Ascii
					  .FPF11  6	Eleven
					  .FPFIM  7	Image (For Xfr Queue)
					  .FPF8B  10	8 Bit Ascii File

	FP.FPF		77B11		Paper Format (See The Next Page)
	FP.FSP		77B17		Spacing Code
	FP.DEL		1B18		On = Delete This File
	FP.FLG		1B19		This Is The Log File
	FP.NFH  	1B20		No File Headers
	FP.SPL		1B21		This Is A Spooled File
	FP.PCR		1B22		Spooled Card Reader File
	FP.REN		1B23		/DISPOSE:RENAME file
	FP.XXX		7B26		Extra Flag Bits
	FP.FCY		777B35		Copy Count
						Page 198

            Description of fields for .FPINF for input queues


	FP.RCF		77B5		Record Format
	FP.RCL		777B35		Record Length (For Fixed Format)

						Page 199

                   PAPER FORMATS FOR LPT QUEUE (/PRINT)


	Symbol		Value		Type of format

	%FPLAR		  1		Arrow Format
	%FPLAS		  2		Ascii Format
	%FPLOC		  3		Octal Format
	%FPLSU		  4		Suppress Format


                   PAPER FORMATS FOR PTP QUEUE (/TAPE)

	%FPTAS		  1		Ascii Format
	%FPTIM		  2		Image Format
	%FPTIB		  3		Image Binary Format
	%FPTBI		  4		Binary Format


                   PAPER FORMATS FOR CDP QUEUE (/PUNCH)

	%FPCAS		  1		Ascii Format
	%FPCBC		  2		026 (BCD) Format
	%FPCBI		  3		Binary Format
	%FPCIM		  5		Image Format


                   PAPER FORMAT FOR PLT QUEUE  (/PLOT)

	%FPPIM		  1		Image Format
	%FPPAS		  2		Ascii Format
	%FPPBI		  3		Binary Format

                VALUES FOR .EQLM1<EQ.OUT> (/OUTPUT FIELD)


	Symbol		Value		Meaning

	%EQONL		  1		No Log
	%EQOLG		  2		Log File Always
	%EQOLE		  3		Log File On Error Only

                VALUES FOR .EQLM1<EQ.UNI> (/UNIQUE FIELD)


	%EQUNO		  1		;Unique:No
	%EQUYE		  2		;Unique:Yes


                VALUES FOR .EQLM1<EQ.RST> (/RESTART FIELD)

	%EQRNO		  1		;Restart:No
	%EQRYE		  2		;Restart:Yes


						Page 200

	         VALUES FOR .EQLIM WORD 6 (BATCH ONLY)  (/BATLOG: FIELD)

	%BAPND		  1		Append Output Log
	%BSCDE		  2		Supersede Output Log
	%BSPOL		  3		Spool Output Log


                    VALUES FOR RECORD FORMAT (FP.RFM)

	%FPXFI		  1		Fixed Length Records
	%FPXVA		  2		Variable Length Records


                 VALUE FOR FILE RETREIVAL .EQLM1<EQ.UFT>

	%EQUFT		  1B0		Use First Tape Not Second If Lit


						Page 201

                     The ABORT Message -- Function 6

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
ABO.IT	!                  INTERNAL TASK NAME                   !
	!-------------------------------------------------------!
ABO.TY	!                      OBJECT TYPE                      !
	!-------------------------------------------------------!
ABO.UN	!                      UNIT NUMBER                      !
	!-------------------------------------------------------!
ABO.UN	!                         NODE                          !
	!-------------------------------------------------------!
ABO.CD	!                      REASON CODE                      !
	!-------------------------------------------------------!
ABO.ID	!          ID OF PERSON REQUESTING THE CANCEL           !
	!=======================================================!


                        Values defined for ABO.CD

	Symbol		Value		Meaning

	ABOUSR		  1		By User Request

						Page 202

                     The LIST Message -- Function 10

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
	!		   	FLAG WORD			!
	!-------------------------------------------------------!
	!		      ARGUMENT COUNT			!
	!=======================================================!

			ARGUMENT DATA BLOCK

	!-------------------------------------------------------!
	! LENGTH OF ARGUMENT BLOCK  !     TYPE OF ARGUMENT	!
	!-------------------------------------------------------!
	\							\
	\		   DATA FOR THE ARGUMENT		\
	\							\
	!=======================================================!

         THE FLAG WORD (.OFLAG) CAN HAVE THE FOLLOWING BITS LIT:

	Symbol		Bit		Meaning

	LS.FST		 1		You Want A Quick Queues Listing.
	LS.ALL		 2		You Want To See Everything !!!


                THE LIST QUEUES MESSAGE CONTAINS 2 BLOCKS.

	Symbol		Value		Meaning

	.LSQUE		  0		The Queues You Want To List.
	.LSUSR		  1		The User ID For The Queue Entrys
						You Want.

	.LSUSM	 	  2		The user ID mask (for .LSUSR)
	.LSJOB		  3		The job name you want to list
	.LSJBM		  4		The job name mask (for .LSJOB)
	.LSUNT		  5		The unit number you want to list
	.LSDND		  6		The destination node (where output
						goes)
	.LSPND		  7		The processing node (where batch
						jobs run)
						Page 203

        THE .LSQUE BLOCK AND ITS POSSIBLE VALUES ARE DEFINED BELOW.

	!=======================================================!
	!		2	!		.LSQUE		!
	!-------------------------------------------------------!
	!	THE QUEUE(S) YOU WANT TO LIST			!
	!=======================================================!

		
	Symbol		Bit		Meaning

	LIQBAT		 0		List The Batch Queue
	LIQLPT		 1		List The Printer Queue
	LIQCDP		 2		List The Card-Punch Queue
	LIQPTP		 3		List The Paper-Tape Punch Queue
	LIQPLT		 4		List The Plotter Queue
	LIQMNT		 6		List The Tape Mount Queue
	LIQRET		 7		List The Retrieval Queue
	LIQALC		 8		List The Jobs Allocation
	LIQOUT				List All Output Queues.
	LIQALL				List All The Queues.


	!=======================================================!
	!		2	!		.LSQUE		!
	!-------------------------------------------------------!
	!	THE QUEUE(S) YOU WANT TO LIST			!
	!=======================================================!

	;THE .LSUSR BLOCK IS DEFINED BELOW.

	!=======================================================!
	!		2	!		.LSUSR		!
	!-------------------------------------------------------!
	!	THE USER ID (PPN ON THE -10) OF THE		!
	!		QUEUE ENTRYS YOU WANT			!
	!=======================================================!
	THE .ORNOD BLOCK IS DEFINED BELOW

	!=======================================================!
	!		2	!		.ORNOD		!
	!-------------------------------------------------------!
	!	    SIXBIT NODE NAME or OCTAL NODE #		!
	!=======================================================!
						Page 204

                    The MODIFY Message -- Function 11

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
MOD.OT	!                      QUEUE NAME                       !
	!-------------------------------------------------------!
MOD.RQ	!                                                       !
	\            REQUEST DESCRIPTOR BLOCK (RDB)             \
	\                                                       \
	\              TO DESCRIBE MODIFY REQUEST               \
	!                                                       !
	!-------------------------------------------------------!
MOD.FG  !                                                       !

       
       The following block  is duplicated  for each  "group" to  be
       modified the length of the block is dependent on the  group.
       If an element is not to be changed, specify -1 as the value.
       
       Elements  are  positional  within  a  group  and  no  ending
       indication  is  necessary  as  the  various  length   fields
       determine the next or end of the message.
       
       For descriptions  of the  group elements  and positions  the
       reader is directed to:

       		QSRQUE - MAJMOD for major request group 0
       		QSRSCH - Modifiers for queue dependent group 1

	!=======================================================!
MOD.GN	!       GROUP NUMBER        !        WORD COUNT         !
	!=======================================================!

                    Description of fields in MOD.GN

	Symbol		Mask		Meaning
	
	MODGPN		-1,,0		The Group Number
					
					  .GPMAJ  0	Major Parameters
							(After, Priority, etc)
					  .GPQUE  1	Queue Dependent
							(Forms, Time Limit etc)

	MODGLN		0,,-1		The Number Of Elements (Including 
					This Word)

             IF MODIFYING /DEPENDENCY COUNT FOR INPUT QUEUES
                          3 FORMS ARE RECOGNIZED



	.MODAB		 0		New Value is Absolute Change
	.MODPL		 1		New Value Is Additive
	.MODMI		 2		New Value Is Subtractive
						Page 205

                     The KILL Message -- Function 12

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
KIL.OT	!                      QUEUE NAME                       !
	!-------------------------------------------------------!
KIL.RQ	!                                                       !
	\            REQUEST DESCRIPTOR BLOCK (RDB)             \
	\                                                       \
	\               TO DESCRIBE KILL REQUEST                \
	!                                                       !
	!-------------------------------------------------------!

						Page 206

                         THE LIST ANSWER MESSAGE.

            THE LIST ANSWER MESSAGE IS CONSTRUCTED AS FOLLOWS:
      SEE DESCRIPTION OF ORION MESSAGES FOR MORE COMPLETE DISCRIPTIONS



	!=======================================================!
	\							\
	\		THE MESSAGE HEADER			\
	\							\
	!=======================================================!
	!		   FLAG WORD				!
	!-------------------------------------------------------!
	!		ARGUMENT COUNT				!
	!=======================================================!
	! HEADER LENGTH		!  HEADER BLOCK TYPE (.WTTYP)	!
	!-------------------------------------------------------!
	\							\
	\		THE MESSAGE HEADER			\
	\							\
	!-------------------------------------------------------!
	! ANSWER LENGTH		!  ANSWER BLOCK TYPE (.WTTXT)	!
	!-------------------------------------------------------!
	\							\
	\	THE QUEUES LISTING IN ASCIZ			\
	\							\
	!=======================================================!


	  Note:  The FLAG word can have the WT.MOR (defined in ORNMAC)
		 set which means that more display pages are comming.

						Page 207

           The REQUEST FOR CHECKPOINT Message  --  Function 15

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
RCK.IT	!                 INTERNAL TASK NUMBER                  !
	!-------------------------------------------------------!
RCK.TY	!                      OBJECT TYPE                      !
	!-------------------------------------------------------!
RCK.UN	!                      UNIT NUMBER                      !
	!-------------------------------------------------------!
RCK.NO	!                         NODE                          !
	!=======================================================!

						Page 208

                    The DEFER Message  --  Function 16

	!=======================================================!
	/                                                       /
	/                  THE MESSAGE HEADER                   /
	/                                                       /
	!=======================================================!
DFR.OT	!         QUEUE NAME FOR THE REQUEST (0 IF ALL)         !
	!-------------------------------------------------------!
DFR.JB	!    FLAGS     !  FUNCTION   !        JOB NUMBER        !
	!=======================================================!


                     Description of fields for DFR.JB

	Symbol		Mask		Meaning

	DF.FNC		777B17		The Function Requested

					  .DFREL  0	Release All Deferred
							Files
					  .DFKIL  1	Kill All Deferred Files

	DF.JOB		0,,-1		The Job Number

						Page 209

                       Event Counters

       QUASAR maintains a set of event counters for various  events
       that might be of interest.  These counters are primarily for
       the use of software development people to help keep a handle
       on what is really happening inside of quasar.

       Two messages exist to handle these counters:

	COUNT		Function 20	Sent to Request Current Counts
	CNTANSWER	Function 21	Sent as Response To Count Message

                   A List Of The Event Counters follows


	Symbol		Description

	$$NOW		CURRENT TIME OF DAY
	$$STAR		QUASAR START TIME
	$$QJOB		QUASARS JOB NUMBER
	$$IPCI		TOTAL NUMBER OF IPCF INTERRUPTS RECEIVED
	$$RIPC		IPCF MESSAGES RECEIVED
	$$SIPC		IPCF MESSAGES SENT
	$$IPCF		IPCF SEND FAILURES
	$$IPCU		UNRECOVERABLE IPCF SEND FAILURES
	$$MREL		RELEASE MESSAGES RECEIVED
	$$MCHK		CHECKPOINT MESSAGES RECEIVED
	$$MREQ		REQUEUE MESSAGES RECEIVED
	$$MNXT		NEXTJOB MESSAGES SENT
	$$MABO		ABORT MESSAGES SENT
	$$MLST		LIST MESSAGES RECEIVED
	$$NLAP		LISTANSWER PAGES SENT
	$$SCRE		SUCCESSFUL CREATES DONE
	$$MMOD		MODIFY MESSAGES RECEIVED
	$$MKIL		KILL MESSAGES RECEIVED
	$$MDEF		DEFER MESSAGES RECEIVED
	$$ISPL		IMMEDIATE SPOOL MESSAGES RECEIVED)
	$$DSPL		DEFFERED SPOOL MESSAGES RECEIVED
	$$MCAN		COUNTANSWER MESSAGES SENT
	$$SLCD		SCHEDULER LOOP COUNTDOWNS
	$$DEAD		MDA DEADLOCK AVOIDANCE CALLS
	$$DFAL		MDA DEADLOCK AVOIDANCE FAILURES
	$$VSWM		VOLUME SWITCH TAPE MOUNTS
	$$TAPM		TAPE MOUNTS
	$$STRM		PHYSICAL STRUCTURE MOUNTS
	$$USTM		USER MOUNT STRUCTURE MOUNT
	$$GENM		GENERIC MOUNT
	$$TINP		TERMINATION BATCH REQUESTS
	$$TOUT		TERMINATION PRINT REQUESTS
	$$TCNI		TERMINATION CONSOLE INPUT
	$$TCNO		TERMINATION CONSOLE OUTPUT
	$$EINP		EMULATION BATCH REQUESTS
	$$EOUT		EMULATION PRINT REQUESTS
	$$ECNI		EMULATION CONSOLE INPUT
	$$ECNO		EMULATION CONSOLE OUTPUT

						Page 210

                    The COUNT Message  --  Function 20

       No arguments are required for the Count Message


						Page 211

                 The COUNTANSWER Message  --  Function 21


       An argument block with one word for each event counter is
       returned
						Page 212

             The SETUP/SHUTDOWN Message  --  Function 22

The SETUP message is sent to cause a component to service an object
for which we have a job..  The SHUTDOWN message is sent to cause a
component to give up control of a object.


	!=======================================================!
	\                                                       \
	\                  The Message Header                   \
	\                                                       \
	!=======================================================!
	!                         Flags                         !
	!-------------------------------------------------------!
	!               Type of OBJect to set up                !
	!-------------------------------------------------------!
	!            Unit number of OBJect to set up            !
	!-------------------------------------------------------!
	!               Node to set up OBJect at                !
	!-------------------------------------------------------!
	!	 Port Number	!	Line Number		!
	!-------------------------------------------------------!
	!		Network Status Bits			!
	!-------------------------------------------------------!
	!		Port/Line Handle			!
	!=======================================================!

                     Description of flags for SUP.FL

	Symbol		Bit		Meaning

	SUFSHT		 0		Shutdown Instead of Setup
	SPLTAP		 1		Bit For Printer Spooler (Spool To Tape)
						Page 213

              The RESPONSE-TO-SETUP Message  --  Function 23

       The RESPONSE-TO-SETUP message is sent  to QUASAR by a  known
       component after the component  receives a SETUP message  for
       an object.

	!=======================================================!
	\                                                       \
	\                  The Message Header                   \
	\                                                       \
	!=======================================================!
RSU.TY	!                    The OBJect Type                    !
	!-------------------------------------------------------!
RSU.UN	!                The OBJect Unit Number                 !
	!-------------------------------------------------------!
RSU.NO	!         The NODE at which the OBJect Resides          !
	!-------------------------------------------------------!
RSU.CO	!                   The RESPONSE Code                   !
	!-------------------------------------------------------!
RSU.CD	!                    RESPONSE REASON                    !
	!-------------------------------------------------------!
RSU.DA	!              The DEC Device Attributes                !
	!-------------------------------------------------------!
	!                  Prototype Node Name                  !
	!=======================================================!
                     Description of values for RSU.CO


	Symbol		Value		Meaning

	%RSUOK		  0		Setup Ok
	%RSUNA		  1		Object Not Available (Try Again Later)
	%RSUDE		  2		Object Doesnt Exist (Dont Try Again)
	%RSUNC		  3		Object Port/Line Not Conditioned
						Page 214

                The HOLD/RELEASE Message  --  Function 25

	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
HBO.OT	!                   THE OBJECT QUEUE                    !
	!-------------------------------------------------------!
HBO.FL	!                         FLAGS                         !
	!-------------------------------------------------------!
HBO.RQ	\                                                       \
	\               REQUEST DESCRIPTOR BLOCK                \
	\                                                       \
	!=======================================================!



                     Description of flag for HBO.FL

	Symbol		Bit		Meaning

	HB.FRL		 0		Release Flag

						Page 215

              The SPOOL Message - Function 26 (sent by IPCC)

                  TOPS-10 ONLY (TOPS-20 FORMAT FOLLOWS)

	!=======================================================!
SPL.HD	!          LENGTH           !    FUNCTION 26 - SPOOL    !
	!-------------------------------------------------------!
SPL.JB	!        JOB NUMBER         !  JBTLOC(J)  !    FLAGS    !
	!-------------------------------------------------------!
SPL.US	!                      USERS NAME                       !
	!                    2 SIXBIT WORDS                     !
	!-------------------------------------------------------!
SPL.DV	!              DEVICE INIT'ED BY THE USER               !
	!-------------------------------------------------------!
SPL.ST	!             STRUCTURE CONTAINING THE FILE             !
	!-------------------------------------------------------!
SPL.FN	!              MONITOR GENERATED FILE NAME              !
	!-------------------------------------------------------!
SPL.EN	!                   ENTERED FILE NAME                   !
	!-------------------------------------------------------!
SPL.FS	!                       FILE SIZE                       !
	!-------------------------------------------------------!
SPL.EX	!      FILE EXTENSION       !                           !
	!-------------------------------------------------------!
SPL.CP	!                   NUMBER OF COPIES                    !
	!-------------------------------------------------------!
SPL.FM	!                      FORMS NAME                       !
	!-------------------------------------------------------!
SPL.LM	!                     OUTPUT LIMIT                      !
	!-------------------------------------------------------!
SPL.SF	!SFL!                  FLAGS                  !DEV TYPE !
	!-------------------------------------------------------!
SPL.DA	!                   DEVICE ATTRIBUTES                   !
	!-------------------------------------------------------!
SPL.ND	!                         NODE                          !
	!-------------------------------------------------------!
SPL.AF	!                    AFTER PARAMETER                    !
	!-------------------------------------------------------!
SPL.AC	!                 ASCIZ ACCOUNT STRING                  !
	!=======================================================!
                     Description of fields for SPL.JB

	Symbol		Mask		Meaning

	SP.STR		177000,,0	Batch stream number
	SP.JOB		777,,0		The Job Number Closing The Spooled File
	SP.LOC		777B26		Current Remote Station (.LOCATE n)
	SP.BAT		1B27		This Is For A Batch Job
	SP.DFR		1B28		Deffered Mode Spooling

                     Description of field for SPL.EX

	SP.EXT		-1,,0		Extention
						Page 216

                     Description of fields for SPL.SF


	SP.FLG		3B2		Spooling Flag Location

					  .SPDFD  1	Defered Spooling
					  .SPDFI  2 	Immediate Spooling

	SP.TYP		77		Type of Device
						Page 217

                              TOPS-20 FORMAT


	!=======================================================!
SPL.HD	!                  FUNCTION 26 - SPOOL                  !
	!-------------------------------------------------------!
SPL.JB	!      # HEADER WORDS       !        JOB NUMBER         !
	!-------------------------------------------------------!
SPL.FL	!           FLAGS           !      STATION NUMBER       !
	!-------------------------------------------------------!
SPL.PG	!                     PROGRAM NAME                      !
	!-------------------------------------------------------!
SPL.BV	!         BYTE SIZE         !  NUMBER OF PAGES IN FILE  !
	!-------------------------------------------------------!
SPL.EF	!          BYTE COUNT WHICH WOULD ADDRESS EOF           !
	!-------------------------------------------------------!
SPL.FI	!                                                       !
	/               FILESPEC FOR SPOOLED FILE               /
	!                                                       !
	!=======================================================!


                     Description of fields for SPL.JB


	Symbol		Mask		Meaning

	SP.NHW		-1,,0		Number Of Header Words
	SP.JOB		0,,-1		Job Number

                     Description of fields for SPL.FL

	SP.BAT		1B0		Job Make Request Is A Batch Job
	SP.DFR		1B1		Request Is Defered
	SP.LOC		0,,-1		Station Number

                     Description of field for SPL.BV

	SP.SIZ		0,,-1		Number Of Pages In File

						Page 218

             The LOGOUT Message - Function 27 (sent by IPCC)

                      TOPS-10 ONLY (TOPS-20 FOLLOWS)

	!=======================================================!
LGO.HD	!          LENGTH           !   FUNCTION 27 - LOGOUT    !
	!-------------------------------------------------------!
LGO.JB	!        JOB NUMBER         !  JBTLOC(J)  !    FLAGS    !
	!=======================================================!


                     Description of fields for LGO.JB

	Symbol		Mask		Meaning

	LG.STR		177000,,0	Batch stream number
	LG.JOB		777,,0		The Job Number Of The User Logging Out
	LG.LOC		777B26		The Current Remote Station Number
					Of This Job
	LG.BAT		1B27		This Is A Batch Job
	LG.DFR		1B28		Deferred Mode Spooling
	LG.BSS		1B29		Batch stream number set
						Page 219

                               TOPS-20 ONLY


	!=======================================================!
LGO.HD	!                 FUNCTION 27 - LOGOUT                  !
	!-------------------------------------------------------!
LGO.JB	!    NO. OF HEADER WORDS    !        JOB NUMBER         !
	!-------------------------------------------------------!
LGO.FL	!           FLAGS           !      STATION NUMBER       !
	!=======================================================!

                     Description of fields for LGO.JB


	Symbol		Mask		Meaning

	LG.NHW		-1,,0		Number Of Header Words
	LG.JOB		0,,-1		Job Number

              Description of fields for LGO.FL

	LG.BAT		1B0		This Was A Batch Job
	LG.DFR		1B1		Deferred Mode Spooling
	LG.LOC		0,,-1		Jobs Station Number


						Page 220

                   MONITOR LOGIN MESSAGE PROCESSOR


	!=======================================================!
	\                                                       \
	\                  THE MESSAGE HEADER                   \
	\                                                       \
	!=======================================================!
LGN.JB	!               JOB DATA (SAME AS LGO.JB)               !
	!-------------------------------------------------------!
LGN.US	!                    SIXBIT USER NAME                   !
	!-------------------------------------------------------!
LGN.PV	!                    USER PRIV WORD                     !
	!-------------------------------------------------------!
LGN.TT	!            USER TTY NUMBER (SIXBIT/TTYxxx/)           !
	!=======================================================!
						Page 221



              TAPE ONLINE MESSAGE Function 31 (sent by IPCC)


                               TOPS-10 ONLY

	!=======================================================!
.TONHD	!	Length		!	Function code		!
	!-------------------------------------------------------!
.TONDV	!		Device Name (Sixbit)			!
	!-------------------------------------------------------!
.TONST	!					!Device Type	!
	!=======================================================!


                     Description of fields for .TONST

	Symbol		Mask		Meaning

	TON.TY		77		Device Type


						Page 222

              THE DEVICE STATUS UPDATE MESSAGE - FUNCTION 31


	!======================================================	!
	\							\
	\		THE MESSAGE HEADER			\
	\							\
	!=======================================================!
STU.RB	\							\
	\		THE REQUESTED OBJECT BLOCK		\
	\							\
	!=======================================================!
STU.CD	!		THE DEVICE STATUS CODE			!
	!=======================================================!


						Page 223

            TAPE DEASSIGN/DISMOUNT MESSAGE (IPCC FUNCTION 34)



	!=======================================================!
.TDHDR	!	3		!	     34			!
	!-------------------------------------------------------!
.TDDEV	!	        SIXBIT DEVICE NAME			!
	!-------------------------------------------------------!
.TDDVT	!		   DEVICE TYPE				!
	!-------------------------------------------------------!
.TDJBN	!		     JOB NUMBER				!
	!=======================================================!

						Page 224

           Disk unit ATTACH/DETACH Message (IPCC FCN 42/43)

	!=======================================================!
.ATTHD	!	4		!	     42/43		!
	!-------------------------------------------------------!
.ATTUN	!	        SIXBIT UNIT NAME			!
	!-------------------------------------------------------!
.ATTPR	!		   PRIMARY PORT				!
	!-------------------------------------------------------!
.ATTSC	!		     SECONDARY PORT			!
	!=======================================================!
						Page 225

             Disk unit XCHANGE Message (IPCC function 44)

	!=======================================================!
.XCHHD	!	3		!	  .IPCXC (44)		!
	!-------------------------------------------------------!
.XCHU1	!		First unit name in SIXBIT		!
	!-------------------------------------------------------!
.XCHU2	!		Second unit name in SIXBIT		!
	!=======================================================!

						Page 226

             Structure removal message (IPCC function 45)


	!=======================================================!
.REMHD	!	2		!	  .IPCRM (45)		!
	!-------------------------------------------------------!
.REMSN	!		Structure name in SIXBIT		!
	!=======================================================!


						Page 227

          Magtape unit accessible message (IPCC function 46)


	!=======================================================!
.MTAHD	!	2		!	  .IPCMT (45)		!
	!-------------------------------------------------------!
.MTAUN	!	     Magtape unit name in SIXBIT		!
	!=======================================================!
						Page 228

            NODE-WENT-AWAY NOTIFICATION MESSAGE (FUNCTION 36)



	!=======================================================!
	!							!
	!		MESSAGE HEADER				!
	!							!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!
	!		ARGUMENT COUNT				!
	!-------------------------------------------------------!


       The only block defined for this message is .OROBJ it defines
       the node which went offline.
       
       The .OFLAG word will contain a PORT,,LINE # if the node  was
       an IBM remote. It will be zero otherwise.
       
       ALSO: if the %ONLINE bit is lit in .MSFLG then this MSG is a
       node-online message.

       Description of flag defined for .MSFLG for this message type

	Symbol		Bit		Meaning

	%ONLINE		 3		Make This A Node Online Message


						Page 229

            .QOCQE - CREATE QUEUE ENTRY MESSAGE (FUNCTION 37)

	!=======================================================!
	!							!
	!		MESSAGE HEADER				!
	!							!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!
	!		ARGUMENT COUNT				!
	!-------------------------------------------------------!

       NOTE::: The  queue  type  block (.QCQUE)  must  preceed  the
       definitions of the queue dependant blocks.
       
       The message block types are:

	Symbol		Value		Description

	.QCFIL		10		FILE SPEC BLOCK

       This block is the Standard Galaxy FD with .QCFIL put in  the
       right half of the .FDLEN word.

	.QCCOP		11		NUMBER OF COPIES BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCCOP			!
	!-------------------------------------------------------!
	!	THE NUMBER OF COPIES OF THE FILE TO		!
	!		   BE OUTPUT				!
	!-------------------------------------------------------!

	.QCFRM		12		FORMS TYPE BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCFRM			!
	!-------------------------------------------------------!
	!	THE FORMS TYPE YOU WANT (SIXBIT)		!
	!-------------------------------------------------------!

	.QCPTP		13		FILE FORMAT BLOCK (ASCII, FORTRAN, ETC)

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCPTP			!
	!-------------------------------------------------------!
	!  THE FILE FORMAT TYPE (SEE .FPINF - FP.FFF)		!
	!-------------------------------------------------------!

	.QCODP==14		;/DISP: OUTPUT DISPOSITION BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCODP			!
	!-------------------------------------------------------!
	!  OUTPUT FILE DISPOSITION %PRESERVE or %DELETE		!
	!          or %RENAME (TOPS-10 only)                    !
	!-------------------------------------------------------!
						Page 230

                        Disposition values:

			%PRESERVE	0
			%DELETE		1
			%RENAME		2


	.QCUNT		15		UNIT TYPE (/UNIT:, /LOWER, /UPPER)

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCUNT			!
	!-------------------------------------------------------!
	!     DEVICE ATTRUBUTES ( %LOWER,%UPPER,%GENRC,%PHYCL)	!
	!-------------------------------------------------------!

	.QCAFT		16		/AFTER BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCAFT			!
	!-------------------------------------------------------!
	!	/AFTER TIME (IN UDT FORMAT)			!
	!-------------------------------------------------------!

	.QCLIM		17		LIMIT BLOCK (/TIME:, /PAGES:, ETC)

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCLIM			!
	!-------------------------------------------------------!
	!   LIMIT BLOCK (# OF PAGES,ETC or TIME IN SECS)	!
	!-------------------------------------------------------!

	.QCUNI		20		/UNIQUE BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCUNI			!
	!-------------------------------------------------------!
	!	/UNIQUE: VALUE (%EQUNO or %EQUYE)		!
	!-------------------------------------------------------!

	.QCRES		21		/RESTART BLOCK

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCRES			!
	!-------------------------------------------------------!
	!	/RESTART: VALUE (%EQRNO or %EQRNY)		!
	!-------------------------------------------------------!

	.QCLOG		22		/OUTPUT: (LOG,NOLOG,ERROR)

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCLOG			!
	!-------------------------------------------------------!
	!   /OUTPUT: VALUE (%EQONL or %EQOLG or %EQOLE)		!
	!-------------------------------------------------------!

						Page 231

	.QCACT		23		/ACCOUNT: ACCOUNT STRING BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH 	!	.QCACT			!
	!-------------------------------------------------------!
	\							\
	\	USERS ACCOUNT STRING IN ASCIZ			\
	\							\
	!-------------------------------------------------------!

	.QCQUE		24		QUEUE TYPE BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCQUE			!
	!-------------------------------------------------------!
	!   QUEUE TYPE (SEE GLXMAC OBJ.TY FIELD)		!
	!-------------------------------------------------------!

	.QCNOD		25		/NODE: DESTINATION NODE BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCNOD			!
	!-------------------------------------------------------!
	!   DESTINATION NODE NUMBER OR SIXBIT NODE NAME		!
	!-------------------------------------------------------!

	.QCNAM 		26		USERS NAME BLOCK
	!-------------------------------------------------------!
	!  BLOCK LENGTH 	   !	.QCNAM			!
	!-------------------------------------------------------!
	\							\
	\   USERS NAME (ASCIZ ON -20, SIXBIT ON THE -10)	\
	\							\
	!-------------------------------------------------------!

	.QCOID		27		USERS NUMBER BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCOID			!
	!-------------------------------------------------------!
	! USERS ID (36 BIT USER ID ON -20, PPN ON -10)		!
	!-------------------------------------------------------!

	.QCNOT		30		/NOTIFY BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCNOT			!
	!-------------------------------------------------------!
	!	/NOTIFY VALUE (%NOTTY, %NOTML, %NOTJB)		!
	!-------------------------------------------------------!

	.QCBLT		31		/BATLOG: BLOCK
	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCBLT			!
	!-------------------------------------------------------!
	!  /BATLOG VALUE (%BAPND or %BSCDE or %BSPOL)		!
	!-------------------------------------------------------!
						Page 232

	.QCJBN		32		JOB NAME

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCJBN			!
	!-------------------------------------------------------!
	!		SIXBIT JOB NAME				!
	!-------------------------------------------------------!

	.QCCDI		33		CONNECTED DIRECTORY BLOCK (-20 ONLY)

	!-------------------------------------------------------!
	!   BLOCK LENGTH (2)	!	.QCCDI			!
	!-------------------------------------------------------!
	!	36 BIT CONNECTED DIRECTORY NUMBER		!
	!-------------------------------------------------------!

	.QCNTE		34		/NOTE: BLOCK

	!-------------------------------------------------------!
	!  BLOCK LENGTH 1-2	!	.QCNTE			!
	!-------------------------------------------------------!
	\							\
	\		1 TO 12 SIXBIT CHARACTERS		\
	\							\
	!-------------------------------------------------------!

	.QCBGN		35		/BEGIN: BLOCK

	!-------------------------------------------------------!
	!  BLOCK LENGTH (2)	!	.QCBGN			!
	!-------------------------------------------------------!
	!	BEGINNING PAGE NUMBER FOR STARTING OUTPUT	!
	!-------------------------------------------------------!


	.QCPRI		36		/PRIORITY: BLOCK

	!-------------------------------------------------------!
	!  BLOCK LENGTH (2)	!	.QCPRI			!
	!-------------------------------------------------------!
	!		PRIORITY (1 TO 20 OR 1 TO 77)		!
	!-------------------------------------------------------!

	.QCFRR==37		;FREE RUNNING DEVICE LIMIT BLOCK (IE DBMS)

	!-------------------------------------------------------!
	!  LENGTH 1 - EQLMSZ	!	.QCFRR			!
	!-------------------------------------------------------!
	\							\
	\		1 TO EQLMSZ LIMIT WORDS			\
	\							\
	!-------------------------------------------------------!
						Page 233

                 RECOGNIZE MESSAGE (FUNCTION .QOREC - 40)

                               TOPS-10 ONLY

	!=======================================================!
	/							/
	/		MESSAGE HEADER				/
	/							/
	!-------------------------------------------------------!
	!		BLOCK COUNT (1)				!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!


       The only block defined is  .RECDV which contains the  sixbit
       device name.

	Symbol		Value		Block Description

	.RECDV		3		Define The Device Name Block Type

	!-------------------------------------------------------!
	!	2		!	.RECDV			!
	!-------------------------------------------------------!
.RECDN	!		SIXBIT DEVICE NAME			!
	!=======================================================!


						Page 234

              Tape status message (.QOTST functions 41)
                             TOPS-10 only

	!=======================================================!
	/	EXPANDED GALAXY MESSAGE HEADER			/
	!-------------------------------------------------------!

	There are 3 blocks defined for this message: .TLSTA & .DSSTA
	  and .STSTS.


	.STSTS		10		UNIT STATUS BLOCK

	!-------------------------------------------------------!
	!	3		!	.STSTS			!
	!-------------------------------------------------------!
.STUNT	!		SIXBIT DEVICE NAME			!
	!-------------------------------------------------------!
.STFLG	!		DEVICE STATUS BITS			!
	!-------------------------------------------------------!

                        Description of .STFLG

	Symbol		Mask		Meaning

	ST.OFL		1B0		Unit is off-line
	ST.LOK		1B1		Unit is write-locked
	TS.DEN		77B8		Actual density of tape (see UUOSYM)
	TS.LAB		77B14		Table label type (see UUOSYM)

	.TLSTA		12		TAPE STATUS BLOCK TYPE

	!-------------------------------------------------------!
	!	2		!	.TLSTA			!
	!-------------------------------------------------------!
.TLVOL	!                 SIXBIT VOLUME ID                      !
	!=======================================================!


	.DSSTA		14		DISK STATUS BLOCK TYPE

	!-------------------------------------------------------!
	!	6		!	.DSSTA			!
	!-------------------------------------------------------!
.DSHID	!		SIXBIT HOME BLOCK ID			!
	!-------------------------------------------------------!
.DSNXV	!		SIXBIT NEXT VOL ID			!
	!-------------------------------------------------------!
.DSLUN	!		SIXBIT PREVIOUS VOL ID			!
	!-------------------------------------------------------!
.DSSNM	!		SIXBIT STRUCTURE NAME			!
	!-------------------------------------------------------!
.DSPPN	!		     OWNER PPN      			!
	!=======================================================!
						Page 235

             TAPE DRIVE UNLOAD MESSAGE (FUNCTION .QOUNL - 42)

          ALSO TAPE DRIVE REWIND MESSAGE (FUNCTION .QOREW - 47)


	!=======================================================!
	/							/
	/		MESSAGE HEADER				/
	/							/
	!-------------------------------------------------------!
	!		BLOCK COUNT (1)				!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!


       The only block defined is  .RECDV which contains the  sixbit
       device name.

	!-------------------------------------------------------!
	!	2		!	.RECDV			!
	!-------------------------------------------------------!
	!		SIXBIT DEVICE NAME			!
	!=======================================================!


          Volume Mounted message to tape labeller (.QOVMN = 43)


	!=======================================================!
	/							/
	/		MESSAGE HEADER				/
	/							/
	!-------------------------------------------------------!
	!		BLOCK COUNT (2)				!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!

       one block is .RECDV which contains the sixbit device name

	!-------------------------------------------------------!
	!	2		!	.RECDV			!
	!-------------------------------------------------------!
	!		SIXBIT DEVICE NAME			!
	!=======================================================!
						Page 236

       There is one volume (set) block attached to the message this
       block describe the  initial volume being  given to the  user
       and the first volume in the volume set.

	.VOLMN		4		Block Type For The Volume Block

	!-------------------------------------------------------!
.VMNIV	!         SIXBIT VOLUME ID FOR MOUNTED VOLUME		!
	!-------------------------------------------------------!
.VMNFV	!        SIXBIT VOLUME ID FOR FIRST VOLUME IN SET	!
	!-------------------------------------------------------!
.VMNIN	!LABEL TYPE!WLOCK!JOB #!				!
	!-------------------------------------------------------!

                 Description of fields defined for .VMNIN

	Symbol		Mask		Meaning

	VI.LTY		77B5		Label Type
	VI.WLK		1B6		Write Locked If 1
	VI.JOB		777B17		Job Number Of Requestor

						Page 237

          VOLUME SWITCH REQUEST FROM TAPE LABELLER (.QOVSR = 45)

                               TOPS-10 ONLY

	!=======================================================!
	/							/
	/		MESSAGE HEADER				/
	/							/
	!-------------------------------------------------------!
	!		BLOCK COUNT (2)				!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!

       One block is a .RECDV block which has the sixbit device name
       of the drive needing a new volume.

	!-------------------------------------------------------!
	!	2		!	.RECDV			!
	!-------------------------------------------------------!
	!		SIXBIT DEVICE NAME			!
	!=======================================================!

       The other block describes which volume of the set is  needed
       by the user on that drive.

	!-------------------------------------------------------!
	!	2		!	.RLVOL			!
	!-------------------------------------------------------!
.RLVCD	!WRT!		RELATIVE VOLUME CODE			!
	!=======================================================!

	.RLVOL		4		Relative Volume


                   Description of fields for .RLVCD


	Symbol		Mask		Meaning

	%VWRT		1B0		Want to Use 'NEXT' Volume For Writing
	RLV.CD		 7		Where The Code Goes
					  %RLNXT  1	Get the Next Volume
					  %RLPRV  2	Get the Previous Volume
	  				  %RLFIR  3	Get First Volume Of Set
						Page 238

      VOLUME SWITCH DIRECTIVE FROM MDA TO TAPE LABELER (.QOVSD - 46)

                             TOPS-10 ONLY

       This message is  sent by  MDA in response  to a  volume
       switch request  message  from the  tape  labeller.   It
       directs the labeller to continue the labelling  process
       on the same drive or on another drive which the OPR/MDA
       has chosen

	!=======================================================!
	/							/
	/		MESSAGE HEADER				/
	/							/
	!-------------------------------------------------------!
	!		BLOCK COUNT (1)				!
	!-------------------------------------------------------!
	!		   FLAG WORD				!
	!-------------------------------------------------------!


               Description of flags for the Flag Word


	Symbol		Bit		Meaning

	%VEOF		 0		There are no more volumes in the set
					give EOT to the requestor
	%VABT		 1		OPR has aborted the volume
					switch request

       There are two blocks passed on this message One is  the
       Volume set  directive  block which  describes  the  two
       drives being swapped,  and the other  is a Volume  info
       block describing the new volume in use, its label type,
       and its write enable/lock status


	.VSDBL		12		Volume Set Directive Block

	!-------------------------------------------------------!
	!	4		!	.VSDBL			!
	!-------------------------------------------------------!
.VSDID	!	INITIAL DRIVE NAME IN SIXBIT			!
	!-------------------------------------------------------!
.VSDCD	!	CURRENT DRIVE NAME IN SIXBIT			!
	!=======================================================!
						Page 239

           REQUEST FOR SYSTEM CATALOG INFORMATION (.QORCT)

This message is sent to the Tape Labeler Requesting information from
the System Catalog (STRLST for now).

	!=======================================================!
	\							\
	\		Standard Galaxy Header			\
	\							\
	!-------------------------------------------------------!


	There is one block defined for this message, .RCTVS

	.RCTVS		12		Asciz Volume Set Name

	!-------------------------------------------------------!
	!	Length		!	.RCTVS			!
	!-------------------------------------------------------!
	\							\
.RCTAV	\		Volume Set Name in Asciz		\
	\							\
	!-------------------------------------------------------!

						Page 240

                 CATALOG INFORMATION MESSAGE (.QOCAT)

This message is sent from the system catalog to QUASAR in response to
a .QORCT message.

	!=======================================================!
	\							\
	\		Standard Galaxy Header			\
	\							\
	!-------------------------------------------------------!

This message consists of at least two argument blocks.  The first is
the .RCTVS block, which tells the volume set being "looked up" in the
catalog.

	!-------------------------------------------------------!
	!	Length		!	.RCTVS			!
	!-------------------------------------------------------!
	\							\
.RCTAV	\		Volume Set Name in Asciz		\
	\							\
	!-------------------------------------------------------!

The second is the .CVSFS block, which describes the information in the
catalog about the volume set asked for.  This second block is the last
block if the catalog contains no information about the volume set (in
this case, the error bit is on)

	!-------------------------------------------------------!
	!	Length		!	.CVSFS			!
	!-------------------------------------------------------!
.CVSNV	!			!	# of volumes		!
	!-------------------------------------------------------!
.CVSOW	!		Owner's PPN				!
	!-------------------------------------------------------!
.CVSON	\		Owner's name 				\
	\			(SIXBIT)			\
	!-------------------------------------------------------!

                        Description of .CVSNV

	Symbol		Mask			Meaning

	.CVSNV		0,,-1			Number of volumes

These blocks are generally followed by (n) .CVLPR blocks, one for each
volume in the volume set

	!-------------------------------------------------------!
	!	Length		!	.CVLPR			!
	!-------------------------------------------------------!
.CVLID	!		Volume ID (SIXBIT)			!
	!-------------------------------------------------------!
.CVLST	!					    !Kon!Uni!Cls!
	!-------------------------------------------------------!

						Page 241

                        Description of .CVLST
	
	Symbol		Mask		Meaning			
	
	CVL.KT		7000		Kontroller type
	CVL.UT		70		Unit type
	CVL.CL		7		Class
						Page 242

                   INTERNAL CATALOG CACHE STRUCTURE

	!-------------------------------------------------------!
.CTVSN	!		SIXBIT VOL SET NAME			!
	!-------------------------------------------------------!
.CTOID	!		   OWNER ID				!
	!-------------------------------------------------------!
.CTCNT	!		  VOLUME COUNT				!
	!-------------------------------------------------------!
.CTVIS	!		SIXBIT VOL NAME # 1			!
	!-------------------------------------------------------!
.CTRSN	!		VOLUME RESOURCE NUMBER			!
	!-------------------------------------------------------!
				.
				.
				.
	!-------------------------------------------------------!
	!		SIXBIT VOL NAME # n			!
	!-------------------------------------------------------!
	!		VOLUME RESOURCE NUMBER			!
	!-------------------------------------------------------!

						Page 243

                  BUILD A STRUCTURE MESSAGE (.QOBLD)

This message is sent to the Tape Labeler to define what volumes
comprise a structure

	!=======================================================!
	\							\
	\		Standard Galaxy Header			\
	\							\
	!-------------------------------------------------------!

There is one flag in .OFLAG, for the /NOCHECK switch This flag is
defined in ORNMAC, and passed in to QUASAR and out to the tape labeler
if the OPR does not want to touch the structure to dismount it.
.DMNCK is the flag bit

There are 2 blocks defined for this message, .BLDSN and .BLDUN


	.BLDSN		5		STRUCTURE NAME BLOCK

	!-------------------------------------------------------!
	!	3		!	.BLDSN			!
	!-------------------------------------------------------!
.BLDNM	!		SIXBIT STRUCTURE NAME			!
	!-------------------------------------------------------!
.BLDOW	!		OWNERS PPN				!
	!-------------------------------------------------------!


	.BLDUN		7		UNIT(S) BLOCK

	!-------------------------------------------------------!
	!	n		!	.BLSUN			!
	!-------------------------------------------------------!
	!		SIXBIT UNIT NAME #1			!
	!-------------------------------------------------------!
	!	     SIXBIT HOME BLOCK NAME #1			!
	!-------------------------------------------------------!
	\			.				\
	\-------------------------------------------------------\
	\			.				\
	\-------------------------------------------------------\
	\			.				\
	\-------------------------------------------------------\
	!		SIXBIT UNIT NAME # n			!
	!-------------------------------------------------------!
	!	     SIXBIT HOME BLOCK NAME #n			!
	!-------------------------------------------------------!

						Page 244

                       MDA ACK MESSAGE (.QOACK)

This message is sent by the Tape Labeler to QUASAR to ACK certain
actions requested by QUASAR.


	!=======================================================!
.MSTYP	!	LENGTH		   !	.QOACK			!  
	!-------------------------------------------------------!
.MSCOD	!        USER SUPPLIED CODE USED FOR ACKING             !
	!-------------------------------------------------------!
.MSFLG	!NAK!			   !		Ack Type	!  
	!-------------------------------------------------------!
.OFLAG	!			0				!  
	!-------------------------------------------------------!
.OARGC	!		BLOCK COUNT				!  
	!-------------------------------------------------------!


The .MSFLG word contains the NAK bit (sign bit). If this bit is on,
the the message is a NAK.  The AK.TYP field describes what flavor of
ACK/NAK this message is.  In addition, the message may have some number
(0-n) of qualifier argument blocks tacked on.

                    The valid ACK/NAK flavors are:

	%MOUNT		1	MOUNT STRUCTURE ACK
	%DSMNT		2	DISMOUNT STRUCTURE ACK
	%CATLG		3	CATALOG REQUEST ACK (ONLY ON ERROR)
	%ADSTR		4	ADD STRUCTURE TO SEARCH LIST ACK
	%RMSTR		5	REMOVE STRUCTURE FROM A SEARCH LIST ACK
	%MNTNO		6	MOUNT STRUCTURE ACK (NO OWNER PPN)

                The allowable argument blocks follow:

		.RCTVS			VOLUME SET BLOCK

		.ACUFD			QUALIFIER FOR ADD-TO-SEARCH-LIST ACK
					INDICATES NO UFD CREATED ON STR
					
		.ACQTO			QUALIFIER FOR REMOVE-FROM-SEARCH-LIST
					NAK INDICATES USER IS OVER QUOTA BY N
					BLOCKS. N IS THE ARG.DA WORD OF THE 
					BLOCK

						Page 245

    ADD/REMOVE A STRUCTURE TO A USERS SEARCH LIST MESSAGE (.QOASL)

This message is sent to the tape labeler to add a structure to that
users search list. The flag bits are stored in .OFLAG.  The only block
defined for this message is .BLDSN

If bit ASL.RM is lit in .OFLAG, Then this is a request to remove the
structure from the users search list If bit ASL.RM is on, then ASL.NQ
may be lit indicating No quota check is to be performed.  This is lit
when MDA wants to take back a structure to keep deadlocks straight,
and can't be bothered with quota checks.

	!=======================================================!
.MSTYP	!	10		!	.QOASL			!  
	!-------------------------------------------------------!
.MSCOD	!        USER SUPPLIED CODE USED FOR ACKING             !
	!-------------------------------------------------------!
.MSFLG	!			0				!  
	!-------------------------------------------------------!
.OFLAG	!WL!NC!PS!SA!NQ!			!JOB NUMBER	!  
	!-------------------------------------------------------!

                         Decription of .OFLAG

	Symbol		Mask		Meaning			

	ASL.WL		1B0		Add structure 'Write Locked'
	ASL.NC		1B1		Add structure 'No Create'
	ASL.PS		1B2		Add structure 'Passive'
	ASL.SA		1B3		Add structure 'Single access'
	ASL.RM		1B4		Remove this STR from user search list
	ASL.NQ		1B5		If removing do not enforce quotas
	ASL.JB		777B35		User's job number

						Page 246

          DISMOUNT/DEALLOCATE A VOLUME SET MESSAGE (.QODVS)

This Message is sent by the user to dismount or deallocate a volume
set

	!=======================================================!
	\							\
	\		Standard Galaxy Msg Header		\
	\							\
	!-------------------------------------------------------!
.OFLAG	!		Message flags 				!
	!-------------------------------------------------------!
.OARGC	!		Block count 				!
	!_______________________________________________________!


                   The allowable message flags are:

	   MM.DLC		Remove from jobs allocation state


There are two blocks defined for this message, .RECDV (Device Name)
and .RCTVS (Volume Set Name).  Either type of block can be sent, but
not both. On Deallocate, if .RCTVS is sent, the volume set name is also
treated as a logical name. If the volume set name does not match for
this user, the first 6 characters are treated as a logical name and
this is usedfor a logical name search.


	.RECDV	3			DEFINE THE DEVICE NAME BLOCK TYPE

	!-------------------------------------------------------!
	!	2		!	.RECDV			!
	!-------------------------------------------------------!
.RECDN	!		SIXBIT DEVICE NAME			!
	!=======================================================!


	.RCTVS	12				ASCIZ Volume Set Name

	!-------------------------------------------------------!
	!	Length		!	.RCTVS			!
	!-------------------------------------------------------!
	\							\
.RCTAV	\		Volume Set Name in Asciz		\
	\							\
	!-------------------------------------------------------!



						Page 247

           .QOALC - PRESCAN A CONTROL FILE FOR ALLOCATIONS

This message is sent from QUASAR to the batch control file scanner
(currently BATCON) to extract the batch job's required mountable
device requirements before scheduling the stream This message is just
a NEXTJOB message with an EQ already built, and all of the requisite
FPs, and FDs attached In particular, the .EQRID field must be
supplied.
						Page 248

                 .QOPRM - RESPONSE TO .QOALC REQUEST

This message is sent from the batch control file scanner to QUASAR
after that process has performed pre-scanning of a control file for
mountable device requirements.

The contents of this message are identical to the .QOMNT message
except that the ME entries may have varying allocate/mount
requirements Also, there is a bit defined in .OFLAG which indicates
that there were no allocations found.  The batch control file scanner
extracts the Request ID from the EQ in the .QOALC message and places
it in the .QOPRM message (in OFLAG, actually) so that QUASAR can line
up the response with a waiting batch request.  

                   The bits defined in .OFLAG are:

	Symbol		Mask		Meaning

	PR.NON		1B0		No allocations found
	PR.RID		0,,-1		Request ID for identification
						Page 249

              .QOIDN - Tape Initialization Done message

This message is set by PULSAR to QUASAR when a tape initialization
sequence is finished.  The message tells QUASAR that the drive is now
available for use.

The message contains only one block. a .RECDV block which contains the
drive name which is finished.

						Page 250

              LPTSPL forms change message (.QOFCH (63) )


	!=======================================================!
	\							\
	\		Standard Galaxy Msg Header		\
	\							\
	!-------------------------------------------------------!
.OFLAG	!		New forms type in sixbit 		!
	!-------------------------------------------------------!
.OARGC	!		Block count = 1 			!
	!_______________________________________________________!

	!_______________________________________________________!
	!	OBJ.SZ		!	.OROBJ			!
	!_______________________________________________________!
	\							\
	\		OBJECT BLOCK				\
	!_______________________________________________________!


						Page 251

                  IBMCOM STATISTICE MESSAGE (.QOIBM)

	!=======================================================!
	\							\
	\		Standard Galaxy Msg Header		\
	\							\
	!-------------------------------------------------------!
	!		Statistics update code			!
	!-------------------------------------------------------!


                    Possible statistics codes are:

	%TINP	1	Termination batch requests   (CDRIVE)
	%TOUT	2	Termination printer requests (LPTSPL)
	%TCNI	3	Termination console input    (CDRIVE)
	%TCNO	4	Termination console output   (LPTSPL)
	%EINP	5	Emulation batch requests     (IBMSPL)
	%EOUT	6	Emulation printer requests   (IBMSPL)
	%ECNI	7	Emulation console input      (IBMSPL)
	%ECNO	8	Emulation console output     (IBMSPL)


						Page 252

                            REBUILD CODES

       A rebuild code is  stored in the  file index entry  for
       each request  in  the  master queue  file.   At  quasar
       initialization the correct routine  is called with  the
       entry based on the rebuild code.

	Symbol		Value		Meaning

	%RBBAT		   1		Batch Job (INP, LPT, PLT, ...)
	%RBDEL		   2		Deleted Files 

						Page 253

                       MTCON MOUNT STRUCTURES

               MOUNT REQUEST (SENT BY USER TO QUASAR)

	!=======================================================!  /+\
	\                                                       \   !
	\                  THE MESSAGE HEADER                   \   !
	\                                                       \   !
	!=======================================================!   !
.MMFLG	!        FLAGS THAT APPLY TO THE ENTIRE MESSAGE         !   !
	!-------------------------------------------------------!   LM
.MMNAM	!             SIXBIT NAME OF MOUNT REQUEST              !   !
	!-------------------------------------------------------!   !
.MMARC	!        MOUNT ENTRY COUNT (MUST BE 1 FOR RLS 4)        !   !
	!=======================================================!   !
	!                 -----  TOPS 10  -----                 !   !
	!                                                       !   !
	!-------------------------------------------------------!   !
.MMUSR	!                   SIXBIT USER NAME                    !   !
	!                       (2 WORDS)                       !   !
	!-------------------------------------------------------!   !
.MMUAS	!                                                       !   !
	\                  USER ACCOUNT STRING                  \   !
	\                       IN ASCIZ                        \   !
	\                      (10 WORDS)                       \   !
	!                                                       !   !
	!=======================================================!  \./


                   Description of flags for .MMFLG


	Symbol		Bit		Meaning

	MM.WAT		1B0		User is waiting for IPCF ACK
						when done.
	MM.NOT		1B1		User wants notification via TRMOP.
	MM.DLC		1B2		(DISMOUNT/DEALLOCATE ONLY) Deallocate,
						not dismount.
	MM.REM		1B3		(DISMOUNT/DEALLOCATE ONLY) /REMOVE 
						was typed.
	MM.GFR		1B4		Internal use only (message from 
						[SYSTEM]GOPHER).
						Page 254

                 MOUNT REQUESTS (WITHIN THE MESSAGE)

	!=======================================================!  /+\
.MEHDR	!     ENTRY LENGTH (LE)     !         TYPE CODE         !   !
	!-------------------------------------------------------!   !
.MEFLG	!                REQUEST-SPECIFIC FLAGS                 !   !
	!-------------------------------------------------------!   !
.MECNT	!                    SUBENTRY COUNT                     !   !
	!-------------------------------------------------------!   !
	!                     SUBENTRY # 1                      !   !
	!-------------------------------------------------------!   LE
	!                     SUBENTRY # 2                      !   !
	!-------------------------------------------------------!   !
	!                           .                           !   !
	!                           .                           !   !
	!                           .                           !   !
	!-------------------------------------------------------!   !
	!                     SUBENTRY # n                      !   !
	!=======================================================!  \./
                   Description of codes for .MEHDR


	Symbol		Value		Meaning

	.MNTTP		  1		Tape Mount Request Code
	.MNTST		  2		;Disk Mount Request Code
	.DSMST		  3		;Disk Dismount Request Code


             Description of format of a SUBENTRY header

	!-------------------------------------------------------!
ARG.HD	!    Length of Subentry     !     Type of Subentry      !
	!=======================================================!
ARG.DA  !                                                       !

	Symbol		Mask		Meaning

        AR.LEN		-1,,0           Length of Subentry
        AR.TYP		0,,-1           Type of Subentry
						Page 255

                      Tape Mount Request Blocks

	.MDINV		  0		Block Type 0 Is Invalid
	.TMDEN		  1		Mag Tape Density Code (.SJDXX)

	!-------------------------------------------------------!
	!	2		!	.TMDEN			!
	!-------------------------------------------------------!
	!		The Tape Density Code			!
	!-------------------------------------------------------!

	.TMDRV  	  2		Mag Tape Drive Type
	!-------------------------------------------------------!
	!	2		!	.TMDRV			!
	!-------------------------------------------------------!
	!		.TMDR9 or .TMDR7			!
	!-------------------------------------------------------!

	Symbol		Value		Drive Type

	.TMDR9		  1		Nine Track Drive
	.TMDR7		  2	 	Seven Track Drive
	.TMDMX		  2		?

	.TMLT		  3		Mag Tape Label Type
	!-------------------------------------------------------!
	!	2		!	.TMLT			!
	!-------------------------------------------------------!
	!	.LTUNL or .LTANS or .LTEBC or .LTT20		!
	!-------------------------------------------------------!

	.TMSET		  4		Mag Tape Set Name
	!-------------------------------------------------------!
	!	2		!	.TMSET			!
	!-------------------------------------------------------!
	!		sixbit Volume Set Name			!
	!-------------------------------------------------------!

	.TMRMK		  5		Asciz Remark for the Operator
	!-------------------------------------------------------!
	!	length		!	.TMRMK			!
	!-------------------------------------------------------!
	\							\
	\		An Asciz remark for the OPR		\
	\							\
	!-------------------------------------------------------!

	.TMSTV		  6		Mag Tape Starting Volume
	!-------------------------------------------------------!
	!	2 or 3		!	.TMSTV			!
	!-------------------------------------------------------!
	!		Index into Volume set if length = 2	!
	!-------------------------------------------------------!
	!	Sixbit volume Id (Length = 3 & word 2 = 0)	!
	!-------------------------------------------------------!
						Page 256


	.TMVOL		  7		Volume List
	!-------------------------------------------------------!
	!	Length		!				!
	!-------------------------------------------------------!
	\							\
	\		Sixbit list of volumes			\
	\							\
	!-------------------------------------------------------!

	.TMVPR		 10		Volume Protection code For new volumes
	!-------------------------------------------------------!
	!	2		!	.TMVPR			!
	!-------------------------------------------------------!
	!	0		!	Protection Code		!
	!-------------------------------------------------------!

	.TMINI		 11		Volume Initialization Parms
	!-------------------------------------------------------!
	!	2 or 3		!	.TMINI			!
	!-------------------------------------------------------!
	!		Tape Label Type				!
	!-------------------------------------------------------!
	!		User Number (Optional)			!
	!-------------------------------------------------------!

	.SMNAM		 12		Disk Structure Name in sixbit
	!-------------------------------------------------------!
	!	2		!	.SMNAM			!
	!-------------------------------------------------------!
	!		Sixbit Structure Name			!
	!-------------------------------------------------------!

	.SMALI		 13		Disk Structure Alias Name in sixbit
	!-------------------------------------------------------!
	!	2		!	.SMALI			!
	!-------------------------------------------------------!
	!		Sixbit Structure Alias			!
	!-------------------------------------------------------!

	.TMLNM		 14		Volume Set Logical Name
	!-------------------------------------------------------!
	!	2		!	.TMLNM			!
	!-------------------------------------------------------!
	!		The Logical Volume Set name		!
	!-------------------------------------------------------!

	%MDMAX		 14		Maximum block number allocated

	.TMEXP	15			VOLUME SET EXPIRATION DATE/TIME
	!-------------------------------------------------------!
	!	2		!	.TMEXP			!
	!-------------------------------------------------------!
	!		Expiration date time in UDT		!
	!-------------------------------------------------------!
						Page 257

                       .MEFLG BIT DEFINITIONS


       The following flags may be  present in the .MEFLG  word
       of a tape-mount request:

	Symbol		Bit		Meaning

	TM%SCR		 0      	Request to access temporary volume set.
		                		Implies TM%NEW, TM%NOV, TM%WEN
						TM%OSV is ignored if set
	TM%NEW		 1      	Creating new volume set.
					Implies TM%NOV, TM%WEN
	TM%VFY		 2      		Verify that user-supplied
						setname matches setname of
						volume(s)being mounted. 
						Meaningful for labeled tapes
						only.

	TM%OSV		 3      	Operator will be asked to key in list
						of volume identifiers.
	TM%WEN		 4      	Volume(s) must be mounted write-enabled
						If reset, must be mounted 
						write-protected.
	TM%BYP		 5      	If label-type is unlabeled, bypass any 
						label security checks.
	TM%NUL		 6      	Do not unload volumes at volume-switch 
						or when DISMOUNT TAPE command 
						given.
	SM%PAS		 7		Put structure in jobs passive
						search list.
	SM%EXC		 8		Request exclusive access
	SM%DEF		 9		Defer mounting (reserved)
	SM%NOC		 10		Don't allow creates on structure
	TM%WLK		 11		User requested Write Locked Volumes

	ME%ALC		 12		User requesting only allocation of
						these resources, not mount.

						Page 258

               IPCF MESSAGE SENT FROM QUASAR TO MTCON

	!=======================================================!
	!   MESSAGE LENGTH (512)    !   MESSAGE TYPE (.QOMNT)   !
	!-------------------------------------------------------!
	!           FLAGS           !       SIXBIT SUFFIX       !
	!-------------------------------------------------------!
	!                  ACKNOWLEDGMENT CODE                  !
	!=======================================================!
	!                                                       !
	\      UNMODIFIED USER IPCF MESSAGE (MINUS HEADER)      \
	!                                                       !
	!-------------------------------------------------------!
	!                                                       !
	\                           0                           \
	!                                                       !
	!-------------------------------------------------------!
.MMITN	!               INTERNAL TASK NAME (ITN)                !
	!-------------------------------------------------------!
.MMPID	!                      USER'S PID                       !
	!-------------------------------------------------------!
.MMUMS	!             SIZE OF USER'S MOUNT MESSAGE              !
	!-------------------------------------------------------!
.MMUCD	!         ACK CODE FROM USER'S MESSAGE HANDLER          !
	!-------------------------------------------------------!
.MMUNO	!                  USER'S USER NUMBER                   !
	!-------------------------------------------------------!
.MMCAP	!              USER'S ENABLED CAPABILITIES              !
	!-------------------------------------------------------!
.MMACT	!                                                       !
	\              USER'S ASCIZ ACCOUNT STRING              \
	!                                                       !
	!=======================================================!
						Page 259

                 RESPONSE TO USER TAPE MOUNT REQUEST

       After the user process has sent an IPCF message  to  QUASAR  to
       request  a  tape  mount, it will typically wait for a response,
       which will be sent when:

            1.  QUASAR finds an error while parsing and validating the
                user request;  the request is aborted.
            2.  MTCON encounters  a  problem  trying  to  satisfy  the
                request;  the request is aborted.
            3.  MTCON  mounts  the  first  volume   of   the   request
                successfully;   the  response  indicates  a successful
                mount.
       
       The mount response message sent by MTCON or QUASAR to the  user
       will have the following format:


	.QOMNA		 1		Tape Mount Request Answer


	!=======================================================!
	!      MESSAGE LENGTH       !   MESSAGE TYPE (.QOMNA)   !
	!-------------------------------------------------------!
	!           FLAGS           !       SIXBIT SUFFIX       !
	!-------------------------------------------------------!
	!     ACKNOWLEDGMENT CODE FROM USER'S MOUNT REQUEST     !
	!=======================================================!
	!                 FLAGS (NONE DEFINED)                  !
	!-------------------------------------------------------!
	!                      ENTRY COUNT                      !
	!-------------------------------------------------------!
	!                        ENTRY 1                        !
	!-------------------------------------------------------!
	!                           .                           !
	!                           .                           !
	!                           .                           !
	!-------------------------------------------------------!
	!                        ENTRY n                        !
	!=======================================================!
						Page 260

       Either of two responses is conveyed:

            1.  The request was completed successfully.  The  response
                contains one .MNRDV and one .MNRTX.

            2.  The request was aborted.  The  response  contains  one
                .MNREC and possibly one .MNRTX.
                 Response to User Tape Mount Request

       After the user process has sent an IPCF message  to  QUASAR  to
       request  a  tape  mount, it will typically wait for a response,
       which will be sent when:

            1.  QUASAR finds an error while parsing and validating the
                user request;  the request is aborted.
            2.  MTCON encounters  a  problem  trying  to  satisfy  the
                request;  the request is aborted.
            3.  MTCON  mounts  the  first  volume   of   the   request
                successfully;   the  response  indicates  a successful
                mount.
						Page 261
       
       The mount response message sent by MTCON or QUASAR to the  user
       will have the following format:


	.QOMNA		 1		Tape Mount Request Answer


	!=======================================================!
	!      MESSAGE LENGTH       !   MESSAGE TYPE (.QOMNA)   !
	!-------------------------------------------------------!
	!           FLAGS           !       SIXBIT SUFFIX       !
	!-------------------------------------------------------!
	!     ACKNOWLEDGMENT CODE FROM USER'S MOUNT REQUEST     !
	!=======================================================!
	!                 FLAGS (NONE DEFINED)                  !
	!-------------------------------------------------------!
	!                      ENTRY COUNT                      !
	!-------------------------------------------------------!
	!                        ENTRY 1                        !
	!-------------------------------------------------------!
	!                           .                           !
	!                           .                           !
	!                           .                           !
	!-------------------------------------------------------!
	!                        ENTRY n                        !
	!=======================================================!




       Either of two responses is conveyed:

            1.  The request was completed successfully.  The  response
                contains one .MNRDV and one .MNRTX.

            2.  The request was aborted.  The  response  contains  one
                .MNREC and possibly one .MNRTX.
                           MOUNT RESPONSES

          Mount response entry formats are described below:

	.MNREC		 2		Error Code

     !=======================================================!
     !        LENGTH (2)         !          .MNREC           !
     !-------------------------------------------------------!
     !             0             !    TOPS-20 ERROR CODE     !
     !=======================================================!

						Page 262

	.MNRDV		 1		Device block

     !=======================================================!
     !      LENGTH (2 OR 3)      !          .MNRDV           !
     !-------------------------------------------------------!
     !           VOLUME SET NAME OR STRUCTURE NAME           !
     !-------------------------------------------------------!
     !       MT DEVICE DESIGNATOR (TAPE REQUESTS ONLY)       !
     !=======================================================!

	.MNRTX 		 3		Asciz Text

	!=======================================================!
	!          LENGTH           !          .MNRTX           !
	!-------------------------------------------------------!
	!                                                       !
	\                      ASCIZ TEXT                       \
	!                                                       !
	!=======================================================!

	.MNSDV		 4		Sixbit Structure Alias

	!=======================================================!
	!	LENGTH		!	   .MNSDV		!
	!-------------------------------------------------------!
	!	SIXBIT STRUCTURE NAME				!
	!=======================================================!

	.MNRNM		 5		Sixbit Mount Request Name

	!=======================================================!
	!	LENGTH		1	   .MNRNM		!
	!-------------------------------------------------------!
	!	SIXBIT MOUNT REQUEST NAME			!
	!=======================================================!

						Page 263

                   RESPONSE TO USER CANCEL REQUEST

       MTCON will send the following  message to the user  PID
       to convey the actions taken  as a result of the  cancel
       request:

	=======================================================!
	!      MESSAGE LENGTH       !   MESSAGE TYPE (.QOMCA)   !
	!-------------------------------------------------------!
	!           FLAGS           !       SIXBIT SUFFIX       !
	!-------------------------------------------------------!
	!     ACKNOWLEDGMENT CODE FROM USER'S MOUNT REQUEST     !
	!=======================================================!
.OFLAG	!                 FLAGS (NONE DEFINED)                  !
	!-------------------------------------------------------!
.OARGC	!                   ENTRY COUNT                         !
	!=======================================================!
						Page 264

                   ABORT MSG FROM QUASAR TO MTCON


       This message is  sent by  QUASAR to MTCON  when a  user
       cancels 1 or more of his mount requests


	!=====================================================!
	!   MESSAGE LENGTH	!  MESSAGE TYPE (.QOMTA)      !
	!-----------------------------------------------------!
	!	FLAGS		!	SUFFIX		      !
	!-----------------------------------------------------!
	!	    ACKNOWLEDGEMENT CODE		      !
	!-----------------------------------------------------!
	!		FLAG WORD (NONE)		      !
	!-----------------------------------------------------!
	!		ARGUMENT COUNT			      !
	!-----------------------------------------------------!
	!    ENTRY LENGTH	!   ENTRY TYPE (.MTPID)       !
	!-----------------------------------------------------!
	!		    USERS PID			      !
	!-----------------------------------------------------!
	!    ENTRY LENGTH	!   ENTRY TYPE (.MTITN)	      !
	!-----------------------------------------------------!
	!		      ITN			      !
	!-----------------------------------------------------!
	!		      ITN		              !
	!-----------------------------------------------------!
	
	
                           ***NOTE WELL***

	At present, QUASAR sends MTCON REQUEST-IDs NOT ITNs.

                    THE MESSAGE BLOCK TYPES ARE:

	Symbol		Value		Meaning

	.MTPID		 1		Users Pid
	.MTITN		 2		A List of ITN's to Cancel

						Page 265

                RELEASE MESSAGE FROM MTCON TO QUASAR

	!=======================================================!
	!      MESSAGE LENGTH       !   MESSAGE TYPE (.QOREL)   !
	!-------------------------------------------------------!
	!           FLAGS           !       SIXBIT SUFFIX       !
	!-------------------------------------------------------!
	!                  ACKNOWLEDGMENT CODE                  !
	!=======================================================!
	!             INTERNAL TASK NAME OF REQUEST             !
	!=======================================================!

						Page 266

                   CHECKPOINT MESSAGE DEFINITIONS

       These define the offsets into  the CHE.IN block of  the
       tape/disk checkpoint message

        !-------------------------------------------------------!
.MTSTA  !             CHECKPOINT STATUS INFORMATION             !
        !-------------------------------------------------------!
.MTVOL  !             CHECKPOINT VOLUME INFORMATION             !
        !-------------------------------------------------------!
.MTTYP  !                CHECKPOINT VOLUME TYPE                 !
        !=======================================================!

                  Description of values for .MTVOL

	Symbol		Value		Meaning

	%VOLBL		  0		No Volume Present
	%VOLSC		  1		Scratch Volume. Word
						Page 267

              QUASAR TAPE MOUNT REQUEST QUEUE STRUCTURE
	!=======================================================!
.MRUSR	!		36 BIT USER ID				!
	!-------------------------------------------------------!
.MRNAM	/		ASCIZ USER NAME				/
	/							/
	!-------------------------------------------------------!
.MRJOB	!	FLAGS		!	USERS JOB NUMBER	!
	!-------------------------------------------------------!
.MRQEA	!               REQUESTS QE ADDRESS                     !
	!-------------------------------------------------------!
.MRNOD	!          NODE NAME WHERE USER IS LOCATED              !
	!-------------------------------------------------------!
.MRTTY	!          TTY DATA WHERE USER IS LOCATED               !
	!-------------------------------------------------------!
	/							/
.MRACT	/		USERS ASCIZ ACCOUNT STRING		/
	/							/
	!-------------------------------------------------------!
.MRPID	!		   USERS PID #				!
	!-------------------------------------------------------!
.MRFLG  !                FLAG BITS FOR THIS MDR                 !
        !-------------------------------------------------------!
.MRLOG  !                UNIVERSAL TIME OF LOGIN                !
        !-------------------------------------------------------!
.MRCNT	!      VOL SET COUNT    !     CURRENT VSL LINK CODE     !
	!-------------------------------------------------------!
.MRVSL	/							/
	/		POINTERS TO THE VOLUME			/
	/		     SET LISTS				/
	!-------------------------------------------------------!

                   Description of flags for .MRJOB

	Symbol		Mask		Meaning

	BA%JOB		400000          This is a Batch Allocation and the
						'Job Nbr' is a REQUEST-ID.

                   Description of flags for .MRTTY

	Symbol		Mask		Meaning
	
	MR.TRD		-1,,0		Terminal Designator
	MR.TNO		0,,-1		Line number

                   Description of flags for .MRFLG

	Symbol		Mask		Meaning

	MR.WAT		1B0		Sender is Waiting for IPCF ACK When
						done.
	MR.NOT		1B1		Sender Wants Notification by TRMOP.
	MR.ACK		1B2		Waiting for initial ACK.
	MR.GFR		1B3		Request created by UUO ([SYSEM]GOPHER).
	MR.QUE		77B35		Object type of the PSEUDO PROCESS 
						if needed.
						Page 268

                   VOLUME SET LIST (VSL) STRUCTURE

	!-------------------------------------------------------!
.VSMDR	!                    POINTER TO MDR                     !
	!-------------------------------------------------------!
.VSFLG	!                       FLAG WORD                       !
	!-------------------------------------------------------!
.VSATR	!         # TRACKS          !          DENSITY          !
	!-------------------------------------------------------!
.VSVSN	!                    VOLUME SET NAME                    !
	!-------------------------------------------------------!
.VSREM	/                                                       /
	/                 USER'S ASCIZ REMARKS                  /
	!-------------------------------------------------------!
.VSLNM	!                VOLUME SET LOGICAL NAME                !
	!-------------------------------------------------------!
.VSCVL	!       VOLUME COUNT        !       VOLUME OFFSET       !
	!-------------------------------------------------------!
.VSVOL	!                POINTERS TO VOLUME LIST                !
	!-------------------------------------------------------!

                   Description of flags for .VSFLG

	Symbol		Bit		Meaning

	VS.SCR		 1		This is a scratch volume set
	VS.NEW		 2		This is a New Volume Set
	VS.UAL		 3		User allocated this volume set.
	VS.OPR		 4		Opr Will Be Asked For Volume Set List
	VS.WLK		 5		0=Write Enabled, 1=Write Locked
	VS.REM		 6		User request to dismount the structure
	VS.TYP		7B9		Volume type

					  %TAPE  1	This is a Tape Mount
					  %DISK  2	This is a Structure 
							Mount Request
					  %DTAP  3	This is a Dectape
							Mount Request
					  %DSMT  4	This is a Dismount

	VS.LBT		17B13		Volume Label Type for Label Processing
	VS.VSW		 14		Volume Switch in Progress
	VS.ALC		 15		Volume set is in allocation state.
	VS.WAL		 16		Volume set is waiting for device 
						allocation.
	VS.CLM		 17		Resources for this VSL are claimed
	VS.PAS		 18		(DISK) put in passive half of 
						search list.
	VS.NOC		 19		(DISK) do not do creates on this STR
	VS.SIN		 20		(DISK) Single access
	VS.NMT		 21		Volume set mounted for a pseudo process
	VS.ABO		 22		Request cancelled by the operator
	VS.REL		 23		The user specified a reelid for this
						request.
	VS.CTL		 24		This request is part of pseudo process
						allocation.
						Page 269

                        Description of .VSATR

	Symbol		Mask		Meaning

	VS.DEN		7B20		Volume density status
	VS.TRK		7B23		Volume track status
	VS.RSN		77B29		Requested resources type
	VS.DDN		1B34		Density status is defaulted
	VS.DTK		1B35		Track status is defaulted


                        Description of .VSRID

	Symbol		Mask		Meaning

	VS.RID		-1,,0		Volume set REQUEST-ID
	VS.LNK		0,,-1		Volume set request link


                        Description of .VSTXT

	Symbol		Mask		Meaning

	VS.LEN		-1,,0		Text block length
	VS.ADR		0,,-1		Text block address


                        Description of .VSCVL

	Symbol		Mask		Meaning

	VS.OFF		0,,777000	Offest to the current volume
	VS.CNT		-1,,0		Volume count

						Page 270

                     VOLUME LIST STRUCTURE (VOL)

	!-------------------------------------------------------!
.VLNAM	!		SIXBIT VOLUME NAME			!
	!-------------------------------------------------------!
.VLVID	!         Internal VOLUME ID for structures             !
	!-------------------------------------------------------!
.VLIOD	!              Owner PPN or USER ID                     !
	!-------------------------------------------------------!
.VLMTM	!               VOLUME MOUNT TIME                       !
	!-------------------------------------------------------!
.VLFLG	!		VOLUME FLAG BITS			!
	!-------------------------------------------------------!
.VLLTM	!              VOLUME LOCK OR UNLOCK                    !
	!-------------------------------------------------------!
.VLOWN	!       MOUNT COUNT         !       OWNER OFFSET        !
	!-------------------------------------------------------!
.VLUCB	!		POINTER TO THE UCB			!
	!-------------------------------------------------------!
.VLPTR	!     BACKWARD,,FOWARD POINTERS TO MULTIPLE VOL STR     !
	!-------------------------------------------------------!
.VLSTR	!               VOLUME STRUCTURE NAME			!
	!-------------------------------------------------------!
.VLNXT	!          SIXBIT VOL NAME OF NEXT VOL IN STR           !
	!-------------------------------------------------------!
.VLVSL	/							/
	/		POINTER(S) TO THE VSL(S)                /
	/							/
	!=======================================================!
						Page 271

                  Description of fields for .VLFLG

	Symbol		Field		Meaning

	VL.STA		7B2		Volume Status

					  %STAWT  0	Volume is Waiting
					  %STAAB  1	Volume Use Has Been
							Aborted
	   				  %STAMN  2	Volume is Mounted
	     				  %STADM  3	Volume Is To Be
							Dismounted

	VL.SCR		1B3		Volume is a Scratch Volume
	VL.SHR		1B4		Volume is to be Shared (Disk Only)
	VL.DEN		7B7		Volume Density
	VL.LBT		17B11		Volume Label Type
	VL.LUN		7B14		Structure logical unit
	VL.REM		1B15		Remove the structure on dismount
	VL.LCK		3B17		Volume lock status

					   %UNLCK  0	Not locked
					   %LOCKD  1	Locked
					   %LOCKP  2	Unlocked, lock pending.
					   %UNLCKP 3	Locked, unlock pending.

	VL.RSN		777B35		Volume resource number.
	VL.FLG		-1,,777000	Flag area mask (not including RSN).

                        Description of .VLOWN

	Symbol		Mask		Meaning

	VL.CNT		-1,,0		Number of requestors for this volume


                        Description of .VLPTR

	Symbol		Mask		Meaning

	VL.PRV		-1,,0		Address of previous vol block in str.
	VL.NXT		0,,-1		Address of next volume block in str.

                        Description of .VLVSL

	Symbol		Bit		Meaning

	VL.ASN		0		Volume is assigned by a user.
	VL.ASK		1		Volume assignment was been requested
	VL.OWN		2		Volume was owned by the user at 
						some time.
						Page 272

                   UNIT CONTROL BLOCK STRUCTURE

	!===============================================================!
.UCBNM	!		    Device Name (Sixbit)			!
	!---------------------------------------------------------------!
.UCBST	!		    Device Status Bits				!
	!---------------------------------------------------------------!
.UCBCN	!		     User Mount Count				!
	!---------------------------------------------------------------!
.UCBVL	!		      Volume Pointer				!
	!---------------------------------------------------------------!
.UCBVS	!            POINTER TO VSL WHICH OWNS THIS UCB                 !
	!===============================================================!
                  Description of fields for .UCBST

	Symbol		Field		Meaning

	UC.SEL		1B0		Unit is selected
	UC.200		1B2		Device Supports 200 BPI
	UC.556		1B3		Device Supports 556 BPI
	UC.800		1B4		Device Supports 800 BPI
	UC.160		1B5		Device Supports 1600 BPI
	UC.625		1B6		Device Supports 6250 BPI
	UC.AVR		1B7		AVR Bit 1=Enabled
	UC.WLK		1B8		Unit Write Locked 1=Locked
	UC.OFL		1B9		Unit Is Offline 1=Offline
	UC.DVT		7B12		Unit Dev Type (%TAPE, %DISK, %DTAPE)
	UC.KTP		7B15		Unit Controller Type
	UC.AVA		1B16		Unit Is Available For Use By MDA
	UC.VSW		1B17		Ucb is in Volume Switch State
	UC.UTP		3B20		Unit type (depends on UC.KTP)
	UC.SHR		1B21		Unit can be shared
	UC.RSN		777B30		Unit resource number
	UC.SWP		1B31		Unit has swap space on it
	UC.INI		1B32		Unit is initializing
	UC.TRK		3B34		Track status 1=7TRK, 2=9TRK
					   %TRK7   1	Seven track
					   %TRK9   2	Nine track

                Device and resource type descriptions

	%UNKN		0	        This is an unknown mount request
	%ZER1		%UNKN   	This is a 'no level' resource
	%TAPE		1		This is a tape mount request
	%DISK		2		This is a structure mount request
	%DTAP		3		This is a dectape mount request
	%DSMT		4		This is a dismount request
	%STRC		5		This is a structure
	%TVOL	        6               This is a tape volume resource
	%DTVOL	        7               This is a dec-tape volume resource
	%HLR1		%STRC 		This is a higher level resource 
	%LLR1		%DISK           This is a lower level resource

						Page 273

              ALLOCATION AND DEADLOCK AVOIDANCE MATRICES

                           'A' Matrix entry

	!===============================================================!
.AMNAM	!                    RESOURCE NAME                              !
	!---------------------------------------------------------------!
.AMSTA	!             ENTRY STATUS BIS (SAME AS .UCBST)                 !
	!---------------------------------------------------------------!
.AMCNT	!                     ENTRY COUNTS                              !
	!---------------------------------------------------------------!
.AMDLK	!          SCRATCH WORD USED DURING COMPUTATIONS                !
	!===============================================================!

                        Description of .AMNAM
	
	Symbol		Mask		Meaning

	AM.USE		1B0		ASCIZ resource name address
	AM.PRM		1B1		Name string form permanent A matrix
	AM.PRR		1B2		Resource (structure) is 'permanent'
						and will never be removed.
	AM.NAM		0,,-1		Address of name string.

                        Description of .AMCNT

	Symbol		Mask		Meaning

	AM.AVA		7777B11		Count of units available
	AM.ALO		7777B23		Count of units allocated
	AM.CLM		7777B35		Count of units claimed (owned)

                   A few random A matrix constants

	Symbol		Value		Meaining

	MAXRES		3777		Maximum number of a resource available
	SGNBIT		4000		Sign bit for resource counts

						Page 274

                          'A' Matrix Header
	!=======================================================!
.AMHDR	!                 MATRIX HEADER				!
	!-------------------------------------------------------!
.AMSPR	!                SPARE HEADER WORDS                     !
	!=======================================================!

                        Description of .AMHDR
	
	Symbol		Mask		Meaning

	AM.LEN		-1,,0		Length in left half
	AM.CNT		777B35		Highest index currently in use
	AM.MCN		777B26		Number of slots in this matrix 

						Page 275

                           'B' & 'C' MATRIX


	!=======================================================!
.SMJOB	!       USERS JOB NUMBER 400000+RID FOR BATCH		!
	!-------------------------------------------------------!
.SMFLG	!                  ENTRY FLAG WORD                      !
	!-------------------------------------------------------!
.SMDLK	!         DEADLOCK FLAGS AND SEQUENCE NUMBERS           !
	!-------------------------------------------------------!
.SMRES	!         RESOURCE NUMBER OFFSET (WITH BASE 1)          !
	!=======================================================!

                        Description of .SMFLG

	Symbol		Mask		Meaning

	SM.IGN		400000,,0	Ignore this entry
	SM.CNT		0,,-1		Resource count

                        Description of .SMDLK

	Symbol		Mask		Meaning

	SM.PLY		1B0		This process has been played
	SM.DLK		1B1		This process is in deadlock
	SM.SEQ		0,,-1		If SM.PLY is on, position played
						into safe sequence

                        Description of .SMRES

	Symbol		Mask		Meaning

	SM.RSN		-1,,0		Resource number
	SM.CLM		0,,-1		Total claimed

						Page 276

                    REQUEST FOR MOUNT ATTRIBUTES

       This is a  request to  quasar (actually  MTCON) from  a
       user to  return attributes  of a  mounted device.   The
       message sent by the user  contains only the header  and
       the  device  designator.   QUASAR  adds  the  PID   and
       capabilities words and passes the message to mtcon, who
       then sends a reply to the user's PID.

	!=======================================================!
	!      MESSAGE LENGTH       !     MSG TYPE (.QOMAT)     !
	!-------------------------------------------------------!
	!                         FLAGS                         !
	!-------------------------------------------------------!
	!              USER'S ACKNOWLEDGMENT CODE               !
	!=======================================================!
.MATDV	!                   DEVICE DESIGNATOR                   !
	!-------------------------------------------------------!
.MATPD	!                      USER'S PID                       !
	!-------------------------------------------------------!
.MATCP	!     USER CAPABILITIES     !        USER JOB #         !
	!=======================================================!
						Page 277

              RESPONSE TO REQUEST FOR MOUNT ATTRIBUTES

	!=======================================================!
	!      MESSAGE LENGTH       !   MESSAGE TYPE (.QOMAR)   !
	!-------------------------------------------------------!
	!                         FLAGS                         !
	!-------------------------------------------------------!
	!              USER'S ACKNOWLEDGMENT CODE               !
	!=======================================================!
	!                 FLAGS (NONE DEFINED)                  !
	!-------------------------------------------------------!
	!                      ENTRY COUNT                      !
	!-------------------------------------------------------!
	!                        ENTRY 1                        !
	!-------------------------------------------------------!
	!                           .                           !
	!                           .                           !
	!                           .                           !
	!-------------------------------------------------------!
	!                        ENTRY n                        !
	!=======================================================!



	.QOMAR		 2		Tape Mount Attributes Answer


       Each entry consists of a 1-word header (length in  left
       half,   type   in   right   half)   followed   by   the
       entry-specific information. The  following entries  are
       returned for magtape devices:

	.TMVOL		  7		Volume List
	.TMSET		  4		Mag Tape Set Name
	.MATDD		 100		Designator of MT Device


						Page 278

          The ARCHIVE Message - Function 41 (sent by IPCC)

                            TOPS-20 ONLY


	!=======================================================!
ARC.HD  !                        Header                         !
	!-------------------------------------------------------!
ARC.FN  !            Function and reason for message            !
	!-------------------------------------------------------!
ARC.PR  !                           !    Protection of file     !
	!-------------------------------------------------------!
ARC.T1  !                      Tape ID #1                       !
        !-------------------------------------------------------!
ARC.N1  !                 Further tape #1 info                  !
        !-------------------------------------------------------!
ARC.T2  !                      Tape ID #2                       !
	!-------------------------------------------------------!
ARC.N2  !           Saveset and file nos. for tape #2           !
        !-------------------------------------------------------!
ARC.TT  !               TAD file written to tape                !
	!-------------------------------------------------------!
ARC.AS  !                    Account string                     !
        /                                                       /
        /                       10 Words                        /
        /                                                       /
        !                                                       !
        !-------------------------------------------------------!
ARC.FL  !                 File name begins here                 !
        !                                                       !

                  Description of fields for ARC.FN

	Symbol		Mask		Meaning

	AR.FNC		0,,-1		Function code
	AR.MOD		-1,,0		Function modifier (reason)

                   Description of field for ARC.PR

	AR.PRT		0,,-1		LH is unused


                  Description of fields for ARC.N1

	AR.TSN		-1,,0		Tape saveset number
	AR.TFN		0,,-1		Tape file number

						Page 279

                    Global Storage Within Quasar

	!=======================================================!
G$BEG	!                                                       !
G$ENT	!             ADDRESS OF CURRENT IPC ENTRY              !
	!-------------------------------------------------------!
G$SND	!            SENDER OF CURRENT REQUEST (PID)            !
	!-------------------------------------------------------!
G$SID	!              OWNER ID OF CURRENT SENDER               !
	!-------------------------------------------------------!
G$CDI	!             CONNECTED DIRECTORY OF SENDER             !
	!-------------------------------------------------------!
G$MCOD	!          TURN-AROUND CODE OF CURRENT MESSAGE          !
	!-------------------------------------------------------!
G$IDX	!                SENDER'S SPECIAL INDEX                 !
	!-------------------------------------------------------!
G$NOW	!          "NOW" IN INTERNAL DATE-TIME FORMAT           !
	!-------------------------------------------------------!
G$ERR	!          ERROR CODE FOR ACK'ING THIS REQUEST          !
	!-------------------------------------------------------!
G$QPID	!                     QUASAR'S PID                      !
	!-------------------------------------------------------!
G$MPID	!                 MDA'S PID (-10 ONLY)                  !
	!-------------------------------------------------------!
G$APID	!                 ACTDAE PID (-10 ONLY)                 !
	!-------------------------------------------------------!
G$OPR	!                      ORION'S PID                      !
	!-------------------------------------------------------!
G$NBW	!        NUMBER OF BLKS WRITTEN IN MASTER QUEUES        !
	!-------------------------------------------------------!
G$SPRT	!              PROTECTION OF SPOOLED FILES              !
	!-------------------------------------------------------!
G$PRVS	!            ENABLED PRIVS OF CURRENT SENDER            !
	!-------------------------------------------------------!
G$QUEU	!    CREATE GENERATION FLAG 0=CREATE, -1=NO CREATES     !
	!-------------------------------------------------------!
G$ACK	!          NON-ZERO IF CALLER WANTS A RESPONSE          !
	!-------------------------------------------------------!
G$MPS	!                 MAX IPCF PACKET SIZE                  !
	!-------------------------------------------------------!
G$MCOR	!                MINIMUM VALUE OF /CORE                 !
	!-------------------------------------------------------!
G$XCOR	!                MAXIMUM VALUE OF /CORE                 !
	!-------------------------------------------------------!
G$CNET	!          NETWORK CHANGE FLAG. -1=YES, 0=NO.           !
	!-------------------------------------------------------!
G$LOGN	!            -1 IF BATCH LOGINS ARE ALLOWED             !
	!-------------------------------------------------------!
G$KSYS	!                NUMBER OF SECS TO KSYS                 !
	!-------------------------------------------------------!
						Page 280

        !-------------------------------------------------------!
G$ITEM	!                     COUNTER ITEMS                     !
	/                                                       /
	/                     NITEMS Words                      /
        /                                                       /
        !                                                       !
	!-------------------------------------------------------!
G$WTIM	!                    TIME TO WAKEUP                     !
	!-------------------------------------------------------!
G$TXBP	!                BYTE POINTER FOR G$TEXT                !
	!-------------------------------------------------------!
G$SCHD	!                 FLAG FOR DOSCHD MACRO                 !
	!-------------------------------------------------------!
G$LNAM	!              LOCAL NODE NAME (IN SIXBIT)              !
	!-------------------------------------------------------!
G$LNBR	!                   LOCAL NODE NUMBER                   !
	!-------------------------------------------------------!
G$QOPR	!              OPERATOR QUEUE SEARCH FLAG.              !
	!-------------------------------------------------------!
G$NBAT	!   MAX NUMBER OF BATCH STREAMS WHICH CAN BE STARTED.   !
	!-------------------------------------------------------!
G$ACTV	!       ACCOUNT VALIDATION FLAG      0=NO, -1=YES       !
	!-------------------------------------------------------!
G$ACTS	!        ACCOUNT STRING BUFFER FOR IPCF MESSAGES        !
	/                                                       /
	/                      (10 Words)                       /
        /                                                       /
        !                                                       !
	!-------------------------------------------------------!
G$ACCT	!                ACCOUNT STRING ADDRESS                 !
	!-------------------------------------------------------!
G$LOCN	!           NODE FROM WHICH THE MESSAGE CAME            !
        !---------------                         ---------------!
        !                       Two Words                       !
	!-------------------------------------------------------!
G$RMTE	!      NODE FOR WHICH OPERATOR Q SEARCHS ARE MADE       !
	!-------------------------------------------------------!
G$NTFY	!    FILE ARCHIVING NOTIFICATION FLAG (0=NO,-1=YES)     !
	!-------------------------------------------------------!
G$BLKA	!              IPCF MESSAGE BLOCK ADDRESS               !
	!-------------------------------------------------------!
G$PLSR	!                     PULSAR'S PID                      !
	!-------------------------------------------------------!
G$SAB	!           AN SAB FOR SENDING IPCF MESSAGES            !
	!-------------------------------------------------------!
G$SPLD	!            QUEUE PPN OR SPOOLED DIRECTORY             !
	!-------------------------------------------------------!
G$OPRA	!                OPERATOR IS AVAILABLE                  !
	!-------------------------------------------------------!
G$EVENT	!                   EVENT QUEUE ID                      !
	!-------------------------------------------------------!
G$MAXJ	!      MAX NUMBER OF JOBS SUPPORTED IN THIS MONITOR     !
	!-------------------------------------------------------!
G$ACKB	!          BUFFER ADDRESS FOR ERROR MESSAGES            !
	!-------------------------------------------------------!
G$MSG	!            BUFFER FOR BUILDING MESSAGES               !
	!=======================================================!
						Page 281
				SPRINT

			ACCUMULATOR ASSIGMENTS

	  AC		Description

	B==13		Utility byte pointer
	Q==14		Index to queue parameter area
	F==15		Flag register
	C==16		Input/Output character

		FLAGS IN ACCUMULATOR F

	Symbol	       Bit	Description

	F.LOGF		24	Error while trying to output to LOG
	F.USFD		25	Job runs in a unique SFD
	F.SITG		26	Queue job for SITGO batch processing
	F.FATE		27	Aborting due to fatal error
	F.BTCH		28	Submit job to batch
	F.MAP		29	/MAP was specified
	F.EOF		30	EOF was detected on input file
	F.IFE		31	Error while reading input file
	F.NAME		32	A name supplied with /NAME
	F.ACCT		33	An account string was supplied with /ACCOUNT
	F.RSCN		34	Character input inhibit
	F.DOLR		35	He said /DOLLAR for this deck

		USEFUL SYMBOLS

	IWPC==^D27		Image words/cards
	BWPC==^D26		Binary words/cards
	CPC==^D80		Columns/card
	SMA==^D133		Maximum line width for ASCII files

		IMPORTANT ASCII CHARACTER IMAGES

	.IMDOL==2102		Dollar Sign
	.IM79==5		7-9 Punch

		SOME RANDOM SYMBOLS

	SLLEN==^D36*3		Length of a search list block
	PTLEN==12		Path extension to S/L block
	FIL.LN==3		Number of files to delete per line
						Page 282

                    AUXACC.SYS Table Definition

	!=======================================================!
.AUBEG	!            FIRST WORD, ALWAYS CONTAINS -1             !
        !-------------------------------------------------------!
.AUNUM	!               NUMBER OF WORDS FOLLOWING               !
	!-------------------------------------------------------!
.AUPPN	!               PROJECT-PROGRAMMER NUMBER               !
	!-------------------------------------------------------!
.AUSTR	!                    STRUCTURE NAME                     !
	!-------------------------------------------------------!
.AURSV	!                    RESERVED QUOTA                     !
	!-------------------------------------------------------!
.AUFCF	!                      FCFS QUOTA                       !
	!-------------------------------------------------------!
.AULGO	!                     LOGOUT QUOTA                      !
	!-------------------------------------------------------!
.AUSTS	!                      STATUS BITS                      !
	!=======================================================!

                  Description of fields for .AUSTS

	Symbol		Bit		Meaning

	AU.RON		 0		Read-Only
	AU.NOC		 1		No-Create

                      Low Segment Storage Cells

	!=======================================================!
L.PDL	!	PUSH DOWN LIST					!
	/	100 OCTAL WORDS					/
	/							/
	/							/
	!-------------------------------------------------------!
L.JOB	!	SPRINT JOB NUMBER				!
	!-------------------------------------------------------!
L.TTY	!	SPRINT NODE,,LINE				!
	!-------------------------------------------------------!
L.LIN	!	SPRINT LINE NUMBER				!
	!-------------------------------------------------------!
L.NODE	!	SPRINT NODE					!
	!-------------------------------------------------------!
L.CON	!	SPRINT CONNECT TIME IN SECONDS			!
	!-------------------------------------------------------!
L.CTI	!	SPRINT KILO-CORE-CENTI-SECONDS			!
	!-------------------------------------------------------!
L.DSR	!	SPRINT DISK READS				!
	!-------------------------------------------------------!
L.DSW	!	SPRINT DISK WRITES				!
	!-------------------------------------------------------!
L.PRIO	!	PRIORITY					!
	!-------------------------------------------------------!
						Page 283

		Low Segment Storage Cells (Continued)

The following locations are not zeroed or reset with each new job.

LOWBEG:
	!-------------------------------------------------------!
L.CASC	!	CURRENT CARD IN ASCII				!
 -or-	/							/
L.DMOD	/       33 OCTAL WORDS LONG				/
        /                                                       /
        !                                                       !
	!-------------------------------------------------------!
L.C026	!       CURRENT CARD IN 026				!
 -or-	/                                                       /
L.NMOD	/	33 OCTAL WORDS LONG				/
        /                                                       /
        !                                                       !
        !-------------------------------------------------------!
L.CLEN	!                 CARD LENGTH IN BYTES                  !
	!-------------------------------------------------------!
L.CSUP	!                SUPPRESSED CARD LENGTH                 !
	!-------------------------------------------------------!
L.BP	!	STORED BYTE POINTER FOR $TEXT			!
	!-------------------------------------------------------!
L.FUN	!           RANDOM (?) NUMBER FOR FUNNY NAMES           !
	!-------------------------------------------------------!
L.SYSN	!                        SYSNAM                         !
	/                                                       /
	/                 (L.SLEN == 40 Words)                  /
        !                                                       !
	!-------------------------------------------------------! 
L.FAB	!	"FILE ATTRIBUTE BLOCK"				!
        /                                                       /
	/	(FAB.SZ == 5  Words)				/
        !                                                       !
	!-------------------------------------------------------!
L.FOB	!	"FILE OPEN BLOCK"				!
	/							/
	/	(FOB.SZ == 7 WORDS)				/
	/							/
	!							!
	!-------------------------------------------------------!
L.SAB	!	"SEND ARGUMENT BLOCK"				!
	/							/
	/	(SAB.SZ == 5 WORDS)				/
	/							/
	!-------------------------------------------------------!
L.IFN	!                  IFN FOR INPUT FILE                   !
	!-------------------------------------------------------!
FNDJOB	!     SET UPON SUCCESSFULLY PROCESSING A $JOB CARD      !
	!-------------------------------------------------------!
CDRDEV	!                 PHYSICAL READER FLAG                  !
	!-------------------------------------------------------! 
CDRAIM	!	RECORDING MODE FLAG (SET WHEN AUGMENTED IMAGE CARD IMAGE)
	!-------------------------------------------------------!
NXTRDY	!	NEXT CARD READY FLAG				!
	!-------------------------------------------------------!

						Page 284

		Low Segment Storage Cells (Continued)

             Words remembered from the NEXTJOB Message.

	!=======================================================!
L.EQCP  !               COPY OF WHOLE NEXTJOB EQ                !
        /                                                       /
        /                    (EQXSIX Words)                     /
        !                                                       !
        !-------------------------------------------------------!
L.RDR	!                 THE READER SPECIFIER                  !
	!-------------------------------------------------------!
L.INF	!                  COPY OF .FPINF WORD                  !
	!-------------------------------------------------------!
L.DWID	!              CURRENT JOB'S DEFAULT WIDTH              !
	!-------------------------------------------------------!
        !                                                       !

                            TOPS-10 ONLY
        !                                                       !
        !-------------------------------------------------------!
L.SL1   !             SAVE MY S/L ON INITIALIZATION             !
        /                                                       /
        /                     (SLLEN Words)                     /
        !-------------------------------------------------------!
        !                 PATH BLOCK EXTENSION                  !
        /                                                       /
        /                     (PTLEN Words)                     /
        !-------------------------------------------------------!
L.SL2   !                 CURRENT S/L (USER'S)                  !
        /                                                       /
        /                     (SLLEN Words)                     /
        !-------------------------------------------------------!
        !                 PATH BLOCK EXTENSION                  !
        /                                                       /
        /                     (PTLEN Words)                     /
        !-------------------------------------------------------!

		Extended UUO Block TOPS-10 Only

	!-------------------------------------------------------!
ELBLOK	!	ARGUEMENT COUNT					!
	/							/
	/	(.RBDED + 1 WORDS)				/
	!-------------------------------------------------------!
L.DEXP	!	DIRECTORY EXPIRATION DATE			!
	!-------------------------------------------------------!
L.MFPP	!	MFD PPN						!
	!-------------------------------------------------------!
L.XIFN	!	IFN FOR AUXACC.SYS				!
	!-------------------------------------------------------!
L.QPPN	!	PPN FOR SPOOLER SPOOLER AREA			!
	!-------------------------------------------------------!
L.QUST	!	STRUCTURE NAME FOR SITGO JOB			!
	!-------------------------------------------------------!

		END TOPS-10 ONLY
						Page 285

		Low Segment Storage Cells (Continued)

The following locations are zeroed at the beginning of each job

        !-------------------------------------------------------!
L.SFNY	!	FUNNY NAME FOR SITGO JOB			!
        !-------------------------------------------------------!
L.BRK   !            LAST CHR FROM CARD WAS A BREAK             !
	!-------------------------------------------------------!

Note:	L.CHOL contains an appropriate byte pointer to the current card.
	Therefore the right-half contents is either L.CASC or L.C026.
	Note also that the initial default BP is stored in L.DHOL.

        !-------------------------------------------------------!
L.CHOL  !                 CURRENT CARD CODE BP                  !
        !-------------------------------------------------------!
L.DHOL  !                 DEFAULT CARD CODE BP                  !
        !-------------------------------------------------------!
L.DPCR  !                   $DUMP,,/CREF FLAG                   !
        !-------------------------------------------------------!
L.FBCT  !              LOAD NUMBER FOR FILE BLOCKS              !
        !-------------------------------------------------------!
L.FBLN  !              LIST NAME FOR CREATED FILES              !
        !-------------------------------------------------------!
L.IMGT  !                 IMAGE MODE TERMINATOR                 !
        !-------------------------------------------------------!
L.JLOG  !              JOB GOT LOGGED IN (SORT OF)              !
        !-------------------------------------------------------!
L.LGDS  !                 LOG FILE DISPOSITION                  !
        !-------------------------------------------------------!
L.LOAD  !           SET TO -1 ON $DATA OR $EXEC CARD            !
        !-------------------------------------------------------!
L.LSW   !                    THE LIST SWITCH                    !
        !-------------------------------------------------------!
L.MODE  !              ADDRESS OF STACKING ROUTINE              !
        !-------------------------------------------------------!
L.NHOL  !              NUMBER OF HOLLERITH ERRORS               !
        !-------------------------------------------------------!
TRLCRD  !      NUMBER OF HEADER/TRAILER CARDS PASSED OVER       !
        !-------------------------------------------------------!
L.TFLG  !    [-1] IF LAST CARD READ WAS HEADER/TRAILER TYPE     !
        !-------------------------------------------------------!
L.QFN   !             USER SPECIFIED ARG TO /QUEUE:             !
        !-------------------------------------------------------!
L.SPRS  !                 SUPPRESS FLAG (0=OFF)                 !
        !-------------------------------------------------------!
L.SRH   !                FLAG FOR /SEARCH SWITCH                !
        !-------------------------------------------------------!
L.SWCH  !                NAME OF CURRENT SWITCH                 !
        !-------------------------------------------------------!
L.TCHK  !             TOTAL NUMBER OF CHKSUM ERRORS             !
        !-------------------------------------------------------!
L.THOL  !             TOTAL NUMBER OF HOLLER ERRORS             !
        !-------------------------------------------------------!
L.TIBC  !           TOTAL NUMBER OF ILLEGAL BIN CARDS           !
        !-------------------------------------------------------!

						Page 286

		Low Segment Storage Cells (Continued)

	!-------------------------------------------------------!
L.UCHK  !            NUMBER OF CHKSUM ERRORS ALLOWED            !
        !-------------------------------------------------------!
L.UHOL  !            NUMBER HOLLERITH ERRORS ALLOWED            !
        !-------------------------------------------------------!
L.UIBC  !            NUMBER OF ILL BIN CARDS ALLOWED            !
        !-------------------------------------------------------!
L.WIDT  !                 CARD WIDTH PARAMETER                  !
        !-------------------------------------------------------!
L.SEQ   !            TMP STORAGE FOR SEQUENCE NUMBER            !
        !-------------------------------------------------------!
L.USER  !               STORAGE FOR /USER: SWITCH               !
        /                                                       /
        /                       (8 Words)                       /
        !-------------------------------------------------------!
L.PPN   !               STORAGE FOR /PPN: SWITCH                !
        !-------------------------------------------------------!
REVDSP  !                 $TOPS10/20 FLAG WORD                  !
        !-------------------------------------------------------!
SYSIDP  !           SYSTEM INDEPENDENT JOB CARD FLAG            !
        !-------------------------------------------------------!
NOPSW   !                     PASSWORD FLAG                     !
        !-------------------------------------------------------!
LABADR  !               ROOM FOR TEMPORARY LABEL                !
        /                                                       /
        /                      (10 Words)                       /
        !-------------------------------------------------------!


                            TOPS-10 ONLY

        !                                                       !
        !-------------------------------------------------------!
L.CCHK  !               CHECKSUM FROM BINARY CARD               !
        !-------------------------------------------------------!
L.UFIN  !                  UFD INTERLOCK BLOCK                  !
        /                                                       /
        /                       (3 Words)                       /
        !                                                       !
        !-------------------------------------------------------!
	!							!

						Page 287

		Low Segment Storage Cells (Continued)

                            TOPS-20 ONLY
        !                                                       !
        !-------------------------------------------------------!
L.USNO  !                      USER NUMBER                      !
        !-------------------------------------------------------!
L.UDIN  !                   GTDIR INFORMATION                   !
        /                                                       /
        /                      (20 Words)                       /
        !-------------------------------------------------------!
L.UDIR  !                 USER DIRECTORY STRING                 !
        /                                                       /
        /                      (14 Words)                       /
        !-------------------------------------------------------!
L.UPSW  !                USER SPECIFIED PASSWORD                !
        /                                                       /
        /                      (10 Words)                       /
        !-------------------------------------------------------!
L.DPSW  !            ACTUAL PASSWORD FROM DIRECTORY             !
        /                                                       /
        /                      (10 Words)                       /
        !-------------------------------------------------------!
L.SPDT	!	PLACE TO KEEP SPOOLED GENERATION COUNT		!
	!-------------------------------------------------------!
	!							!
                      BOTH TOPS-10 AND TOPS-20
        !                                                       !
        !-------------------------------------------------------!
L.DTM   !                        DAYTIME                        !
        !-------------------------------------------------------!
L.RTM   !                        RUNTIME                        !
        !-------------------------------------------------------!
	!							!

Used by ASCIZ string scanner

	!							!
	!-------------------------------------------------------!
L.TNAM	!	ROOM FOR CONTROL CARD NAME			!
        !-------------------------------------------------------!
	!							!

These locations are filled by the Date/Time scanner

	!-------------------------------------------------------!
L.HRS   !                         HOURS                         !
        !-------------------------------------------------------!
L.MIN	!                        MINUTES                        !
        !-------------------------------------------------------!
L.SEC	!                        SECONDS                        !
        !-------------------------------------------------------!
L.DAY	!                          DAY                          !
        !-------------------------------------------------------!
L.MON	!                         MONTH                         !
        !-------------------------------------------------------!
L.YRS	!                         YEAR                          !
        !-------------------------------------------------------!
						Page 288

		Low Segment Storage Cells (Continued)

	!-------------------------------------------------------!
CDRCNT	!            NUMBER OF CARDS READ - THIS JOB            !
        !-------------------------------------------------------!
DEKCRD	!           NUMBER OF CARDS READ - THIS DECK            !
        !-------------------------------------------------------!
FILFD	!                   FD FOR USER FILE                    !
        /                                                       /
        /                    (FDXSIZ Words)                     /
        !                                                       !
        !-------------------------------------------------------!
FILIFN	!                  IFN FOR OUTPUT FILE                  !
        !-------------------------------------------------------!
FILOPN	!                 -1 IF A FILE IS OPEN                  !
        !-------------------------------------------------------!
FILSPC	!              -1 IF USER TYPED A FILESPEC              !
        !-------------------------------------------------------!
	!                                                       !

                            TOPS-20 ONLY

        !-------------------------------------------------------!
FILRFD	!                 BLOCK FOR REL FILE FD                 !
        /                                                       /
        /                    (FDXSIZ Words)                     /
        !                                                       !
        !-------------------------------------------------------!
	!							!
                      BOTH TOPS-10 AND TOPS-20

	!							!
	!-------------------------------------------------------!
CLFFD	!           BLOCK TO BUILD FD FOR LOG AND CTL           !
        /                                                       /
        /                    (FDXSIZ Words)                     /
        !                                                       !
        !-------------------------------------------------------!
CTLIFN	!                   IFN FOR CTL FILE                    !
        !-------------------------------------------------------!
LOGIFN	!                   IFN FOR LOG FILE                    !
        !-------------------------------------------------------!
LOGPAG	!                LOG BUFFER PAGE ADDRESS                !
        !-------------------------------------------------------!
LOGCNT	!             COUNT OF BYTES LEFT IN BUFFER             !
        !-------------------------------------------------------!
LOGPTR	!              BYTE POINTER TO LOG BUFFER               !
        !-------------------------------------------------------!
JOBCRD	!                   ROOM FOR JOB CARD                   !
        /                                                       /
        /                    (SMA/5+1 Words)                    /
        /                                                       /
        !                                                       !
        !-------------------------------------------------------!

						Page 289

		Low Segment Storage Cells (Continued)

	Storage for Job Text and Status Update Message

	TXTSIZ==^D100

        !-------------------------------------------------------!
L.JPTR	!	BYTE POINTER					!
	!-------------------------------------------------------!
L.JCNT	!	CHARACTER COUNT					!
	!-------------------------------------------------------!
L.JTXT	!	JOB TEXT					!
	/							/
	/	(<TXTSIZ/5>+1 Words)				/
	/							/
	!-------------------------------------------------------!
L.STSM	!	STATUS UPDATE BLOCK				!
	/							/
	/	(CHE.SZ Words)					/
	/							/
	!-------------------------------------------------------!
						Page 290

                               SPROUT

                         Job Parameter Area

J$$BEG	!                                                       !
        !-------------------------------------------------------!

                           REQUEST PARAMETERS

	!                                                       !
	!-------------------------------------------------------!
J$RFLN	!              NUMBER OF FILES IN REQUEST               !    
	!-------------------------------------------------------!
J$RLIM  !                  JOB LIMIT IN PAGES                   !
	!-------------------------------------------------------!
J$RTIM  !                   START TIME OF JOB                   !
	!-------------------------------------------------------!
J$RNFP	!               NUMBER OF FILES processed               !    
	!-------------------------------------------------------!
J$RNCP	!           NUMBER OF COPIES OF CURRENT FILE            !       
	!-------------------------------------------------------!
J$RNPP	!            NUMBER OF PAGES IN CURRNET FILE            !       
	!-------------------------------------------------------!
J$RACS	!                      CONTEXT ACS                      !
        /                                                       /
        /                      (20 Words)                       /
	!                                                       !
	!-------------------------------------------------------!
J$RPDL	!                 CONTEXT PUSHDOWN LIST                 !  
        /                                                       /
        /                    (PDSIZE Words)                     /
        !                                                       !
	!-------------------------------------------------------!
	!                                                       !

                           DEV PARAMETERS
	!                                                       !
	!-------------------------------------------------------!
J$LBUF	!                 ADDRESS OF DEV BUFFER                 !  
	!-------------------------------------------------------!
J$LBRH	!                  BUFFER RING HEADER                   !
	!-------------------------------------------------------!
J$LBPT	!                  BUFFER BYTE POINTER                  ! 
	!-------------------------------------------------------!
J$LBCT	!                   BUFFER BYTE COUNT                   !
	!-------------------------------------------------------!
J$TBCT	!              TOTAL BYTE COUNT FOR DEVICE              !     
	!-------------------------------------------------------!
J$LIOA	!             -1 IF WE ARE IN A SOUT OR OUT             !      
	!-------------------------------------------------------!
J$LREM	!             -1 IF WE ARE A REMOTE DEVICE              !     
	!-------------------------------------------------------!
J$LSER	!          ADDRESS OF DEVICE SERVICE DISPATCH           !        
	!-------------------------------------------------------!
	!                                                       !
						Page 291
                            TOPS-10 ONLY

	!                                                       !
	!-------------------------------------------------------!
J$LJFN	!               DEV I/O CHANNEL (OR JFN)                !   
	!-------------------------------------------------------!
J$LDEV	!                 DEVICE NAME (SIXBIT)                  ! 
	!-------------------------------------------------------!
J$LIOS	!                     DEVICE STATUS                     !
	!---------------                         ---------------!
        !                      (Two Words)                      !
	!-------------------------------------------------------!
J$LIOE	!                  -1 IF DEVICE ERROR                   !
	!-------------------------------------------------------!
	!                                                       !

                            TOPS-20 ONLY

	!                                                       !
	!-------------------------------------------------------!
J$LJFN	!                    JFN FOR THE DEV                    !
	!-------------------------------------------------------!
J$LDEV	!                  DEVICE NAME STRING                   !
	!---------------                         ---------------!
        !                      (Two Words)                      !
	!-------------------------------------------------------!
J$LIOS	!                     DEVICE STATUS                     !
	!---------------                         ---------------!
        !                      (Two Words)                      !
	!-------------------------------------------------------!
J$LIOE	!                  -1 IF DEVICE ERROR                   !
	!-------------------------------------------------------!
J$LIBP	!                 INITIAL BYTE POINTER                  ! 
	!-------------------------------------------------------!
J$LIBC	!            INITIAL BYTE COUNT FOR BUFFERS             !      
	!-------------------------------------------------------!
	!                                                       !
						Page 292
                      CURRENT FORMS PARAMETERS

	!                                                       !
	!-------------------------------------------------------!
J$FIFN	!              TEMPORARY IFN FOR FORM FILE              !     
	!-------------------------------------------------------!
J$FORM	!                  CURRENT FORMS TYPE                   !
	!-------------------------------------------------------!
J$FPFM	!                  PREVIOUS FORMS TYPE                  ! 
	!-------------------------------------------------------!
J$FMSP	!              FORMS WTO/WTOR PAGE ADDRESS              !     
	!-------------------------------------------------------!
J$FPLT	!                FORMS TYPE FOR PLOTTER                 !  
	!-------------------------------------------------------!
	!                                                       !

                      Both TOPS-10 AND TOPS-20

	!                                                       !
	!-------------------------------------------------------!
J$XFOB	!                   A FILE OPEN BLOCK                   !
	/                                                       /
        /                    (FOB.SZ Words)                     /
	!                                                       !
	!-------------------------------------------------------!
J$XTBF	!            $TEXT BUFFER FOR OUTPUT DEVICE             !      
        /                                                       /
	/                    (TXT$LN Words)                     /
	!                                                       !
	!-------------------------------------------------------!
J$XERR	!            $TEXT BUFFER FOR ERROR MESSAGES            !       
	/                                                       /
	/                    (ERR$LN Words)                     /
	!                                                       !
	!-------------------------------------------------------!

                        CARD PUNCH VARIABLES

	!-------------------------------------------------------!
J$XCD1	!           1 SCRATCH LOCATION FOR CDP OUTPUT           !        
	!-------------------------------------------------------!
J$CMSK	!          SPECIAL MASK FOR BLOCK CARD LETTERS          !         
	!-------------------------------------------------------!
J$XCHB	!                    CHECKSUM BLOCK                     !
	/                                                       /
	/                      (40 Words)                       /
	!                                                       !
	!-------------------------------------------------------!

						Page 293
                          PLOTTER VARIABLES

	!                                                       !
	!-------------------------------------------------------!
J$XPOS	!             CURRENT PLOTTER X COORDINATE              !     
	!-------------------------------------------------------!
J$XLIM	!             HIGHEST XSTEP SEEN THIS PLOT              !     
	!-------------------------------------------------------!
J$XMIN	!                X MINIMUM POINT IN FORM                !   
	!-------------------------------------------------------!
J$XORG	!                   X ORIGIN IN FORM                    !
	!-------------------------------------------------------!
J$XMAX	!                X MAXIMUM POINT IN FORM                !   
	!-------------------------------------------------------!
J$XSIZ	!               NUMBER OF X STEPS IN FORM               !    
	!-------------------------------------------------------!
J$YPOS	!             CURRENT PLOTTER Y COORDINATE              !     
	!-------------------------------------------------------!
J$YLIM	!             HIGHEST YSTEP SEEN THIS PLOT              !     
	!-------------------------------------------------------!
J$YMIN	!                MINIMUM Y POINT IN FORM                !   
	!-------------------------------------------------------!
J$YORG	!                   Y ORIGIN IN FORM                    !
	!-------------------------------------------------------!
J$YMAX	!            MAXIMUM ALLOWABLE Y COORDINATE             !      
	!-------------------------------------------------------!
J$YSIZ	!               NUMBER OF Y STEPS IN FORM               !    
	!-------------------------------------------------------!
J$ORGF	!             -1 IF ORIGIN NEED TO BE RESET             !      
	!-------------------------------------------------------!
J$ROTA	!                  GRID ROTATION (0-3)                  ! 
	!-------------------------------------------------------!
J$PPOS	!             PEN POSITION (UP 0  DOWN -1)              !     
	!-------------------------------------------------------!
J$CSIZ	!                    CHARACTER SIZE                     !
	!-------------------------------------------------------!
J$GSIZ	!                      GUIDE SIZE                       !
	!-------------------------------------------------------!
J$XBAS	!                   CHARACTER X BASE                    !
	!-------------------------------------------------------!
J$YBAS	!                   CHARACTER Y BASE                    !
	!-------------------------------------------------------!
J$FUDG	!                 CHARACTER WIDTH FUDG                  ! 
	!-------------------------------------------------------!
J$SPTR	!          POINTER TO CHARACTER SEGMENT BYTES           !        
	!-------------------------------------------------------!
J$STEP	!           STEP FUNCTION DETERMINES MOVEMENT           !        
	!-------------------------------------------------------!
	!                                                       !
						Page 294
                          ACCOUNTING BLOCK

	!                                                       !
	!-------------------------------------------------------!
J$APRT	!               NUMBER OF PAGES processed               !    
	!-------------------------------------------------------!
J$ADRD	!                   DISK BLOCKS READ.                   !
	!-------------------------------------------------------!
J$APRI	!                     JOBS PRIORITY                     !
	!-------------------------------------------------------!
J$ARTM	!                  JOBS RUN TIME (CPU)                  ! 
	!-------------------------------------------------------!
J$ASEQ	!                 JOBS SEQUENCE NUMBER                  ! 
	!-------------------------------------------------------!
J$AFXC	!         TOTAL FILES processed (FILES*COPIES)          !         
	!-------------------------------------------------------!
J$ADSP	!                 DISPOSITION (SIXBIT)                  ! 
	!-------------------------------------------------------!
J$AQUE	!                  QUEUE NAME (SIXBIT)                  ! 
	!-------------------------------------------------------!

                        DISK FILE PARAMETERS

	!                                                       !
	!-------------------------------------------------------!
J$DIFN	!                        THE IFN                        !
	!-------------------------------------------------------!
J$DFDA	!                    THE FD ADDRESS                     !
	!-------------------------------------------------------!
J$DBPT	!                  BUFFER BYTE POINTER                  ! 
	!-------------------------------------------------------!
J$DBCT	!                   BUFFER BYTE COUNT                   !
	!-------------------------------------------------------!
J$DBSZ	!                    INPUT BYTE SIZE                    !
	!-------------------------------------------------------!
J$DMOD	!                 I/O MODE OF DISK FILE                 !  
	!-------------------------------------------------------!
J$DSPN	!               SPOOLED FILE NAME IF ANY                !   
	!-------------------------------------------------------!
J$$END	!                 END OF PARAMETER AREA                 !  
	!=======================================================!
						Page 295
                        Resident JOB Data Base

	!=======================================================!
STREAM  !-1 WHILE IN STREAM CONTEXT!   CURRENT STREAM NUMBER    !
	!-------------------------------------------------------!
JOBPAG  !        Address of Request, Job Params, Buffer         !
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !-------------------------------------------------------!
JOBOBA	!            TABLE OF OBJECT BLOCK ADDRESSES            !       
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !-------------------------------------------------------!
JOBSTW	!                    JOB STATUS WORD                    !
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !-------------------------------------------------------!
JOBACT	!          -1 IF STREAM IS ACTIVE, 0 OTHERWISE          !
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !-------------------------------------------------------!
JOBOBJ	!                 LIST OF SETUP OBJECTS                 !  
        /                                                       /
        /                    3*NSTRMS Words                     /
        !                                                       !
        !-------------------------------------------------------!
JOBWAC	!        WTOR ACK CODE (TIME SETUP WAS RECIEVED)        !           
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !-------------------------------------------------------!
JOBCHK	!              -1 IF CHECKPOINT REQUESTED               !
        /                                                       /
        /                     NSTRMS Words                      /
        !                                                       !
        !=======================================================!
